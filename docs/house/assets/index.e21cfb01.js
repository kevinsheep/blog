import{d as e,P as t,S as i,A as n,a,W as s,O as o,C as d,c as r,b as l,t as c,F as h,L as w,w as p,p as u,e as m,f as g,o as D,g as v}from"./vendor.34018c3b.js";let R,f,P,b,A,C;const W={1702:[25,50,-25],LiDAR:[300,600,-300]},x=e({data:()=>({loading:"",currentDae:"",cameraPos:[]}),methods:{init(){R=this.$refs.threeRef,P=new t(25,window.innerWidth/window.innerHeight,1,1e3),P.lookAt(0,3,0),b=new i,this.loadDae("LiDAR");const e=new n(16777215,.3);b.add(e);const d=new a(16777215,.8);b.add(P),P.add(d),A=new s({antialias:!0}),A.setPixelRatio(window.devicePixelRatio),A.setSize(window.innerWidth,window.innerHeight),R.appendChild(A.domElement),f=new o(P,A.domElement),f.screenSpacePanning=!0,f.minDistance=10,f.maxDistance=800,f.target.set(0,2,0),f.update(),window.addEventListener("resize",this.onWindowResize)},render(){if(P.position){const{x:e,y:t,z:i}=P.position;this.cameraPos=[Math.ceil(e),Math.ceil(t),Math.ceil(i)]}A.render(b,P)},onWindowResize(){const e=window.innerWidth/window.innerHeight;P.aspect=e,P.updateProjectionMatrix(),A.setSize(window.innerWidth,window.innerHeight),this.render()},animate(){requestAnimationFrame(this.animate),this.render()},loadDae(e){if(this.currentDae===e)return;b.remove(C);const t=new w((function(){b.add(C)}));new d(t).load(`/house/${e}.dae`,(e=>{C=e.scene}),(e=>{const t=e.loaded/e.total;this.loading=1===t?"Completed loading":Math.ceil(1e4*t)/100+"% loaded"})),this.currentDae=e,f&&f.reset(),P.position.set(...W[e])},reset(){f.reset()}},mounted(){this.init(),this.animate()}}),z=p();u("data-v-a8e70b8a");const L={ref:"threeRef"},S={class:"tips"},k={class:"tools"},M=l("p",{class:"highlight"},[m("手机屏可单指旋转，双指拖动 / 缩放 "),l("br"),m("PC鼠标左键旋转，按住「Shift」键拖动，滚轮缩放")],-1);g();const y=z(((e,t,i,n,a,s)=>(D(),r(h,null,[l("div",L,null,512),l("div",S,[l("div",k,[l("input",{type:"button",value:"LiDAR",onClick:t[1]||(t[1]=t=>e.loadDae("LiDAR"))}),l("input",{type:"button",value:"SkechUp",onClick:t[2]||(t[2]=t=>e.loadDae("1702"))}),l("input",{type:"button",value:"Reset",onClick:t[3]||(t[3]=(...t)=>e.reset&&e.reset(...t))})]),M,l("p",null,c(e.loading),1),l("p",null,"camera position: "+c(e.cameraPos),1)])],64))));x.render=y,x.__scopeId="data-v-a8e70b8a";v({expose:[],setup:e=>(e,t)=>(D(),r(x))}).mount("#app");
