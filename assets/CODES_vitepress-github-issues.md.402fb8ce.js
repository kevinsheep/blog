import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.7c19ea01.js";const p="/assets/docs/OAuthApp.png",o="/assets/docs/user_auth.png",m=JSON.parse('{"title":"GitHub åº”ç”¨å®ç°åšå®¢è¯„è®º","description":"","frontmatter":{"title":"GitHub åº”ç”¨å®ç°åšå®¢è¯„è®º","updateTime":"2023/01/24","tags":"å‰ç«¯|åç«¯"},"headers":[],"relativePath":"CODES/vitepress-github-issues.md","filePath":"CODES/vitepress-github-issues.md","lastUpdated":1698628246000}'),e={name:"CODES/vitepress-github-issues.md"},t=l('<p>ä»¥ä¸‹å†…å®¹ç³»åŸºäº VitePress + GitHub Issuesï¼Œå®ç° GitHub Pages é™æ€åšå®¢çš„æ–‡ç« è¯„è®ºã€‚æœ¬æ–‡æˆ–è®¸æ˜¯ä½ èƒ½æœç´¢åˆ°çš„ï¼Œæ­¤åº”ç”¨åœºæ™¯ä¸‹æœ€è¯¦ç»†çš„æŒ‡å¼•ï¼ˆå½“ç„¶ï¼Œæœ‰å¯èƒ½æ˜¯æˆ‘æ²¡ç”¨åŠ›æœç´¢ï¼‰ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Giteeï¼Œå¯å‚è€ƒæœ¬æ–‡çš„å…³è”æ–‡ç« ã€ŒåŸºäº Gitee å®ç°åšå®¢è¯„è®ºã€ã€‚</p><h2 id="åˆ›å»ºåº”ç”¨" tabindex="-1">åˆ›å»ºåº”ç”¨ <a class="header-anchor" href="#åˆ›å»ºåº”ç”¨" aria-label="Permalink to &quot;åˆ›å»ºåº”ç”¨&quot;">â€‹</a></h2><p>é¦–å…ˆï¼Œåˆ° GitHub å¼€å‘è®¾ç½®ä¸­ï¼Œåˆ›å»ºåº”ç”¨ã€‚æœ¬åšå®¢è¯„è®ºä½¿ç”¨çš„æ˜¯ GitHub Appsã€‚</p><p>å…¶ä¸­ï¼Œå¸¸è§„é€‰é¡¹å¡ï¼Œå¯è·å–åˆ° <code>client_id</code> å’Œ <code>client_secret</code>ï¼Œè°ƒç”¨æˆæƒæ¥å£æ—¶ä¼šç”¨åˆ°ï¼›æƒé™å’Œäº‹ä»¶ï¼Œå¯è®¾ç½®æˆæƒèŒƒå›´ï¼Œæ³¨æ„å‹¾é€‰ Issues è¯»å†™æƒé™ï¼Œç„¶å Metadata ä¹Ÿä¼šè‡ªåŠ¨é€‰ä¸Šã€‚</p><p><img src="'+p+`" alt="OAuthApp"></p><h2 id="åµŒå…¥è¯„è®ºç»„ä»¶" tabindex="-1">åµŒå…¥è¯„è®ºç»„ä»¶ <a class="header-anchor" href="#åµŒå…¥è¯„è®ºç»„ä»¶" aria-label="Permalink to &quot;åµŒå…¥è¯„è®ºç»„ä»¶&quot;">â€‹</a></h2><p>åœ¨åšå®¢ä¸­æ‰¾ä¸€å— VitePress é¢„ç½®çš„ <code>slot</code> ç”¨äºè¯„è®ºæ˜¾ç¤ºã€‚è¯„è®ºåŒºä¸€èˆ¬åœ¨æ­£æ–‡ä¹‹åï¼Œå³ <code>#doc-after</code>ã€‚è¿™ä¸€æ­¥å¾ˆå®¹æ˜“ï¼ŒåŸºäº VitePress çš„å¸ƒå±€æ’æ§½è‡ªå®šä¹‰åŠŸèƒ½ã€‚æ–‡æ¡£å‚è§ <a href="https://vitepress.vuejs.org/guide/theme-introduction#layout-slots" target="_blank" rel="noreferrer">layout-slots</a>ã€‚</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">import Issue from &#39;./Issue.vue&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#FDAEB7;font-style:italic;">Layout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;"> #</span><span style="color:#B392F0;">doc-after</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#FDAEB7;font-style:italic;">Issue</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#FDAEB7;font-style:italic;">Layout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#24292E;">import Issue from &#39;./Issue.vue&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#B31D28;font-style:italic;">Layout</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;"> #</span><span style="color:#6F42C1;">doc-after</span><span style="color:#24292E;">&gt;</span></span>
<span class="line highlighted"><span style="color:#24292E;">            &lt;</span><span style="color:#B31D28;font-style:italic;">Issue</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#B31D28;font-style:italic;">Layout</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ç”¨æˆ·æˆæƒå¹¶è·å–æˆæƒç " tabindex="-1">ç”¨æˆ·æˆæƒå¹¶è·å–æˆæƒç  <a class="header-anchor" href="#ç”¨æˆ·æˆæƒå¹¶è·å–æˆæƒç " aria-label="Permalink to &quot;ç”¨æˆ·æˆæƒå¹¶è·å–æˆæƒç &quot;">â€‹</a></h2><p>éœ€è¦æå‰åœ¨ GitHub å¼€å‘è®¾ç½®ä¸­ï¼ŒæŒ‡å®šæˆæƒåè¿”å›åœ°å€çš„ç™½åå•ã€‚</p><p><img src="`+o+`" alt="user_auth"></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ç”±äºè¯„è®ºæ˜¯ç”¨äºåšå®¢æ–‡æ¡£é¡µé¢ï¼Œé‚£ä¸å¯èƒ½é€ä¸€æŒ‡å®šã€‚æˆ‘å»ºç«‹äº†ä¸€ä¸ª <code>login.md</code> ä½œä¸ºä¸­è½¬é¡µï¼Œè¿™æ ·ä¸€æ¥ï¼Œåˆ†åˆ«æŒ‡å®šç”Ÿäº§ç¯å¢ƒä»¥åŠæœ¬åœ°è°ƒè¯•ç¯å¢ƒä¸¤ä¸ªåœ°å€å³å¯ã€‚</p></div><p>ç„¶åï¼Œåœ¨åšå®¢ä¸­ï¼Œå¦‚æœç”¨æˆ·æœªç™»å½•ï¼Œé‚£ä¹ˆè®©ç”¨æˆ·ç‚¹å‡»è®¿é—®æˆæƒé“¾æ¥ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">client_id</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;client_id&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">redirect_uri</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;redirect_uri&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line highlighted"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">link_uri</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`https://github.com/login/oauth/authorize?client_id=\${</span><span style="color:#E1E4E8;">client_id</span><span style="color:#9ECBFF;">}&amp;redirect_uri=\${</span><span style="color:#E1E4E8;">redirect_uri</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">client_id</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;client_id&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">redirect_uri</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;redirect_uri&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line highlighted"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">link_uri</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`https://github.com/login/oauth/authorize?client_id=\${</span><span style="color:#24292E;">client_id</span><span style="color:#032F62;">}&amp;redirect_uri=\${</span><span style="color:#24292E;">redirect_uri</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç”¨ GitHub å¼€å‘è®¾ç½®ä¸­çš„æ•°æ®æ›¿æ¢ä¸Šé¢é“¾æ¥çš„å¯¹åº”å†…å®¹å³å¯ã€‚å½“ç„¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±å¼€å‘çš„éœ€è¦ï¼Œå°è£…æˆä¸€ä¸ªä¸“é—¨çš„æ–¹æ³•ã€‚</p><h2 id="è·å–-token" tabindex="-1">è·å– token <a class="header-anchor" href="#è·å–-token" aria-label="Permalink to &quot;è·å– token&quot;">â€‹</a></h2><p>æ‹¿åˆ°æˆæƒç åï¼Œå‘ä¸€ä¸ª<code>POST</code>è¯·æ±‚åˆ° <a href="https://github.com/login/oauth/access_token" target="_blank" rel="noreferrer">https://github.com/login/oauth/access_token</a> ã€‚</p><p>è¿™æœ¬æ¥ä¹Ÿå¾ˆç®€å•ï¼Œä½† github.com ä¸èƒ½ç›´æ¥å‰ç«¯è·¨åŸŸè¯·æ±‚ï¼Œè¿™å¯èƒ½æå‡äº†ä¸€ä¸¢ä¸¢çš„å®‰å…¨æ€§ï¼Œä½†å¯¹å‰ç«¯å¼€å‘äººå‘˜å°±å¾ˆä¸å‹å¥½äº†ã€‚</p><p>è¿˜å¥½ç°åœ¨å‰ç«¯ç”¨ NodeJS ä»€ä¹ˆçš„æä¸ªç®€å•çš„åç«¯åº”ç”¨ä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾äº‹ã€‚</p><p>å…³é”®æ˜¯ï¼Œé¦–å…ˆå¾—æœ‰ä¸ªæœåŠ¡å™¨ã€‚ç„¶è€Œé—®é¢˜åˆæ¥äº†ï¼Œç”¨ GitHub Pages åšåšå®¢ï¼Œä¸å°±æ˜¯ä¸ºäº†ç™½å«–å…è´¹èµ„æºï¼Œä¸ç”¨è‡ªå·±æŠ˜è…¾æœåŠ¡å™¨çš„ä¹ˆï¼Ÿä¸»è¦æ˜¯æœåŠ¡å™¨ä¹Ÿä¸ä¾¿å®œï¼Œä¸ºäº†æ”¾ä¸€ä¸ªè®¿é—®é‡å¹¶ä¸é«˜çš„æŠ€æœ¯åšå®¢æŒºæµªè´¹çš„ã€‚ğŸ˜</p><p>ç½‘ä¸Šä»‹ç» GitHub Apps çš„ï¼Œä¼¼ä¹è¯¦ç»†å†™è¿™éƒ¨åˆ†çš„ä¹Ÿä¸å¤šã€‚</p><p>è¨€å½’æ­£ä¼ ï¼Œè¯´è¯´æˆ‘è‡ªå·±çš„æ–¹æ¡ˆã€‚</p><p>åˆšå¥½æˆ‘æœ‰è‡ªå·±çš„æœåŠ¡å™¨ã€‚<a href="https://www.eggjs.org/" target="_blank" rel="noreferrer">eggjs</a> æ­èµ·æ¥ï¼Œéƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-SyKKl" id="tab-wjjZRmz" checked="checked"><label for="tab-wjjZRmz">router</label><input type="radio" name="group-SyKKl" id="tab-3Fngwmi"><label for="tab-3Fngwmi">controller</label><input type="radio" name="group-SyKKl" id="tab-pnlghl0"><label for="tab-pnlghl0">service</label></div><div class="blocks"><div class="language-javascript vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// ~/router.js</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">app</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">controller</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> app;</span></span>
<span class="line"><span style="color:#E1E4E8;">  router.</span><span style="color:#B392F0;">post</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;/&#39;</span><span style="color:#E1E4E8;">, controller.home.index);</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// ~/router.js</span></span>
<span class="line"><span style="color:#005CC5;">module</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">exports</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">app</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">router</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">controller</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> app;</span></span>
<span class="line"><span style="color:#24292E;">  router.</span><span style="color:#6F42C1;">post</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;/&#39;</span><span style="color:#24292E;">, controller.home.index);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// ~/controller/home.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">Controller</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;egg&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HomeController</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Controller</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">index</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">service</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">request</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.ctx;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">code</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">state</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> request.body;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> service.github.</span><span style="color:#B392F0;">token</span><span style="color:#E1E4E8;">(code, state);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.ctx.body </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> res;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> HomeController;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// ~/controller/home.js</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">Controller</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;egg&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HomeController</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Controller</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">index</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">service</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">request</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ctx;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">code</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">state</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> request.body;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> service.github.</span><span style="color:#6F42C1;">token</span><span style="color:#24292E;">(code, state);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ctx.body </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">module</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">exports</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> HomeController;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// ~/service/github.js</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">Service</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;egg&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NewsService</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Service</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">token</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">code</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">state</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">refresh_token</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">grant_type</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">base_url</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">client_id</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">client_secret</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">redirect_uri</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.config;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> url </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`login/oauth/access_token?state=\${</span><span style="color:#E1E4E8;">state</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    url </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`&amp;client_id=\${</span><span style="color:#E1E4E8;">client_id</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    url </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`&amp;client_secret=\${</span><span style="color:#E1E4E8;">client_secret</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å·ä¸ªæ‡’ï¼Œæ‰€æœ‰å‚æ•°ä¸€é”…ç‚–</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// åŒæ—¶æ»¡è¶³ token å’Œ refresh_token çš„éœ€è¦</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (code) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      url </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`&amp;code=\${</span><span style="color:#E1E4E8;">code</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (refresh_token) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      url </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`&amp;refresh_token=\${</span><span style="color:#E1E4E8;">refresh_token</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (grant_type) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      url </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`&amp;grant_type=\${</span><span style="color:#E1E4E8;">grant_type</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.ctx.</span><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`\${</span><span style="color:#E1E4E8;">base_url</span><span style="color:#9ECBFF;">}\${</span><span style="color:#E1E4E8;">url</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">      params: { redirect_uri },</span></span>
<span class="line"><span style="color:#E1E4E8;">      data: { clientID: client_id, clientSecret: client_secret, code },</span></span>
<span class="line"><span style="color:#E1E4E8;">      dataType: </span><span style="color:#9ECBFF;">&#39;json&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      method: </span><span style="color:#9ECBFF;">&#39;post&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> data;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> NewsService;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// ~/service/github.js</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">Service</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;egg&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NewsService</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Service</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">token</span><span style="color:#24292E;">(</span><span style="color:#E36209;">code</span><span style="color:#24292E;">, </span><span style="color:#E36209;">state</span><span style="color:#24292E;">, </span><span style="color:#E36209;">refresh_token</span><span style="color:#24292E;">, </span><span style="color:#E36209;">grant_type</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">base_url</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">client_id</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">client_secret</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">redirect_uri</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.config;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> url </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`login/oauth/access_token?state=\${</span><span style="color:#24292E;">state</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    url </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`&amp;client_id=\${</span><span style="color:#24292E;">client_id</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    url </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`&amp;client_secret=\${</span><span style="color:#24292E;">client_secret</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// å·ä¸ªæ‡’ï¼Œæ‰€æœ‰å‚æ•°ä¸€é”…ç‚–</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// åŒæ—¶æ»¡è¶³ token å’Œ refresh_token çš„éœ€è¦</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (code) {</span></span>
<span class="line"><span style="color:#24292E;">      url </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`&amp;code=\${</span><span style="color:#24292E;">code</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (refresh_token) {</span></span>
<span class="line"><span style="color:#24292E;">      url </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`&amp;refresh_token=\${</span><span style="color:#24292E;">refresh_token</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (grant_type) {</span></span>
<span class="line"><span style="color:#24292E;">      url </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`&amp;grant_type=\${</span><span style="color:#24292E;">grant_type</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ctx.</span><span style="color:#6F42C1;">curl</span><span style="color:#24292E;">(</span><span style="color:#032F62;">\`\${</span><span style="color:#24292E;">base_url</span><span style="color:#032F62;">}\${</span><span style="color:#24292E;">url</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">      params: { redirect_uri },</span></span>
<span class="line"><span style="color:#24292E;">      data: { clientID: client_id, clientSecret: client_secret, code },</span></span>
<span class="line"><span style="color:#24292E;">      dataType: </span><span style="color:#032F62;">&#39;json&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      method: </span><span style="color:#032F62;">&#39;post&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> data;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#005CC5;">module</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">exports</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> NewsService;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div></div></div><p>æ¥ä¸‹æ¥çš„å·¥ä½œï¼Œåˆå›åˆ°å‰ç«¯ç†Ÿæ‚‰çš„é¢†åŸŸäº†ã€‚åœ¨åšå®¢é¡µé¢è¯·æ±‚ eggjs åº”ç”¨æ‰€åœ¨çš„æœåŠ¡å™¨ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// ~/.vitepress/uitls</span></span>
<span class="line"><span style="color:#6A737D;">// è·å–æ–¹æ³•ï¼Œç¨å°è£…ä¸€ä¸‹æ›´å¥½ç”¨</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getAccessToken</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">code</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ­¤å¤„æ¢æˆçœŸå®çš„åœ°å€</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">url</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;eggHost&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è¿™é‡Œä½¿ç”¨ axios æ¥è¯·æ±‚ï¼Œæ‹¦æˆªå™¨è®¾ç½®ä»ç•¥</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">axiosService</span><span style="color:#E1E4E8;">({ method: </span><span style="color:#9ECBFF;">&#39;post&#39;</span><span style="color:#E1E4E8;">, url, data: { code } });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ...çœç•¥ token æœ¬åœ°æŒä¹…åŒ–çš„é€»è¾‘</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> res.data;</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// ~/.vitepress/uitls</span></span>
<span class="line"><span style="color:#6A737D;">// è·å–æ–¹æ³•ï¼Œç¨å°è£…ä¸€ä¸‹æ›´å¥½ç”¨</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getAccessToken</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">code</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// æ­¤å¤„æ¢æˆçœŸå®çš„åœ°å€</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">url</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;eggHost&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// è¿™é‡Œä½¿ç”¨ axios æ¥è¯·æ±‚ï¼Œæ‹¦æˆªå™¨è®¾ç½®ä»ç•¥</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">axiosService</span><span style="color:#24292E;">({ method: </span><span style="color:#032F62;">&#39;post&#39;</span><span style="color:#24292E;">, url, data: { code } });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ...çœç•¥ token æœ¬åœ°æŒä¹…åŒ–çš„é€»è¾‘</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> res.data;</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ä»¥ä¸Šåªæ˜¯åŸºæœ¬é€»è¾‘ã€‚å®é™…çš„åº”ç”¨ï¼Œè¿˜éœ€è¦åŠ å…¥é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œtoken è¿‡æœŸçš„åˆ·æ–°æœºåˆ¶ç­‰ã€‚</p><div class="info custom-block"><p class="custom-block-title">INFO</p><blockquote><p>access token expires in 8 hours and the refresh token expires in 6 months</p></blockquote><p><code>access token</code> 8å°æ—¶è¿‡æœŸï¼Œ<code>refresh token</code> 6ä¸ªæœˆè¿‡æœŸ</p></div><h2 id="ç™»å½•ä¸­è½¬é¡µ" tabindex="-1">ç™»å½•ä¸­è½¬é¡µ <a class="header-anchor" href="#ç™»å½•ä¸­è½¬é¡µ" aria-label="Permalink to &quot;ç™»å½•ä¸­è½¬é¡µ&quot;">â€‹</a></h2><p>å‰æ–‡å…³äº<a href="#ç”¨æˆ·æˆæƒå¹¶è·å–æˆæƒç ">ç”¨æˆ·æˆæƒå¹¶è·å–æˆæƒç </a>çš„è¯´æ˜ä¸­ï¼Œæåˆ°çš„ä¸­è½¬é¡µï¼Œå…¶ä½œç”¨æœ‰äºŒï¼š</p><ol><li>å‡å°‘ GitHub å¼€å‘è®¾ç½®ä¸­ï¼Œå›è°ƒåœ°å€çš„é…ç½®æ•°é‡ï¼ŒæŒ‡å‘å…·ä½“çš„æ–‡ç« é¡µï¼›</li><li>è¡”æ¥è·å–æˆæƒç åŠ token çš„è¿‡ç¨‹ã€‚</li></ol><p>ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRouter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vitepress&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { onBeforeMount } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { getUrlParam, getAccessToken, REDIRECT_KEY, getLS } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;.vitepress/utils&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">onBeforeMount</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> code </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getUrlParam</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;code&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è‹¥åœ°å€æºå¸¦äº†ç”¨æˆ·æˆæƒç  code</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (code) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getAccessToken</span><span style="color:#E1E4E8;">(code);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è·å–Localstorageä¸­ä¿å­˜çš„å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">pathname</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getLS</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">REDIRECT_KEY</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è·³è½¬åˆ°å¯¹åº”çš„é¡µé¢</span></span>
<span class="line"><span style="color:#E1E4E8;">    router.</span><span style="color:#B392F0;">go</span><span style="color:#E1E4E8;">(pathname.</span><span style="color:#B392F0;">substring</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, pathname.</span><span style="color:#B392F0;">lastIndexOf</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;.&#39;</span><span style="color:#E1E4E8;">)));</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRouter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vitepress&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { onBeforeMount } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { getUrlParam, getAccessToken, REDIRECT_KEY, getLS } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;.vitepress/utils&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">router</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">onBeforeMount</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> code </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getUrlParam</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;code&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// è‹¥åœ°å€æºå¸¦äº†ç”¨æˆ·æˆæƒç  code</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (code) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getAccessToken</span><span style="color:#24292E;">(code);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// è·å–Localstorageä¸­ä¿å­˜çš„å€¼</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">pathname</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getLS</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">REDIRECT_KEY</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// è·³è½¬åˆ°å¯¹åº”çš„é¡µé¢</span></span>
<span class="line"><span style="color:#24292E;">    router.</span><span style="color:#6F42C1;">go</span><span style="color:#24292E;">(pathname.</span><span style="color:#6F42C1;">substring</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, pathname.</span><span style="color:#6F42C1;">lastIndexOf</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;.&#39;</span><span style="color:#24292E;">)));</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="è·å–æ•°æ®" tabindex="-1">è·å–æ•°æ® <a class="header-anchor" href="#è·å–æ•°æ®" aria-label="Permalink to &quot;è·å–æ•°æ®&quot;">â€‹</a></h2><p>æ‹¿åˆ° token å°±å¥½åŠäº†ï¼Œç„¶åå°±å¯ä»¥è·å– Issues çš„ç›¸å…³æ•°æ®ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€æ ‡é¢˜ã€è¯„è®ºï¼Œä¹Ÿå¯ä»¥è®©ç”¨æˆ·æ·»åŠ æ–°çš„è¯„è®ºã€‚</p><p>ä»¥è·å– Issues ä¸ºä¾‹ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// è·å–æ‰€æœ‰ã€æŸæ¡ issue</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">OWNER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;ä½ çš„GitHubç”¨æˆ·å&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">REPO</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;ä½ çš„åšå®¢ä»“åº“ç›®å½•&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getIssue</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">number</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">url</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`/repos/\${</span><span style="color:#79B8FF;">OWNER</span><span style="color:#9ECBFF;">}/\${</span><span style="color:#79B8FF;">REPO</span><span style="color:#9ECBFF;">}/issues\${</span><span style="color:#E1E4E8;">number</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">?</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">&#39;/&#39;</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">number</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">:</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">&#39;&#39;}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">axiosService</span><span style="color:#E1E4E8;">({ url, method: </span><span style="color:#9ECBFF;">&#39;get&#39;</span><span style="color:#E1E4E8;">, params: {} });</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// è·å–æ‰€æœ‰ã€æŸæ¡ issue</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">OWNER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;ä½ çš„GitHubç”¨æˆ·å&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">REPO</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;ä½ çš„åšå®¢ä»“åº“ç›®å½•&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getIssue</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">number</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">url</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`/repos/\${</span><span style="color:#005CC5;">OWNER</span><span style="color:#032F62;">}/\${</span><span style="color:#005CC5;">REPO</span><span style="color:#032F62;">}/issues\${</span><span style="color:#24292E;">number</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">?</span><span style="color:#032F62;"> </span><span style="color:#032F62;">&#39;/&#39;</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#24292E;">number</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">:</span><span style="color:#032F62;"> </span><span style="color:#032F62;">&#39;&#39;}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">axiosService</span><span style="color:#24292E;">({ url, method: </span><span style="color:#032F62;">&#39;get&#39;</span><span style="color:#24292E;">, params: {} });</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="issuesã€è¯„è®ºå±•ç¤º" tabindex="-1">Issuesã€è¯„è®ºå±•ç¤º <a class="header-anchor" href="#issuesã€è¯„è®ºå±•ç¤º" aria-label="Permalink to &quot;Issuesã€è¯„è®ºå±•ç¤º&quot;">â€‹</a></h2><p>å†…å®¹éœ€è¦æ”¯æŒ markdown æ ¼å¼ï¼Œå¼•å…¥ <code>markdown-it</code>ã€‚</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> MarkdownIt </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;markdown-it&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">md</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MarkdownIt</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ci</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> []; </span><span style="color:#6A737D;">// çœç•¥è·å– Issues åˆ—è¡¨çš„é€»è¾‘</span></span>
<span class="line"><span style="color:#E1E4E8;">ci.c_list </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> data.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> ({</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">item,</span></span>
<span class="line"><span style="color:#E1E4E8;">    body: md.</span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">(item.body),</span></span>
<span class="line"><span style="color:#E1E4E8;">}));</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> MarkdownIt </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;markdown-it&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">md</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MarkdownIt</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ci</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> []; </span><span style="color:#6A737D;">// çœç•¥è·å– Issues åˆ—è¡¨çš„é€»è¾‘</span></span>
<span class="line"><span style="color:#24292E;">ci.c_list </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> data.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> ({</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">...</span><span style="color:#24292E;">item,</span></span>
<span class="line"><span style="color:#24292E;">    body: md.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">(item.body),</span></span>
<span class="line"><span style="color:#24292E;">}));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å…¶å®ƒæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œç›´æ¥è´´ä¼ªä»£ç ï¼š</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">if</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ci &amp;&amp; ci.length&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;cell&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-if</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ci.body&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;meta&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#6A737D;">&lt;!--æ˜¾ç¤º Issue åˆ›å»ºè€…å¤´åƒã€ç”¨æˆ·åã€æ—¥æœŸç­‰ä¿¡æ¯--&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;md-preview&quot;</span><span style="color:#E1E4E8;">&gt;{{ ci.body }}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;reply&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;cell&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-for</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;c in ci.c_list&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:key</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;c.id&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;meta&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#6A737D;">&lt;!--æ˜¾ç¤ºè¯„è®ºå¤´åƒã€ç”¨æˆ·åã€æ—¥æœŸç­‰ä¿¡æ¯--&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;md-preview&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-html</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;c.body&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">if</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ci &amp;&amp; ci.length&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;cell&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-if</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ci.body&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;meta&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6A737D;">&lt;!--æ˜¾ç¤º Issue åˆ›å»ºè€…å¤´åƒã€ç”¨æˆ·åã€æ—¥æœŸç­‰ä¿¡æ¯--&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;md-preview&quot;</span><span style="color:#24292E;">&gt;{{ ci.body }}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;reply&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;cell&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-for</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;c in ci.c_list&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:key</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;c.id&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;meta&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6A737D;">&lt;!--æ˜¾ç¤ºè¯„è®ºå¤´åƒã€ç”¨æˆ·åã€æ—¥æœŸç­‰ä¿¡æ¯--&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;md-preview&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-html</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;c.body&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="è¯„è®ºå‘è¡¨" tabindex="-1">è¯„è®ºå‘è¡¨ <a class="header-anchor" href="#è¯„è®ºå‘è¡¨" aria-label="Permalink to &quot;è¯„è®ºå‘è¡¨&quot;">â€‹</a></h2><p>åŸæœ¬æ‰“ç®—ä½¿ç”¨å¾®è½¯å¼€æºçš„ <code>monaco-editor</code>ï¼Œé¡µé¢äº¤äº’å…¨å†™å¥½äº†ï¼Œå‡†å¤‡å‘å¸ƒæ—¶ï¼Œæ‰å‘ç°åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œ<a href="https://github.com/vitejs/vite/discussions/1791" target="_blank" rel="noreferrer">Vite çš„æ”¯æŒä¸å¥½æ</a>ï¼Œå¹²è„†æ¢æˆ <a href="https://github.com/Vanessa219/vditor" target="_blank" rel="noreferrer">vditor</a>ï¼Œæ„å¤–çš„å¥½ç”¨ã€‚</p><h2 id="å…¶å®ƒç»†èŠ‚" tabindex="-1">å…¶å®ƒç»†èŠ‚ <a class="header-anchor" href="#å…¶å®ƒç»†èŠ‚" aria-label="Permalink to &quot;å…¶å®ƒç»†èŠ‚&quot;">â€‹</a></h2><p>VitePress æ˜¯åŸºäº Node.js æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°†æºæ–‡ä»¶é¢„ç¼–è¯‘ä¸º html+js çš„é™æ€å†…å®¹ï¼Œæ‰€ä»¥ï¼Œå¦‚æœé¡µé¢ä¸­æœ‰ä½¿ç”¨ æµè§ˆå™¨/DOM ç›¸å…³çš„ APIï¼Œåˆ™éœ€è¦ä½œ<a href="https://vitepress.vuejs.org/guide/api#clientonly" target="_blank" rel="noreferrer">ç‰¹æ®Šå¤„ç†</a>ã€‚</p><p>æœ‰ä¸¤ç§åŠæ³•ï¼š</p><ol><li>åœ¨ <code>beforeMount</code> æˆ– <code>mounted</code> å‹¾å­ä¸­è®¿é—®ä¸Šè¿°çš„ APIï¼›</li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { onBeforeMount, onMounted } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">onMounted</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æµè§ˆå™¨/DOM ç›¸å…³çš„APIè°ƒç”¨</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">onBeforeMount</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æµè§ˆå™¨/DOM ç›¸å…³çš„APIè°ƒç”¨</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { onBeforeMount, onMounted } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">onMounted</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// æµè§ˆå™¨/DOM ç›¸å…³çš„APIè°ƒç”¨</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">onBeforeMount</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// æµè§ˆå™¨/DOM ç›¸å…³çš„APIè°ƒç”¨</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>ä½¿ç”¨ <code>&lt;clientOnly /&gt;</code> åŒ…è£¹ç»„ä»¶ã€‚</li></ol><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">import Issue from &#39;./Issue.vue&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#FDAEB7;font-style:italic;">Layout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;"> #</span><span style="color:#B392F0;">doc-after</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#FDAEB7;font-style:italic;">ClientOnly</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                &lt;</span><span style="color:#FDAEB7;font-style:italic;">Issue</span><span style="color:#E1E4E8;"> /&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;/</span><span style="color:#FDAEB7;font-style:italic;">ClientOnly</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#FDAEB7;font-style:italic;">Layout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">import Issue from &#39;./Issue.vue&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#B31D28;font-style:italic;">Layout</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;"> #</span><span style="color:#6F42C1;">doc-after</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#B31D28;font-style:italic;">ClientOnly</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                &lt;</span><span style="color:#B31D28;font-style:italic;">Issue</span><span style="color:#24292E;"> /&gt; </span></span>
<span class="line"><span style="color:#24292E;">            &lt;/</span><span style="color:#B31D28;font-style:italic;">ClientOnly</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#B31D28;font-style:italic;">Layout</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="ç›¸å…³æ–‡æ¡£" tabindex="-1">ç›¸å…³æ–‡æ¡£ <a class="header-anchor" href="#ç›¸å…³æ–‡æ¡£" aria-label="Permalink to &quot;ç›¸å…³æ–‡æ¡£&quot;">â€‹</a></h2><h3 id="github-app-ç®¡ç†" tabindex="-1">GitHub App ç®¡ç† <a class="header-anchor" href="#github-app-ç®¡ç†" aria-label="Permalink to &quot;GitHub App ç®¡ç†&quot;">â€‹</a></h3><p>å‚è§ <a href="https://docs.github.com/en/developers/apps/managing-github-apps" target="_blank" rel="noreferrer">managing-github-apps</a>ï¼Œé‡ç‚¹æ˜¯åˆ›å»º Appã€æˆæƒæ“ä½œï¼Œå®ç°é¡µé¢äº¤äº’ï¼Œè®©ç”¨æˆ·å¯ä»¥åœ¨åšå®¢é¡µé¢ä¸Šè·å¾— Issue çš„ç›¸å…³æƒé™ã€‚</p><p>å¦å¤–ï¼Œæ³¨æ„åŒºåˆ† GitHub App åŠ OAuth Appã€‚å®˜æ–¹æ–‡æ¡£ä¸“é—¨è¯´æ˜äº†å…¶<a href="https://docs.github.com/en/developers/apps/getting-started-with-apps/differences-between-github-apps-and-oauth-apps" target="_blank" rel="noreferrer">åŒºåˆ«</a>ï¼Œæœ¬æ–‡ä»ç•¥ã€‚</p><h3 id="issues-å¤„ç†" tabindex="-1">Issues å¤„ç† <a class="header-anchor" href="#issues-å¤„ç†" aria-label="Permalink to &quot;Issues å¤„ç†&quot;">â€‹</a></h3><p>æ–‡æ¡£å‚è§ <a href="https://docs.github.com/en/rest/issues" target="_blank" rel="noreferrer">GitHub Issues</a>ï¼Œä¸»è¦ä½¿ç”¨åˆ° issues çš„æŸ¥è¯¢ã€æ–°å¢ã€è¯„è®ºæ“ä½œã€‚</p>`,58),c=[t];function r(E,y,i,u,d,b){return n(),a("div",null,c)}const g=s(e,[["render",r]]);export{m as __pageData,g as default};
