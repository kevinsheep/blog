import{u as Ct,h as Xt,w as Un,o as Ie,c as Be,C as Ne,t as We,J as Je,b as je,F as Qt,G as it,_ as ys,m as Vn,a as Ot,R as Co,q as So,v as ws,H as Ao,E as dt,a8 as _s,D as Br,a5 as ks,d as Es,Q as $n,a9 as xs,k as Cs,aa as Ss,ab as As,ac as Ls,ad as Ts,ae as Ms,af as Ds,ag as Ns,ah as Hs,ai as qs,aj as Os,ak as Rs,al as Is,am as Ps,M as js}from"./chunks/framework.8e3c77fe.js";import{t as Lo}from"./chunks/theme.861c5b15.js";import{C as Bs,_ as Fs,L as zs}from"./chunks/List.c0b1948b.js";import{a as Us,n as Vs}from"./chunks/index.5f2eae9a.js";import{c as nn,g as rn,b as $s}from"./chunks/axios.eb78ea68.js";import{a as Gs,T as Ws,s as Ks,R as Zs,l as Ys,b as Js,c as Fr,d as Xs,e as Qs}from"./chunks/fetch.fe17ef6f.js";const ea=["href"],ta=["src","alt"],na={__name:"SideBanner",setup(u){const{theme:r,page:a}=Ct(),{banner:v}=r.value,b=Xt({});return Un(a,()=>{const g=Math.floor(Math.random()*v.length);b.value=v[g]},{immediate:!0}),(g,E)=>(Ie(),Be("a",{href:b.value.link,target:"_blank",class:"banner"},[Ne("img",{src:b.value.banner,alt:b.value.title},null,8,ta),Ne("span",null,We(b.value.nav??"广而告之"),1)],8,ea))}},ra={class:"list-wrapper"},oa={__name:"Hero",setup(u){const{theme:r}=Ct(),a=["/ARCHIVE/","/ABOUT/"],{sidebar:v}=r.value,b=Us(v),g=16,E=b.filter(m=>m.updateTime&&!a.includes(m.parentLink)).sort((m,l)=>{const c=new Date(m.updateTime).getTime();return new Date(l.updateTime).getTime()-c}).filter((m,l)=>l<g);return(m,l)=>(Ie(),Be(Qt,null,[Je(Bs),Ne("div",ra,[Je(Fs),Je(zs,{list:je(E)},null,8,["list"])])],64))}};var To={exports:{}};(function(u,r){(function(a,v){u.exports=v()})(nn,function(){var a=1e3,v=6e4,b=36e5,g="millisecond",E="second",m="minute",l="hour",c="day",h="week",f="month",y="quarter",p="year",w="date",k="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ne){var O=["th","st","nd","rd"],B=ne%100;return"["+ne+(O[(B-20)%10]||O[B]||O[0])+"]"}},H=function(ne,O,B){var U=String(ne);return!U||U.length>=O?ne:""+Array(O+1-U.length).join(B)+ne},M={s:H,z:function(ne){var O=-ne.utcOffset(),B=Math.abs(O),U=Math.floor(B/60),$=B%60;return(O<=0?"+":"-")+H(U,2,"0")+":"+H($,2,"0")},m:function ne(O,B){if(O.date()<B.date())return-ne(B,O);var U=12*(B.year()-O.year())+(B.month()-O.month()),$=O.clone().add(U,f),ce=B-$<0,me=O.clone().add(U+(ce?-1:1),f);return+(-(U+(B-$)/(ce?$-me:me-$))||0)},a:function(ne){return ne<0?Math.ceil(ne)||0:Math.floor(ne)},p:function(ne){return{M:f,y:p,w:h,d:c,D:w,h:l,m,s:E,ms:g,Q:y}[ne]||String(ne||"").toLowerCase().replace(/s$/,"")},u:function(ne){return ne===void 0}},D="en",_={};_[D]=T;var j=function(ne){return ne instanceof ie},z=function ne(O,B,U){var $;if(!O)return D;if(typeof O=="string"){var ce=O.toLowerCase();_[ce]&&($=ce),B&&(_[ce]=B,$=ce);var me=O.split("-");if(!$&&me.length>1)return ne(me[0])}else{var he=O.name;_[he]=O,$=he}return!U&&$&&(D=$),$||!U&&D},K=function(ne,O){if(j(ne))return ne.clone();var B=typeof O=="object"?O:{};return B.date=ne,B.args=arguments,new ie(B)},F=M;F.l=z,F.i=j,F.w=function(ne,O){return K(ne,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var ie=function(){function ne(B){this.$L=z(B.locale,null,!0),this.parse(B)}var O=ne.prototype;return O.parse=function(B){this.$d=function(U){var $=U.date,ce=U.utc;if($===null)return new Date(NaN);if(F.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var me=$.match(C);if(me){var he=me[2]-1||0,q=(me[7]||"0").substring(0,3);return ce?new Date(Date.UTC(me[1],he,me[3]||1,me[4]||0,me[5]||0,me[6]||0,q)):new Date(me[1],he,me[3]||1,me[4]||0,me[5]||0,me[6]||0,q)}}return new Date($)}(B),this.$x=B.x||{},this.init()},O.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},O.$utils=function(){return F},O.isValid=function(){return this.$d.toString()!==k},O.isSame=function(B,U){var $=K(B);return this.startOf(U)<=$&&$<=this.endOf(U)},O.isAfter=function(B,U){return K(B)<this.startOf(U)},O.isBefore=function(B,U){return this.endOf(U)<K(B)},O.$g=function(B,U,$){return F.u(B)?this[U]:this.set($,B)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(B,U){var $=this,ce=!!F.u(U)||U,me=F.p(B),he=function(se,ye){var be=F.w($.$u?Date.UTC($.$y,ye,se):new Date($.$y,ye,se),$);return ce?be:be.endOf(c)},q=function(se,ye){return F.w($.toDate()[se].apply($.toDate("s"),(ce?[0,0,0,0]:[23,59,59,999]).slice(ye)),$)},Ee=this.$W,He=this.$M,oe=this.$D,ke="set"+(this.$u?"UTC":"");switch(me){case p:return ce?he(1,0):he(31,11);case f:return ce?he(1,He):he(0,He+1);case h:var J=this.$locale().weekStart||0,W=(Ee<J?Ee+7:Ee)-J;return he(ce?oe-W:oe+(6-W),He);case c:case w:return q(ke+"Hours",0);case l:return q(ke+"Minutes",1);case m:return q(ke+"Seconds",2);case E:return q(ke+"Milliseconds",3);default:return this.clone()}},O.endOf=function(B){return this.startOf(B,!1)},O.$set=function(B,U){var $,ce=F.p(B),me="set"+(this.$u?"UTC":""),he=($={},$[c]=me+"Date",$[w]=me+"Date",$[f]=me+"Month",$[p]=me+"FullYear",$[l]=me+"Hours",$[m]=me+"Minutes",$[E]=me+"Seconds",$[g]=me+"Milliseconds",$)[ce],q=ce===c?this.$D+(U-this.$W):U;if(ce===f||ce===p){var Ee=this.clone().set(w,1);Ee.$d[he](q),Ee.init(),this.$d=Ee.set(w,Math.min(this.$D,Ee.daysInMonth())).$d}else he&&this.$d[he](q);return this.init(),this},O.set=function(B,U){return this.clone().$set(B,U)},O.get=function(B){return this[F.p(B)]()},O.add=function(B,U){var $,ce=this;B=Number(B);var me=F.p(U),he=function(He){var oe=K(ce);return F.w(oe.date(oe.date()+Math.round(He*B)),ce)};if(me===f)return this.set(f,this.$M+B);if(me===p)return this.set(p,this.$y+B);if(me===c)return he(1);if(me===h)return he(7);var q=($={},$[m]=v,$[l]=b,$[E]=a,$)[me]||1,Ee=this.$d.getTime()+B*q;return F.w(Ee,this)},O.subtract=function(B,U){return this.add(-1*B,U)},O.format=function(B){var U=this,$=this.$locale();if(!this.isValid())return $.invalidDate||k;var ce=B||"YYYY-MM-DDTHH:mm:ssZ",me=F.z(this),he=this.$H,q=this.$m,Ee=this.$M,He=$.weekdays,oe=$.months,ke=function(ye,be,Ae,we){return ye&&(ye[be]||ye(U,ce))||Ae[be].slice(0,we)},J=function(ye){return F.s(he%12||12,ye,"0")},W=$.meridiem||function(ye,be,Ae){var we=ye<12?"AM":"PM";return Ae?we.toLowerCase():we},se={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Ee+1,MM:F.s(Ee+1,2,"0"),MMM:ke($.monthsShort,Ee,oe,3),MMMM:ke(oe,Ee),D:this.$D,DD:F.s(this.$D,2,"0"),d:String(this.$W),dd:ke($.weekdaysMin,this.$W,He,2),ddd:ke($.weekdaysShort,this.$W,He,3),dddd:He[this.$W],H:String(he),HH:F.s(he,2,"0"),h:J(1),hh:J(2),a:W(he,q,!0),A:W(he,q,!1),m:String(q),mm:F.s(q,2,"0"),s:String(this.$s),ss:F.s(this.$s,2,"0"),SSS:F.s(this.$ms,3,"0"),Z:me};return ce.replace(N,function(ye,be){return be||se[ye]||me.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(B,U,$){var ce,me=F.p(U),he=K(B),q=(he.utcOffset()-this.utcOffset())*v,Ee=this-he,He=F.m(this,he);return He=(ce={},ce[p]=He/12,ce[f]=He,ce[y]=He/3,ce[h]=(Ee-q)/6048e5,ce[c]=(Ee-q)/864e5,ce[l]=Ee/b,ce[m]=Ee/v,ce[E]=Ee/a,ce)[me]||Ee,$?He:F.a(He)},O.daysInMonth=function(){return this.endOf(f).$D},O.$locale=function(){return _[this.$L]},O.locale=function(B,U){if(!B)return this.$L;var $=this.clone(),ce=z(B,U,!0);return ce&&($.$L=ce),$},O.clone=function(){return F.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},ne}(),fe=ie.prototype;return K.prototype=fe,[["$ms",g],["$s",E],["$m",m],["$H",l],["$W",c],["$M",f],["$y",p],["$D",w]].forEach(function(ne){fe[ne[1]]=function(O){return this.$g(O,ne[0],ne[1])}}),K.extend=function(ne,O){return ne.$i||(ne(O,ie,K),ne.$i=!0),K},K.locale=z,K.isDayjs=j,K.unix=function(ne){return K(1e3*ne)},K.en=_[D],K.Ls=_,K.p={},K})})(To);var Mo=To.exports;const st=rn(Mo),ia={key:0,class:"my-last-updated"},sa={__name:"LastUpdated",setup(u){const{frontmatter:r,page:a}=Ct(),v=()=>r.value.lastUpdated===!1?"":r.value.updateTime?st(r.value.updateTime).format("YYYY-MM-DD"):st(a.value.lastUpdated).format("YYYY-MM-DD HH:mm:ss")||"";return(b,g)=>v()?(Ie(),Be("div",ia,"Last updated: "+We(v()),1)):it("",!0)}};const aa={key:0,class:"my-tags"},ca=["href"],la={__name:"Tags",setup(u){const{frontmatter:r}=Ct(),a=Vn(()=>{const{tags:v=""}=r.value;return v.split("|")});return(v,b)=>je(a).length&&je(a)[0]?(Ie(),Be("div",aa,[Ot(" Tags: "),(Ie(!0),Be(Qt,null,Co(je(a),g=>(Ie(),Be("a",{href:`/tags.html?tag=${g}`,key:g},We(g),9,ca))),128))])):it("",!0)}},ua=ys(la,[["__scopeId","data-v-6b380250"]]);var da={exports:{}};(function(u,r){(function(a,v){u.exports=v(Mo)})(nn,function(a){function v(E){return E&&typeof E=="object"&&"default"in E?E:{default:E}}var b=v(a),g={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(E,m){return m==="W"?E+"周":E+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(E,m){var l=100*E+m;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return b.default.locale(g,null,!0),g})})(da);var Do={exports:{}};(function(u,r){(function(a,v){u.exports=v()})(nn,function(){return function(a,v,b){a=a||{};var g=v.prototype,E={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function m(c,h,f,y){return g.fromToBase(c,h,f,y)}b.en.relativeTime=E,g.fromToBase=function(c,h,f,y,p){for(var w,k,C,N=f.$locale().relativeTime||E,T=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],H=T.length,M=0;M<H;M+=1){var D=T[M];D.d&&(w=y?b(c).diff(f,D.d,!0):f.diff(c,D.d,!0));var _=(a.rounding||Math.round)(Math.abs(w));if(C=w>0,_<=D.r||!D.r){_<=1&&M>0&&(D=T[M-1]);var j=N[D.l];p&&(_=p(""+_)),k=typeof j=="string"?j.replace("%d",_):j(_,h,D.l,C);break}}if(h)return k;var z=C?N.future:N.past;return typeof z=="function"?z(k):z.replace("%s",k)},g.to=function(c,h){return m(c,h,this,!0)},g.from=function(c,h){return m(c,h,this)};var l=function(c){return c.$u?b.utc():b()};g.toNow=function(c){return this.to(l(this),c)},g.fromNow=function(c){return this.from(l(this),c)}}})})(Do);var pa=Do.exports;const fa=rn(pa);var xe={};const ha="Á",ma="á",va="Ă",ga="ă",ba="∾",ya="∿",wa="∾̳",_a="Â",ka="â",Ea="´",xa="А",Ca="а",Sa="Æ",Aa="æ",La="⁡",Ta="𝔄",Ma="𝔞",Da="À",Na="à",Ha="ℵ",qa="ℵ",Oa="Α",Ra="α",Ia="Ā",Pa="ā",ja="⨿",Ba="&",Fa="&",za="⩕",Ua="⩓",Va="∧",$a="⩜",Ga="⩘",Wa="⩚",Ka="∠",Za="⦤",Ya="∠",Ja="⦨",Xa="⦩",Qa="⦪",ec="⦫",tc="⦬",nc="⦭",rc="⦮",oc="⦯",ic="∡",sc="∟",ac="⊾",cc="⦝",lc="∢",uc="Å",dc="⍼",pc="Ą",fc="ą",hc="𝔸",mc="𝕒",vc="⩯",gc="≈",bc="⩰",yc="≊",wc="≋",_c="'",kc="⁡",Ec="≈",xc="≊",Cc="Å",Sc="å",Ac="𝒜",Lc="𝒶",Tc="≔",Mc="*",Dc="≈",Nc="≍",Hc="Ã",qc="ã",Oc="Ä",Rc="ä",Ic="∳",Pc="⨑",jc="≌",Bc="϶",Fc="‵",zc="∽",Uc="⋍",Vc="∖",$c="⫧",Gc="⊽",Wc="⌅",Kc="⌆",Zc="⌅",Yc="⎵",Jc="⎶",Xc="≌",Qc="Б",el="б",tl="„",nl="∵",rl="∵",ol="∵",il="⦰",sl="϶",al="ℬ",cl="ℬ",ll="Β",ul="β",dl="ℶ",pl="≬",fl="𝔅",hl="𝔟",ml="⋂",vl="◯",gl="⋃",bl="⨀",yl="⨁",wl="⨂",_l="⨆",kl="★",El="▽",xl="△",Cl="⨄",Sl="⋁",Al="⋀",Ll="⤍",Tl="⧫",Ml="▪",Dl="▴",Nl="▾",Hl="◂",ql="▸",Ol="␣",Rl="▒",Il="░",Pl="▓",jl="█",Bl="=⃥",Fl="≡⃥",zl="⫭",Ul="⌐",Vl="𝔹",$l="𝕓",Gl="⊥",Wl="⊥",Kl="⋈",Zl="⧉",Yl="┐",Jl="╕",Xl="╖",Ql="╗",eu="┌",tu="╒",nu="╓",ru="╔",ou="─",iu="═",su="┬",au="╤",cu="╥",lu="╦",uu="┴",du="╧",pu="╨",fu="╩",hu="⊟",mu="⊞",vu="⊠",gu="┘",bu="╛",yu="╜",wu="╝",_u="└",ku="╘",Eu="╙",xu="╚",Cu="│",Su="║",Au="┼",Lu="╪",Tu="╫",Mu="╬",Du="┤",Nu="╡",Hu="╢",qu="╣",Ou="├",Ru="╞",Iu="╟",Pu="╠",ju="‵",Bu="˘",Fu="˘",zu="¦",Uu="𝒷",Vu="ℬ",$u="⁏",Gu="∽",Wu="⋍",Ku="⧅",Zu="\\",Yu="⟈",Ju="•",Xu="•",Qu="≎",ed="⪮",td="≏",nd="≎",rd="≏",od="Ć",id="ć",sd="⩄",ad="⩉",cd="⩋",ld="∩",ud="⋒",dd="⩇",pd="⩀",fd="ⅅ",hd="∩︀",md="⁁",vd="ˇ",gd="ℭ",bd="⩍",yd="Č",wd="č",_d="Ç",kd="ç",Ed="Ĉ",xd="ĉ",Cd="∰",Sd="⩌",Ad="⩐",Ld="Ċ",Td="ċ",Md="¸",Dd="¸",Nd="⦲",Hd="¢",qd="·",Od="·",Rd="𝔠",Id="ℭ",Pd="Ч",jd="ч",Bd="✓",Fd="✓",zd="Χ",Ud="χ",Vd="ˆ",$d="≗",Gd="↺",Wd="↻",Kd="⊛",Zd="⊚",Yd="⊝",Jd="⊙",Xd="®",Qd="Ⓢ",ep="⊖",tp="⊕",np="⊗",rp="○",op="⧃",ip="≗",sp="⨐",ap="⫯",cp="⧂",lp="∲",up="”",dp="’",pp="♣",fp="♣",hp=":",mp="∷",vp="⩴",gp="≔",bp="≔",yp=",",wp="@",_p="∁",kp="∘",Ep="∁",xp="ℂ",Cp="≅",Sp="⩭",Ap="≡",Lp="∮",Tp="∯",Mp="∮",Dp="𝕔",Np="ℂ",Hp="∐",qp="∐",Op="©",Rp="©",Ip="℗",Pp="∳",jp="↵",Bp="✗",Fp="⨯",zp="𝒞",Up="𝒸",Vp="⫏",$p="⫑",Gp="⫐",Wp="⫒",Kp="⋯",Zp="⤸",Yp="⤵",Jp="⋞",Xp="⋟",Qp="↶",ef="⤽",tf="⩈",nf="⩆",rf="≍",of="∪",sf="⋓",af="⩊",cf="⊍",lf="⩅",uf="∪︀",df="↷",pf="⤼",ff="⋞",hf="⋟",mf="⋎",vf="⋏",gf="¤",bf="↶",yf="↷",wf="⋎",_f="⋏",kf="∲",Ef="∱",xf="⌭",Cf="†",Sf="‡",Af="ℸ",Lf="↓",Tf="↡",Mf="⇓",Df="‐",Nf="⫤",Hf="⊣",qf="⤏",Of="˝",Rf="Ď",If="ď",Pf="Д",jf="д",Bf="‡",Ff="⇊",zf="ⅅ",Uf="ⅆ",Vf="⤑",$f="⩷",Gf="°",Wf="∇",Kf="Δ",Zf="δ",Yf="⦱",Jf="⥿",Xf="𝔇",Qf="𝔡",eh="⥥",th="⇃",nh="⇂",rh="´",oh="˙",ih="˝",sh="`",ah="˜",ch="⋄",lh="⋄",uh="⋄",dh="♦",ph="♦",fh="¨",hh="ⅆ",mh="ϝ",vh="⋲",gh="÷",bh="÷",yh="⋇",wh="⋇",_h="Ђ",kh="ђ",Eh="⌞",xh="⌍",Ch="$",Sh="𝔻",Ah="𝕕",Lh="¨",Th="˙",Mh="⃜",Dh="≐",Nh="≑",Hh="≐",qh="∸",Oh="∔",Rh="⊡",Ih="⌆",Ph="∯",jh="¨",Bh="⇓",Fh="⇐",zh="⇔",Uh="⫤",Vh="⟸",$h="⟺",Gh="⟹",Wh="⇒",Kh="⊨",Zh="⇑",Yh="⇕",Jh="∥",Xh="⤓",Qh="↓",em="↓",tm="⇓",nm="⇵",rm="̑",om="⇊",im="⇃",sm="⇂",am="⥐",cm="⥞",lm="⥖",um="↽",dm="⥟",pm="⥗",fm="⇁",hm="↧",mm="⊤",vm="⤐",gm="⌟",bm="⌌",ym="𝒟",wm="𝒹",_m="Ѕ",km="ѕ",Em="⧶",xm="Đ",Cm="đ",Sm="⋱",Am="▿",Lm="▾",Tm="⇵",Mm="⥯",Dm="⦦",Nm="Џ",Hm="џ",qm="⟿",Om="É",Rm="é",Im="⩮",Pm="Ě",jm="ě",Bm="Ê",Fm="ê",zm="≖",Um="≕",Vm="Э",$m="э",Gm="⩷",Wm="Ė",Km="ė",Zm="≑",Ym="ⅇ",Jm="≒",Xm="𝔈",Qm="𝔢",ev="⪚",tv="È",nv="è",rv="⪖",ov="⪘",iv="⪙",sv="∈",av="⏧",cv="ℓ",lv="⪕",uv="⪗",dv="Ē",pv="ē",fv="∅",hv="∅",mv="◻",vv="∅",gv="▫",bv=" ",yv=" ",wv=" ",_v="Ŋ",kv="ŋ",Ev=" ",xv="Ę",Cv="ę",Sv="𝔼",Av="𝕖",Lv="⋕",Tv="⧣",Mv="⩱",Dv="ε",Nv="Ε",Hv="ε",qv="ϵ",Ov="≖",Rv="≕",Iv="≂",Pv="⪖",jv="⪕",Bv="⩵",Fv="=",zv="≂",Uv="≟",Vv="⇌",$v="≡",Gv="⩸",Wv="⧥",Kv="⥱",Zv="≓",Yv="ℯ",Jv="ℰ",Xv="≐",Qv="⩳",eg="≂",tg="Η",ng="η",rg="Ð",og="ð",ig="Ë",sg="ë",ag="€",cg="!",lg="∃",ug="∃",dg="ℰ",pg="ⅇ",fg="ⅇ",hg="≒",mg="Ф",vg="ф",gg="♀",bg="ﬃ",yg="ﬀ",wg="ﬄ",_g="𝔉",kg="𝔣",Eg="ﬁ",xg="◼",Cg="▪",Sg="fj",Ag="♭",Lg="ﬂ",Tg="▱",Mg="ƒ",Dg="𝔽",Ng="𝕗",Hg="∀",qg="∀",Og="⋔",Rg="⫙",Ig="ℱ",Pg="⨍",jg="½",Bg="⅓",Fg="¼",zg="⅕",Ug="⅙",Vg="⅛",$g="⅔",Gg="⅖",Wg="¾",Kg="⅗",Zg="⅜",Yg="⅘",Jg="⅚",Xg="⅝",Qg="⅞",e0="⁄",t0="⌢",n0="𝒻",r0="ℱ",o0="ǵ",i0="Γ",s0="γ",a0="Ϝ",c0="ϝ",l0="⪆",u0="Ğ",d0="ğ",p0="Ģ",f0="Ĝ",h0="ĝ",m0="Г",v0="г",g0="Ġ",b0="ġ",y0="≥",w0="≧",_0="⪌",k0="⋛",E0="≥",x0="≧",C0="⩾",S0="⪩",A0="⩾",L0="⪀",T0="⪂",M0="⪄",D0="⋛︀",N0="⪔",H0="𝔊",q0="𝔤",O0="≫",R0="⋙",I0="⋙",P0="ℷ",j0="Ѓ",B0="ѓ",F0="⪥",z0="≷",U0="⪒",V0="⪤",$0="⪊",G0="⪊",W0="⪈",K0="≩",Z0="⪈",Y0="≩",J0="⋧",X0="𝔾",Q0="𝕘",eb="`",tb="≥",nb="⋛",rb="≧",ob="⪢",ib="≷",sb="⩾",ab="≳",cb="𝒢",lb="ℊ",ub="≳",db="⪎",pb="⪐",fb="⪧",hb="⩺",mb=">",vb=">",gb="≫",bb="⋗",yb="⦕",wb="⩼",_b="⪆",kb="⥸",Eb="⋗",xb="⋛",Cb="⪌",Sb="≷",Ab="≳",Lb="≩︀",Tb="≩︀",Mb="ˇ",Db=" ",Nb="½",Hb="ℋ",qb="Ъ",Ob="ъ",Rb="⥈",Ib="↔",Pb="⇔",jb="↭",Bb="^",Fb="ℏ",zb="Ĥ",Ub="ĥ",Vb="♥",$b="♥",Gb="…",Wb="⊹",Kb="𝔥",Zb="ℌ",Yb="ℋ",Jb="⤥",Xb="⤦",Qb="⇿",ey="∻",ty="↩",ny="↪",ry="𝕙",oy="ℍ",iy="―",sy="─",ay="𝒽",cy="ℋ",ly="ℏ",uy="Ħ",dy="ħ",py="≎",fy="≏",hy="⁃",my="‐",vy="Í",gy="í",by="⁣",yy="Î",wy="î",_y="И",ky="и",Ey="İ",xy="Е",Cy="е",Sy="¡",Ay="⇔",Ly="𝔦",Ty="ℑ",My="Ì",Dy="ì",Ny="ⅈ",Hy="⨌",qy="∭",Oy="⧜",Ry="℩",Iy="Ĳ",Py="ĳ",jy="Ī",By="ī",Fy="ℑ",zy="ⅈ",Uy="ℐ",Vy="ℑ",$y="ı",Gy="ℑ",Wy="⊷",Ky="Ƶ",Zy="⇒",Yy="℅",Jy="∞",Xy="⧝",Qy="ı",ew="⊺",tw="∫",nw="∬",rw="ℤ",ow="∫",iw="⊺",sw="⋂",aw="⨗",cw="⨼",lw="⁣",uw="⁢",dw="Ё",pw="ё",fw="Į",hw="į",mw="𝕀",vw="𝕚",gw="Ι",bw="ι",yw="⨼",ww="¿",_w="𝒾",kw="ℐ",Ew="∈",xw="⋵",Cw="⋹",Sw="⋴",Aw="⋳",Lw="∈",Tw="⁢",Mw="Ĩ",Dw="ĩ",Nw="І",Hw="і",qw="Ï",Ow="ï",Rw="Ĵ",Iw="ĵ",Pw="Й",jw="й",Bw="𝔍",Fw="𝔧",zw="ȷ",Uw="𝕁",Vw="𝕛",$w="𝒥",Gw="𝒿",Ww="Ј",Kw="ј",Zw="Є",Yw="є",Jw="Κ",Xw="κ",Qw="ϰ",e_="Ķ",t_="ķ",n_="К",r_="к",o_="𝔎",i_="𝔨",s_="ĸ",a_="Х",c_="х",l_="Ќ",u_="ќ",d_="𝕂",p_="𝕜",f_="𝒦",h_="𝓀",m_="⇚",v_="Ĺ",g_="ĺ",b_="⦴",y_="ℒ",w_="Λ",__="λ",k_="⟨",E_="⟪",x_="⦑",C_="⟨",S_="⪅",A_="ℒ",L_="«",T_="⇤",M_="⤟",D_="←",N_="↞",H_="⇐",q_="⤝",O_="↩",R_="↫",I_="⤹",P_="⥳",j_="↢",B_="⤙",F_="⤛",z_="⪫",U_="⪭",V_="⪭︀",$_="⤌",G_="⤎",W_="❲",K_="{",Z_="[",Y_="⦋",J_="⦏",X_="⦍",Q_="Ľ",ek="ľ",tk="Ļ",nk="ļ",rk="⌈",ok="{",ik="Л",sk="л",ak="⤶",ck="“",lk="„",uk="⥧",dk="⥋",pk="↲",fk="≤",hk="≦",mk="⟨",vk="⇤",gk="←",bk="←",yk="⇐",wk="⇆",_k="↢",kk="⌈",Ek="⟦",xk="⥡",Ck="⥙",Sk="⇃",Ak="⌊",Lk="↽",Tk="↼",Mk="⇇",Dk="↔",Nk="↔",Hk="⇔",qk="⇆",Ok="⇋",Rk="↭",Ik="⥎",Pk="↤",jk="⊣",Bk="⥚",Fk="⋋",zk="⧏",Uk="⊲",Vk="⊴",$k="⥑",Gk="⥠",Wk="⥘",Kk="↿",Zk="⥒",Yk="↼",Jk="⪋",Xk="⋚",Qk="≤",eE="≦",tE="⩽",nE="⪨",rE="⩽",oE="⩿",iE="⪁",sE="⪃",aE="⋚︀",cE="⪓",lE="⪅",uE="⋖",dE="⋚",pE="⪋",fE="⋚",hE="≦",mE="≶",vE="≶",gE="⪡",bE="≲",yE="⩽",wE="≲",_E="⥼",kE="⌊",EE="𝔏",xE="𝔩",CE="≶",SE="⪑",AE="⥢",LE="↽",TE="↼",ME="⥪",DE="▄",NE="Љ",HE="љ",qE="⇇",OE="≪",RE="⋘",IE="⌞",PE="⇚",jE="⥫",BE="◺",FE="Ŀ",zE="ŀ",UE="⎰",VE="⎰",$E="⪉",GE="⪉",WE="⪇",KE="≨",ZE="⪇",YE="≨",JE="⋦",XE="⟬",QE="⇽",e1="⟦",t1="⟵",n1="⟵",r1="⟸",o1="⟷",i1="⟷",s1="⟺",a1="⟼",c1="⟶",l1="⟶",u1="⟹",d1="↫",p1="↬",f1="⦅",h1="𝕃",m1="𝕝",v1="⨭",g1="⨴",b1="∗",y1="_",w1="↙",_1="↘",k1="◊",E1="◊",x1="⧫",C1="(",S1="⦓",A1="⇆",L1="⌟",T1="⇋",M1="⥭",D1="‎",N1="⊿",H1="‹",q1="𝓁",O1="ℒ",R1="↰",I1="↰",P1="≲",j1="⪍",B1="⪏",F1="[",z1="‘",U1="‚",V1="Ł",$1="ł",G1="⪦",W1="⩹",K1="<",Z1="<",Y1="≪",J1="⋖",X1="⋋",Q1="⋉",ex="⥶",tx="⩻",nx="◃",rx="⊴",ox="◂",ix="⦖",sx="⥊",ax="⥦",cx="≨︀",lx="≨︀",ux="¯",dx="♂",px="✠",fx="✠",hx="↦",mx="↦",vx="↧",gx="↤",bx="↥",yx="▮",wx="⨩",_x="М",kx="м",Ex="—",xx="∺",Cx="∡",Sx=" ",Ax="ℳ",Lx="𝔐",Tx="𝔪",Mx="℧",Dx="µ",Nx="*",Hx="⫰",qx="∣",Ox="·",Rx="⊟",Ix="−",Px="∸",jx="⨪",Bx="∓",Fx="⫛",zx="…",Ux="∓",Vx="⊧",$x="𝕄",Gx="𝕞",Wx="∓",Kx="𝓂",Zx="ℳ",Yx="∾",Jx="Μ",Xx="μ",Qx="⊸",eC="⊸",tC="∇",nC="Ń",rC="ń",oC="∠⃒",iC="≉",sC="⩰̸",aC="≋̸",cC="ŉ",lC="≉",uC="♮",dC="ℕ",pC="♮",fC=" ",hC="≎̸",mC="≏̸",vC="⩃",gC="Ň",bC="ň",yC="Ņ",wC="ņ",_C="≇",kC="⩭̸",EC="⩂",xC="Н",CC="н",SC="–",AC="⤤",LC="↗",TC="⇗",MC="↗",DC="≠",NC="≐̸",HC="​",qC="​",OC="​",RC="​",IC="≢",PC="⤨",jC="≂̸",BC="≫",FC="≪",zC=`
`,UC="∄",VC="∄",$C="𝔑",GC="𝔫",WC="≧̸",KC="≱",ZC="≱",YC="≧̸",JC="⩾̸",XC="⩾̸",QC="⋙̸",eS="≵",tS="≫⃒",nS="≯",rS="≯",oS="≫̸",iS="↮",sS="⇎",aS="⫲",cS="∋",lS="⋼",uS="⋺",dS="∋",pS="Њ",fS="њ",hS="↚",mS="⇍",vS="‥",gS="≦̸",bS="≰",yS="↚",wS="⇍",_S="↮",kS="⇎",ES="≰",xS="≦̸",CS="⩽̸",SS="⩽̸",AS="≮",LS="⋘̸",TS="≴",MS="≪⃒",DS="≮",NS="⋪",HS="⋬",qS="≪̸",OS="∤",RS="⁠",IS=" ",PS="𝕟",jS="ℕ",BS="⫬",FS="¬",zS="≢",US="≭",VS="∦",$S="∉",GS="≠",WS="≂̸",KS="∄",ZS="≯",YS="≱",JS="≧̸",XS="≫̸",QS="≹",eA="⩾̸",tA="≵",nA="≎̸",rA="≏̸",oA="∉",iA="⋵̸",sA="⋹̸",aA="∉",cA="⋷",lA="⋶",uA="⧏̸",dA="⋪",pA="⋬",fA="≮",hA="≰",mA="≸",vA="≪̸",gA="⩽̸",bA="≴",yA="⪢̸",wA="⪡̸",_A="∌",kA="∌",EA="⋾",xA="⋽",CA="⊀",SA="⪯̸",AA="⋠",LA="∌",TA="⧐̸",MA="⋫",DA="⋭",NA="⊏̸",HA="⋢",qA="⊐̸",OA="⋣",RA="⊂⃒",IA="⊈",PA="⊁",jA="⪰̸",BA="⋡",FA="≿̸",zA="⊃⃒",UA="⊉",VA="≁",$A="≄",GA="≇",WA="≉",KA="∤",ZA="∦",YA="∦",JA="⫽⃥",XA="∂̸",QA="⨔",eL="⊀",tL="⋠",nL="⊀",rL="⪯̸",oL="⪯̸",iL="⤳̸",sL="↛",aL="⇏",cL="↝̸",lL="↛",uL="⇏",dL="⋫",pL="⋭",fL="⊁",hL="⋡",mL="⪰̸",vL="𝒩",gL="𝓃",bL="∤",yL="∦",wL="≁",_L="≄",kL="≄",EL="∤",xL="∦",CL="⋢",SL="⋣",AL="⊄",LL="⫅̸",TL="⊈",ML="⊂⃒",DL="⊈",NL="⫅̸",HL="⊁",qL="⪰̸",OL="⊅",RL="⫆̸",IL="⊉",PL="⊃⃒",jL="⊉",BL="⫆̸",FL="≹",zL="Ñ",UL="ñ",VL="≸",$L="⋪",GL="⋬",WL="⋫",KL="⋭",ZL="Ν",YL="ν",JL="#",XL="№",QL=" ",eT="≍⃒",tT="⊬",nT="⊭",rT="⊮",oT="⊯",iT="≥⃒",sT=">⃒",aT="⤄",cT="⧞",lT="⤂",uT="≤⃒",dT="<⃒",pT="⊴⃒",fT="⤃",hT="⊵⃒",mT="∼⃒",vT="⤣",gT="↖",bT="⇖",yT="↖",wT="⤧",_T="Ó",kT="ó",ET="⊛",xT="Ô",CT="ô",ST="⊚",AT="О",LT="о",TT="⊝",MT="Ő",DT="ő",NT="⨸",HT="⊙",qT="⦼",OT="Œ",RT="œ",IT="⦿",PT="𝔒",jT="𝔬",BT="˛",FT="Ò",zT="ò",UT="⧁",VT="⦵",$T="Ω",GT="∮",WT="↺",KT="⦾",ZT="⦻",YT="‾",JT="⧀",XT="Ō",QT="ō",eM="Ω",tM="ω",nM="Ο",rM="ο",oM="⦶",iM="⊖",sM="𝕆",aM="𝕠",cM="⦷",lM="“",uM="‘",dM="⦹",pM="⊕",fM="↻",hM="⩔",mM="∨",vM="⩝",gM="ℴ",bM="ℴ",yM="ª",wM="º",_M="⊶",kM="⩖",EM="⩗",xM="⩛",CM="Ⓢ",SM="𝒪",AM="ℴ",LM="Ø",TM="ø",MM="⊘",DM="Õ",NM="õ",HM="⨶",qM="⨷",OM="⊗",RM="Ö",IM="ö",PM="⌽",jM="‾",BM="⏞",FM="⎴",zM="⏜",UM="¶",VM="∥",$M="∥",GM="⫳",WM="⫽",KM="∂",ZM="∂",YM="П",JM="п",XM="%",QM=".",eD="‰",tD="⊥",nD="‱",rD="𝔓",oD="𝔭",iD="Φ",sD="φ",aD="ϕ",cD="ℳ",lD="☎",uD="Π",dD="π",pD="⋔",fD="ϖ",hD="ℏ",mD="ℎ",vD="ℏ",gD="⨣",bD="⊞",yD="⨢",wD="+",_D="∔",kD="⨥",ED="⩲",xD="±",CD="±",SD="⨦",AD="⨧",LD="±",TD="ℌ",MD="⨕",DD="𝕡",ND="ℙ",HD="£",qD="⪷",OD="⪻",RD="≺",ID="≼",PD="⪷",jD="≺",BD="≼",FD="≺",zD="⪯",UD="≼",VD="≾",$D="⪯",GD="⪹",WD="⪵",KD="⋨",ZD="⪯",YD="⪳",JD="≾",XD="′",QD="″",eN="ℙ",tN="⪹",nN="⪵",rN="⋨",oN="∏",iN="∏",sN="⌮",aN="⌒",cN="⌓",lN="∝",uN="∝",dN="∷",pN="∝",fN="≾",hN="⊰",mN="𝒫",vN="𝓅",gN="Ψ",bN="ψ",yN=" ",wN="𝔔",_N="𝔮",kN="⨌",EN="𝕢",xN="ℚ",CN="⁗",SN="𝒬",AN="𝓆",LN="ℍ",TN="⨖",MN="?",DN="≟",NN='"',HN='"',qN="⇛",ON="∽̱",RN="Ŕ",IN="ŕ",PN="√",jN="⦳",BN="⟩",FN="⟫",zN="⦒",UN="⦥",VN="⟩",$N="»",GN="⥵",WN="⇥",KN="⤠",ZN="⤳",YN="→",JN="↠",XN="⇒",QN="⤞",e2="↪",t2="↬",n2="⥅",r2="⥴",o2="⤖",i2="↣",s2="↝",a2="⤚",c2="⤜",l2="∶",u2="ℚ",d2="⤍",p2="⤏",f2="⤐",h2="❳",m2="}",v2="]",g2="⦌",b2="⦎",y2="⦐",w2="Ř",_2="ř",k2="Ŗ",E2="ŗ",x2="⌉",C2="}",S2="Р",A2="р",L2="⤷",T2="⥩",M2="”",D2="”",N2="↳",H2="ℜ",q2="ℛ",O2="ℜ",R2="ℝ",I2="ℜ",P2="▭",j2="®",B2="®",F2="∋",z2="⇋",U2="⥯",V2="⥽",$2="⌋",G2="𝔯",W2="ℜ",K2="⥤",Z2="⇁",Y2="⇀",J2="⥬",X2="Ρ",Q2="ρ",eH="ϱ",tH="⟩",nH="⇥",rH="→",oH="→",iH="⇒",sH="⇄",aH="↣",cH="⌉",lH="⟧",uH="⥝",dH="⥕",pH="⇂",fH="⌋",hH="⇁",mH="⇀",vH="⇄",gH="⇌",bH="⇉",yH="↝",wH="↦",_H="⊢",kH="⥛",EH="⋌",xH="⧐",CH="⊳",SH="⊵",AH="⥏",LH="⥜",TH="⥔",MH="↾",DH="⥓",NH="⇀",HH="˚",qH="≓",OH="⇄",RH="⇌",IH="‏",PH="⎱",jH="⎱",BH="⫮",FH="⟭",zH="⇾",UH="⟧",VH="⦆",$H="𝕣",GH="ℝ",WH="⨮",KH="⨵",ZH="⥰",YH=")",JH="⦔",XH="⨒",QH="⇉",eq="⇛",tq="›",nq="𝓇",rq="ℛ",oq="↱",iq="↱",sq="]",aq="’",cq="’",lq="⋌",uq="⋊",dq="▹",pq="⊵",fq="▸",hq="⧎",mq="⧴",vq="⥨",gq="℞",bq="Ś",yq="ś",wq="‚",_q="⪸",kq="Š",Eq="š",xq="⪼",Cq="≻",Sq="≽",Aq="⪰",Lq="⪴",Tq="Ş",Mq="ş",Dq="Ŝ",Nq="ŝ",Hq="⪺",qq="⪶",Oq="⋩",Rq="⨓",Iq="≿",Pq="С",jq="с",Bq="⊡",Fq="⋅",zq="⩦",Uq="⤥",Vq="↘",$q="⇘",Gq="↘",Wq="§",Kq=";",Zq="⤩",Yq="∖",Jq="∖",Xq="✶",Qq="𝔖",eO="𝔰",tO="⌢",nO="♯",rO="Щ",oO="щ",iO="Ш",sO="ш",aO="↓",cO="←",lO="∣",uO="∥",dO="→",pO="↑",fO="­",hO="Σ",mO="σ",vO="ς",gO="ς",bO="∼",yO="⩪",wO="≃",_O="≃",kO="⪞",EO="⪠",xO="⪝",CO="⪟",SO="≆",AO="⨤",LO="⥲",TO="←",MO="∘",DO="∖",NO="⨳",HO="⧤",qO="∣",OO="⌣",RO="⪪",IO="⪬",PO="⪬︀",jO="Ь",BO="ь",FO="⌿",zO="⧄",UO="/",VO="𝕊",$O="𝕤",GO="♠",WO="♠",KO="∥",ZO="⊓",YO="⊓︀",JO="⊔",XO="⊔︀",QO="√",eR="⊏",tR="⊑",nR="⊏",rR="⊑",oR="⊐",iR="⊒",sR="⊐",aR="⊒",cR="□",lR="□",uR="⊓",dR="⊏",pR="⊑",fR="⊐",hR="⊒",mR="⊔",vR="▪",gR="□",bR="▪",yR="→",wR="𝒮",_R="𝓈",kR="∖",ER="⌣",xR="⋆",CR="⋆",SR="☆",AR="★",LR="ϵ",TR="ϕ",MR="¯",DR="⊂",NR="⋐",HR="⪽",qR="⫅",OR="⊆",RR="⫃",IR="⫁",PR="⫋",jR="⊊",BR="⪿",FR="⥹",zR="⊂",UR="⋐",VR="⊆",$R="⫅",GR="⊆",WR="⊊",KR="⫋",ZR="⫇",YR="⫕",JR="⫓",XR="⪸",QR="≻",eI="≽",tI="≻",nI="⪰",rI="≽",oI="≿",iI="⪰",sI="⪺",aI="⪶",cI="⋩",lI="≿",uI="∋",dI="∑",pI="∑",fI="♪",hI="¹",mI="²",vI="³",gI="⊃",bI="⋑",yI="⪾",wI="⫘",_I="⫆",kI="⊇",EI="⫄",xI="⊃",CI="⊇",SI="⟉",AI="⫗",LI="⥻",TI="⫂",MI="⫌",DI="⊋",NI="⫀",HI="⊃",qI="⋑",OI="⊇",RI="⫆",II="⊋",PI="⫌",jI="⫈",BI="⫔",FI="⫖",zI="⤦",UI="↙",VI="⇙",$I="↙",GI="⤪",WI="ß",KI="	",ZI="⌖",YI="Τ",JI="τ",XI="⎴",QI="Ť",eP="ť",tP="Ţ",nP="ţ",rP="Т",oP="т",iP="⃛",sP="⌕",aP="𝔗",cP="𝔱",lP="∴",uP="∴",dP="∴",pP="Θ",fP="θ",hP="ϑ",mP="ϑ",vP="≈",gP="∼",bP="  ",yP=" ",wP=" ",_P="≈",kP="∼",EP="Þ",xP="þ",CP="˜",SP="∼",AP="≃",LP="≅",TP="≈",MP="⨱",DP="⊠",NP="×",HP="⨰",qP="∭",OP="⤨",RP="⌶",IP="⫱",PP="⊤",jP="𝕋",BP="𝕥",FP="⫚",zP="⤩",UP="‴",VP="™",$P="™",GP="▵",WP="▿",KP="◃",ZP="⊴",YP="≜",JP="▹",XP="⊵",QP="◬",ej="≜",tj="⨺",nj="⃛",rj="⨹",oj="⧍",ij="⨻",sj="⏢",aj="𝒯",cj="𝓉",lj="Ц",uj="ц",dj="Ћ",pj="ћ",fj="Ŧ",hj="ŧ",mj="≬",vj="↞",gj="↠",bj="Ú",yj="ú",wj="↑",_j="↟",kj="⇑",Ej="⥉",xj="Ў",Cj="ў",Sj="Ŭ",Aj="ŭ",Lj="Û",Tj="û",Mj="У",Dj="у",Nj="⇅",Hj="Ű",qj="ű",Oj="⥮",Rj="⥾",Ij="𝔘",Pj="𝔲",jj="Ù",Bj="ù",Fj="⥣",zj="↿",Uj="↾",Vj="▀",$j="⌜",Gj="⌜",Wj="⌏",Kj="◸",Zj="Ū",Yj="ū",Jj="¨",Xj="_",Qj="⏟",eB="⎵",tB="⏝",nB="⋃",rB="⊎",oB="Ų",iB="ų",sB="𝕌",aB="𝕦",cB="⤒",lB="↑",uB="↑",dB="⇑",pB="⇅",fB="↕",hB="↕",mB="⇕",vB="⥮",gB="↿",bB="↾",yB="⊎",wB="↖",_B="↗",kB="υ",EB="ϒ",xB="ϒ",CB="Υ",SB="υ",AB="↥",LB="⊥",TB="⇈",MB="⌝",DB="⌝",NB="⌎",HB="Ů",qB="ů",OB="◹",RB="𝒰",IB="𝓊",PB="⋰",jB="Ũ",BB="ũ",FB="▵",zB="▴",UB="⇈",VB="Ü",$B="ü",GB="⦧",WB="⦜",KB="ϵ",ZB="ϰ",YB="∅",JB="ϕ",XB="ϖ",QB="∝",e3="↕",t3="⇕",n3="ϱ",r3="ς",o3="⊊︀",i3="⫋︀",s3="⊋︀",a3="⫌︀",c3="ϑ",l3="⊲",u3="⊳",d3="⫨",p3="⫫",f3="⫩",h3="В",m3="в",v3="⊢",g3="⊨",b3="⊩",y3="⊫",w3="⫦",_3="⊻",k3="∨",E3="⋁",x3="≚",C3="⋮",S3="|",A3="‖",L3="|",T3="‖",M3="∣",D3="|",N3="❘",H3="≀",q3=" ",O3="𝔙",R3="𝔳",I3="⊲",P3="⊂⃒",j3="⊃⃒",B3="𝕍",F3="𝕧",z3="∝",U3="⊳",V3="𝒱",$3="𝓋",G3="⫋︀",W3="⊊︀",K3="⫌︀",Z3="⊋︀",Y3="⊪",J3="⦚",X3="Ŵ",Q3="ŵ",eF="⩟",tF="∧",nF="⋀",rF="≙",oF="℘",iF="𝔚",sF="𝔴",aF="𝕎",cF="𝕨",lF="℘",uF="≀",dF="≀",pF="𝒲",fF="𝓌",hF="⋂",mF="◯",vF="⋃",gF="▽",bF="𝔛",yF="𝔵",wF="⟷",_F="⟺",kF="Ξ",EF="ξ",xF="⟵",CF="⟸",SF="⟼",AF="⋻",LF="⨀",TF="𝕏",MF="𝕩",DF="⨁",NF="⨂",HF="⟶",qF="⟹",OF="𝒳",RF="𝓍",IF="⨆",PF="⨄",jF="△",BF="⋁",FF="⋀",zF="Ý",UF="ý",VF="Я",$F="я",GF="Ŷ",WF="ŷ",KF="Ы",ZF="ы",YF="¥",JF="𝔜",XF="𝔶",QF="Ї",ez="ї",tz="𝕐",nz="𝕪",rz="𝒴",oz="𝓎",iz="Ю",sz="ю",az="ÿ",cz="Ÿ",lz="Ź",uz="ź",dz="Ž",pz="ž",fz="З",hz="з",mz="Ż",vz="ż",gz="ℨ",bz="​",yz="Ζ",wz="ζ",_z="𝔷",kz="ℨ",Ez="Ж",xz="ж",Cz="⇝",Sz="𝕫",Az="ℤ",Lz="𝒵",Tz="𝓏",Mz="‍",Dz="‌",Nz={Aacute:ha,aacute:ma,Abreve:va,abreve:ga,ac:ba,acd:ya,acE:wa,Acirc:_a,acirc:ka,acute:Ea,Acy:xa,acy:Ca,AElig:Sa,aelig:Aa,af:La,Afr:Ta,afr:Ma,Agrave:Da,agrave:Na,alefsym:Ha,aleph:qa,Alpha:Oa,alpha:Ra,Amacr:Ia,amacr:Pa,amalg:ja,amp:Ba,AMP:Fa,andand:za,And:Ua,and:Va,andd:$a,andslope:Ga,andv:Wa,ang:Ka,ange:Za,angle:Ya,angmsdaa:Ja,angmsdab:Xa,angmsdac:Qa,angmsdad:ec,angmsdae:tc,angmsdaf:nc,angmsdag:rc,angmsdah:oc,angmsd:ic,angrt:sc,angrtvb:ac,angrtvbd:cc,angsph:lc,angst:uc,angzarr:dc,Aogon:pc,aogon:fc,Aopf:hc,aopf:mc,apacir:vc,ap:gc,apE:bc,ape:yc,apid:wc,apos:_c,ApplyFunction:kc,approx:Ec,approxeq:xc,Aring:Cc,aring:Sc,Ascr:Ac,ascr:Lc,Assign:Tc,ast:Mc,asymp:Dc,asympeq:Nc,Atilde:Hc,atilde:qc,Auml:Oc,auml:Rc,awconint:Ic,awint:Pc,backcong:jc,backepsilon:Bc,backprime:Fc,backsim:zc,backsimeq:Uc,Backslash:Vc,Barv:$c,barvee:Gc,barwed:Wc,Barwed:Kc,barwedge:Zc,bbrk:Yc,bbrktbrk:Jc,bcong:Xc,Bcy:Qc,bcy:el,bdquo:tl,becaus:nl,because:rl,Because:ol,bemptyv:il,bepsi:sl,bernou:al,Bernoullis:cl,Beta:ll,beta:ul,beth:dl,between:pl,Bfr:fl,bfr:hl,bigcap:ml,bigcirc:vl,bigcup:gl,bigodot:bl,bigoplus:yl,bigotimes:wl,bigsqcup:_l,bigstar:kl,bigtriangledown:El,bigtriangleup:xl,biguplus:Cl,bigvee:Sl,bigwedge:Al,bkarow:Ll,blacklozenge:Tl,blacksquare:Ml,blacktriangle:Dl,blacktriangledown:Nl,blacktriangleleft:Hl,blacktriangleright:ql,blank:Ol,blk12:Rl,blk14:Il,blk34:Pl,block:jl,bne:Bl,bnequiv:Fl,bNot:zl,bnot:Ul,Bopf:Vl,bopf:$l,bot:Gl,bottom:Wl,bowtie:Kl,boxbox:Zl,boxdl:Yl,boxdL:Jl,boxDl:Xl,boxDL:Ql,boxdr:eu,boxdR:tu,boxDr:nu,boxDR:ru,boxh:ou,boxH:iu,boxhd:su,boxHd:au,boxhD:cu,boxHD:lu,boxhu:uu,boxHu:du,boxhU:pu,boxHU:fu,boxminus:hu,boxplus:mu,boxtimes:vu,boxul:gu,boxuL:bu,boxUl:yu,boxUL:wu,boxur:_u,boxuR:ku,boxUr:Eu,boxUR:xu,boxv:Cu,boxV:Su,boxvh:Au,boxvH:Lu,boxVh:Tu,boxVH:Mu,boxvl:Du,boxvL:Nu,boxVl:Hu,boxVL:qu,boxvr:Ou,boxvR:Ru,boxVr:Iu,boxVR:Pu,bprime:ju,breve:Bu,Breve:Fu,brvbar:zu,bscr:Uu,Bscr:Vu,bsemi:$u,bsim:Gu,bsime:Wu,bsolb:Ku,bsol:Zu,bsolhsub:Yu,bull:Ju,bullet:Xu,bump:Qu,bumpE:ed,bumpe:td,Bumpeq:nd,bumpeq:rd,Cacute:od,cacute:id,capand:sd,capbrcup:ad,capcap:cd,cap:ld,Cap:ud,capcup:dd,capdot:pd,CapitalDifferentialD:fd,caps:hd,caret:md,caron:vd,Cayleys:gd,ccaps:bd,Ccaron:yd,ccaron:wd,Ccedil:_d,ccedil:kd,Ccirc:Ed,ccirc:xd,Cconint:Cd,ccups:Sd,ccupssm:Ad,Cdot:Ld,cdot:Td,cedil:Md,Cedilla:Dd,cemptyv:Nd,cent:Hd,centerdot:qd,CenterDot:Od,cfr:Rd,Cfr:Id,CHcy:Pd,chcy:jd,check:Bd,checkmark:Fd,Chi:zd,chi:Ud,circ:Vd,circeq:$d,circlearrowleft:Gd,circlearrowright:Wd,circledast:Kd,circledcirc:Zd,circleddash:Yd,CircleDot:Jd,circledR:Xd,circledS:Qd,CircleMinus:ep,CirclePlus:tp,CircleTimes:np,cir:rp,cirE:op,cire:ip,cirfnint:sp,cirmid:ap,cirscir:cp,ClockwiseContourIntegral:lp,CloseCurlyDoubleQuote:up,CloseCurlyQuote:dp,clubs:pp,clubsuit:fp,colon:hp,Colon:mp,Colone:vp,colone:gp,coloneq:bp,comma:yp,commat:wp,comp:_p,compfn:kp,complement:Ep,complexes:xp,cong:Cp,congdot:Sp,Congruent:Ap,conint:Lp,Conint:Tp,ContourIntegral:Mp,copf:Dp,Copf:Np,coprod:Hp,Coproduct:qp,copy:Op,COPY:Rp,copysr:Ip,CounterClockwiseContourIntegral:Pp,crarr:jp,cross:Bp,Cross:Fp,Cscr:zp,cscr:Up,csub:Vp,csube:$p,csup:Gp,csupe:Wp,ctdot:Kp,cudarrl:Zp,cudarrr:Yp,cuepr:Jp,cuesc:Xp,cularr:Qp,cularrp:ef,cupbrcap:tf,cupcap:nf,CupCap:rf,cup:of,Cup:sf,cupcup:af,cupdot:cf,cupor:lf,cups:uf,curarr:df,curarrm:pf,curlyeqprec:ff,curlyeqsucc:hf,curlyvee:mf,curlywedge:vf,curren:gf,curvearrowleft:bf,curvearrowright:yf,cuvee:wf,cuwed:_f,cwconint:kf,cwint:Ef,cylcty:xf,dagger:Cf,Dagger:Sf,daleth:Af,darr:Lf,Darr:Tf,dArr:Mf,dash:Df,Dashv:Nf,dashv:Hf,dbkarow:qf,dblac:Of,Dcaron:Rf,dcaron:If,Dcy:Pf,dcy:jf,ddagger:Bf,ddarr:Ff,DD:zf,dd:Uf,DDotrahd:Vf,ddotseq:$f,deg:Gf,Del:Wf,Delta:Kf,delta:Zf,demptyv:Yf,dfisht:Jf,Dfr:Xf,dfr:Qf,dHar:eh,dharl:th,dharr:nh,DiacriticalAcute:rh,DiacriticalDot:oh,DiacriticalDoubleAcute:ih,DiacriticalGrave:sh,DiacriticalTilde:ah,diam:ch,diamond:lh,Diamond:uh,diamondsuit:dh,diams:ph,die:fh,DifferentialD:hh,digamma:mh,disin:vh,div:gh,divide:bh,divideontimes:yh,divonx:wh,DJcy:_h,djcy:kh,dlcorn:Eh,dlcrop:xh,dollar:Ch,Dopf:Sh,dopf:Ah,Dot:Lh,dot:Th,DotDot:Mh,doteq:Dh,doteqdot:Nh,DotEqual:Hh,dotminus:qh,dotplus:Oh,dotsquare:Rh,doublebarwedge:Ih,DoubleContourIntegral:Ph,DoubleDot:jh,DoubleDownArrow:Bh,DoubleLeftArrow:Fh,DoubleLeftRightArrow:zh,DoubleLeftTee:Uh,DoubleLongLeftArrow:Vh,DoubleLongLeftRightArrow:$h,DoubleLongRightArrow:Gh,DoubleRightArrow:Wh,DoubleRightTee:Kh,DoubleUpArrow:Zh,DoubleUpDownArrow:Yh,DoubleVerticalBar:Jh,DownArrowBar:Xh,downarrow:Qh,DownArrow:em,Downarrow:tm,DownArrowUpArrow:nm,DownBreve:rm,downdownarrows:om,downharpoonleft:im,downharpoonright:sm,DownLeftRightVector:am,DownLeftTeeVector:cm,DownLeftVectorBar:lm,DownLeftVector:um,DownRightTeeVector:dm,DownRightVectorBar:pm,DownRightVector:fm,DownTeeArrow:hm,DownTee:mm,drbkarow:vm,drcorn:gm,drcrop:bm,Dscr:ym,dscr:wm,DScy:_m,dscy:km,dsol:Em,Dstrok:xm,dstrok:Cm,dtdot:Sm,dtri:Am,dtrif:Lm,duarr:Tm,duhar:Mm,dwangle:Dm,DZcy:Nm,dzcy:Hm,dzigrarr:qm,Eacute:Om,eacute:Rm,easter:Im,Ecaron:Pm,ecaron:jm,Ecirc:Bm,ecirc:Fm,ecir:zm,ecolon:Um,Ecy:Vm,ecy:$m,eDDot:Gm,Edot:Wm,edot:Km,eDot:Zm,ee:Ym,efDot:Jm,Efr:Xm,efr:Qm,eg:ev,Egrave:tv,egrave:nv,egs:rv,egsdot:ov,el:iv,Element:sv,elinters:av,ell:cv,els:lv,elsdot:uv,Emacr:dv,emacr:pv,empty:fv,emptyset:hv,EmptySmallSquare:mv,emptyv:vv,EmptyVerySmallSquare:gv,emsp13:bv,emsp14:yv,emsp:wv,ENG:_v,eng:kv,ensp:Ev,Eogon:xv,eogon:Cv,Eopf:Sv,eopf:Av,epar:Lv,eparsl:Tv,eplus:Mv,epsi:Dv,Epsilon:Nv,epsilon:Hv,epsiv:qv,eqcirc:Ov,eqcolon:Rv,eqsim:Iv,eqslantgtr:Pv,eqslantless:jv,Equal:Bv,equals:Fv,EqualTilde:zv,equest:Uv,Equilibrium:Vv,equiv:$v,equivDD:Gv,eqvparsl:Wv,erarr:Kv,erDot:Zv,escr:Yv,Escr:Jv,esdot:Xv,Esim:Qv,esim:eg,Eta:tg,eta:ng,ETH:rg,eth:og,Euml:ig,euml:sg,euro:ag,excl:cg,exist:lg,Exists:ug,expectation:dg,exponentiale:pg,ExponentialE:fg,fallingdotseq:hg,Fcy:mg,fcy:vg,female:gg,ffilig:bg,fflig:yg,ffllig:wg,Ffr:_g,ffr:kg,filig:Eg,FilledSmallSquare:xg,FilledVerySmallSquare:Cg,fjlig:Sg,flat:Ag,fllig:Lg,fltns:Tg,fnof:Mg,Fopf:Dg,fopf:Ng,forall:Hg,ForAll:qg,fork:Og,forkv:Rg,Fouriertrf:Ig,fpartint:Pg,frac12:jg,frac13:Bg,frac14:Fg,frac15:zg,frac16:Ug,frac18:Vg,frac23:$g,frac25:Gg,frac34:Wg,frac35:Kg,frac38:Zg,frac45:Yg,frac56:Jg,frac58:Xg,frac78:Qg,frasl:e0,frown:t0,fscr:n0,Fscr:r0,gacute:o0,Gamma:i0,gamma:s0,Gammad:a0,gammad:c0,gap:l0,Gbreve:u0,gbreve:d0,Gcedil:p0,Gcirc:f0,gcirc:h0,Gcy:m0,gcy:v0,Gdot:g0,gdot:b0,ge:y0,gE:w0,gEl:_0,gel:k0,geq:E0,geqq:x0,geqslant:C0,gescc:S0,ges:A0,gesdot:L0,gesdoto:T0,gesdotol:M0,gesl:D0,gesles:N0,Gfr:H0,gfr:q0,gg:O0,Gg:R0,ggg:I0,gimel:P0,GJcy:j0,gjcy:B0,gla:F0,gl:z0,glE:U0,glj:V0,gnap:$0,gnapprox:G0,gne:W0,gnE:K0,gneq:Z0,gneqq:Y0,gnsim:J0,Gopf:X0,gopf:Q0,grave:eb,GreaterEqual:tb,GreaterEqualLess:nb,GreaterFullEqual:rb,GreaterGreater:ob,GreaterLess:ib,GreaterSlantEqual:sb,GreaterTilde:ab,Gscr:cb,gscr:lb,gsim:ub,gsime:db,gsiml:pb,gtcc:fb,gtcir:hb,gt:mb,GT:vb,Gt:gb,gtdot:bb,gtlPar:yb,gtquest:wb,gtrapprox:_b,gtrarr:kb,gtrdot:Eb,gtreqless:xb,gtreqqless:Cb,gtrless:Sb,gtrsim:Ab,gvertneqq:Lb,gvnE:Tb,Hacek:Mb,hairsp:Db,half:Nb,hamilt:Hb,HARDcy:qb,hardcy:Ob,harrcir:Rb,harr:Ib,hArr:Pb,harrw:jb,Hat:Bb,hbar:Fb,Hcirc:zb,hcirc:Ub,hearts:Vb,heartsuit:$b,hellip:Gb,hercon:Wb,hfr:Kb,Hfr:Zb,HilbertSpace:Yb,hksearow:Jb,hkswarow:Xb,hoarr:Qb,homtht:ey,hookleftarrow:ty,hookrightarrow:ny,hopf:ry,Hopf:oy,horbar:iy,HorizontalLine:sy,hscr:ay,Hscr:cy,hslash:ly,Hstrok:uy,hstrok:dy,HumpDownHump:py,HumpEqual:fy,hybull:hy,hyphen:my,Iacute:vy,iacute:gy,ic:by,Icirc:yy,icirc:wy,Icy:_y,icy:ky,Idot:Ey,IEcy:xy,iecy:Cy,iexcl:Sy,iff:Ay,ifr:Ly,Ifr:Ty,Igrave:My,igrave:Dy,ii:Ny,iiiint:Hy,iiint:qy,iinfin:Oy,iiota:Ry,IJlig:Iy,ijlig:Py,Imacr:jy,imacr:By,image:Fy,ImaginaryI:zy,imagline:Uy,imagpart:Vy,imath:$y,Im:Gy,imof:Wy,imped:Ky,Implies:Zy,incare:Yy,in:"∈",infin:Jy,infintie:Xy,inodot:Qy,intcal:ew,int:tw,Int:nw,integers:rw,Integral:ow,intercal:iw,Intersection:sw,intlarhk:aw,intprod:cw,InvisibleComma:lw,InvisibleTimes:uw,IOcy:dw,iocy:pw,Iogon:fw,iogon:hw,Iopf:mw,iopf:vw,Iota:gw,iota:bw,iprod:yw,iquest:ww,iscr:_w,Iscr:kw,isin:Ew,isindot:xw,isinE:Cw,isins:Sw,isinsv:Aw,isinv:Lw,it:Tw,Itilde:Mw,itilde:Dw,Iukcy:Nw,iukcy:Hw,Iuml:qw,iuml:Ow,Jcirc:Rw,jcirc:Iw,Jcy:Pw,jcy:jw,Jfr:Bw,jfr:Fw,jmath:zw,Jopf:Uw,jopf:Vw,Jscr:$w,jscr:Gw,Jsercy:Ww,jsercy:Kw,Jukcy:Zw,jukcy:Yw,Kappa:Jw,kappa:Xw,kappav:Qw,Kcedil:e_,kcedil:t_,Kcy:n_,kcy:r_,Kfr:o_,kfr:i_,kgreen:s_,KHcy:a_,khcy:c_,KJcy:l_,kjcy:u_,Kopf:d_,kopf:p_,Kscr:f_,kscr:h_,lAarr:m_,Lacute:v_,lacute:g_,laemptyv:b_,lagran:y_,Lambda:w_,lambda:__,lang:k_,Lang:E_,langd:x_,langle:C_,lap:S_,Laplacetrf:A_,laquo:L_,larrb:T_,larrbfs:M_,larr:D_,Larr:N_,lArr:H_,larrfs:q_,larrhk:O_,larrlp:R_,larrpl:I_,larrsim:P_,larrtl:j_,latail:B_,lAtail:F_,lat:z_,late:U_,lates:V_,lbarr:$_,lBarr:G_,lbbrk:W_,lbrace:K_,lbrack:Z_,lbrke:Y_,lbrksld:J_,lbrkslu:X_,Lcaron:Q_,lcaron:ek,Lcedil:tk,lcedil:nk,lceil:rk,lcub:ok,Lcy:ik,lcy:sk,ldca:ak,ldquo:ck,ldquor:lk,ldrdhar:uk,ldrushar:dk,ldsh:pk,le:fk,lE:hk,LeftAngleBracket:mk,LeftArrowBar:vk,leftarrow:gk,LeftArrow:bk,Leftarrow:yk,LeftArrowRightArrow:wk,leftarrowtail:_k,LeftCeiling:kk,LeftDoubleBracket:Ek,LeftDownTeeVector:xk,LeftDownVectorBar:Ck,LeftDownVector:Sk,LeftFloor:Ak,leftharpoondown:Lk,leftharpoonup:Tk,leftleftarrows:Mk,leftrightarrow:Dk,LeftRightArrow:Nk,Leftrightarrow:Hk,leftrightarrows:qk,leftrightharpoons:Ok,leftrightsquigarrow:Rk,LeftRightVector:Ik,LeftTeeArrow:Pk,LeftTee:jk,LeftTeeVector:Bk,leftthreetimes:Fk,LeftTriangleBar:zk,LeftTriangle:Uk,LeftTriangleEqual:Vk,LeftUpDownVector:$k,LeftUpTeeVector:Gk,LeftUpVectorBar:Wk,LeftUpVector:Kk,LeftVectorBar:Zk,LeftVector:Yk,lEg:Jk,leg:Xk,leq:Qk,leqq:eE,leqslant:tE,lescc:nE,les:rE,lesdot:oE,lesdoto:iE,lesdotor:sE,lesg:aE,lesges:cE,lessapprox:lE,lessdot:uE,lesseqgtr:dE,lesseqqgtr:pE,LessEqualGreater:fE,LessFullEqual:hE,LessGreater:mE,lessgtr:vE,LessLess:gE,lesssim:bE,LessSlantEqual:yE,LessTilde:wE,lfisht:_E,lfloor:kE,Lfr:EE,lfr:xE,lg:CE,lgE:SE,lHar:AE,lhard:LE,lharu:TE,lharul:ME,lhblk:DE,LJcy:NE,ljcy:HE,llarr:qE,ll:OE,Ll:RE,llcorner:IE,Lleftarrow:PE,llhard:jE,lltri:BE,Lmidot:FE,lmidot:zE,lmoustache:UE,lmoust:VE,lnap:$E,lnapprox:GE,lne:WE,lnE:KE,lneq:ZE,lneqq:YE,lnsim:JE,loang:XE,loarr:QE,lobrk:e1,longleftarrow:t1,LongLeftArrow:n1,Longleftarrow:r1,longleftrightarrow:o1,LongLeftRightArrow:i1,Longleftrightarrow:s1,longmapsto:a1,longrightarrow:c1,LongRightArrow:l1,Longrightarrow:u1,looparrowleft:d1,looparrowright:p1,lopar:f1,Lopf:h1,lopf:m1,loplus:v1,lotimes:g1,lowast:b1,lowbar:y1,LowerLeftArrow:w1,LowerRightArrow:_1,loz:k1,lozenge:E1,lozf:x1,lpar:C1,lparlt:S1,lrarr:A1,lrcorner:L1,lrhar:T1,lrhard:M1,lrm:D1,lrtri:N1,lsaquo:H1,lscr:q1,Lscr:O1,lsh:R1,Lsh:I1,lsim:P1,lsime:j1,lsimg:B1,lsqb:F1,lsquo:z1,lsquor:U1,Lstrok:V1,lstrok:$1,ltcc:G1,ltcir:W1,lt:K1,LT:Z1,Lt:Y1,ltdot:J1,lthree:X1,ltimes:Q1,ltlarr:ex,ltquest:tx,ltri:nx,ltrie:rx,ltrif:ox,ltrPar:ix,lurdshar:sx,luruhar:ax,lvertneqq:cx,lvnE:lx,macr:ux,male:dx,malt:px,maltese:fx,Map:"⤅",map:hx,mapsto:mx,mapstodown:vx,mapstoleft:gx,mapstoup:bx,marker:yx,mcomma:wx,Mcy:_x,mcy:kx,mdash:Ex,mDDot:xx,measuredangle:Cx,MediumSpace:Sx,Mellintrf:Ax,Mfr:Lx,mfr:Tx,mho:Mx,micro:Dx,midast:Nx,midcir:Hx,mid:qx,middot:Ox,minusb:Rx,minus:Ix,minusd:Px,minusdu:jx,MinusPlus:Bx,mlcp:Fx,mldr:zx,mnplus:Ux,models:Vx,Mopf:$x,mopf:Gx,mp:Wx,mscr:Kx,Mscr:Zx,mstpos:Yx,Mu:Jx,mu:Xx,multimap:Qx,mumap:eC,nabla:tC,Nacute:nC,nacute:rC,nang:oC,nap:iC,napE:sC,napid:aC,napos:cC,napprox:lC,natural:uC,naturals:dC,natur:pC,nbsp:fC,nbump:hC,nbumpe:mC,ncap:vC,Ncaron:gC,ncaron:bC,Ncedil:yC,ncedil:wC,ncong:_C,ncongdot:kC,ncup:EC,Ncy:xC,ncy:CC,ndash:SC,nearhk:AC,nearr:LC,neArr:TC,nearrow:MC,ne:DC,nedot:NC,NegativeMediumSpace:HC,NegativeThickSpace:qC,NegativeThinSpace:OC,NegativeVeryThinSpace:RC,nequiv:IC,nesear:PC,nesim:jC,NestedGreaterGreater:BC,NestedLessLess:FC,NewLine:zC,nexist:UC,nexists:VC,Nfr:$C,nfr:GC,ngE:WC,nge:KC,ngeq:ZC,ngeqq:YC,ngeqslant:JC,nges:XC,nGg:QC,ngsim:eS,nGt:tS,ngt:nS,ngtr:rS,nGtv:oS,nharr:iS,nhArr:sS,nhpar:aS,ni:cS,nis:lS,nisd:uS,niv:dS,NJcy:pS,njcy:fS,nlarr:hS,nlArr:mS,nldr:vS,nlE:gS,nle:bS,nleftarrow:yS,nLeftarrow:wS,nleftrightarrow:_S,nLeftrightarrow:kS,nleq:ES,nleqq:xS,nleqslant:CS,nles:SS,nless:AS,nLl:LS,nlsim:TS,nLt:MS,nlt:DS,nltri:NS,nltrie:HS,nLtv:qS,nmid:OS,NoBreak:RS,NonBreakingSpace:IS,nopf:PS,Nopf:jS,Not:BS,not:FS,NotCongruent:zS,NotCupCap:US,NotDoubleVerticalBar:VS,NotElement:$S,NotEqual:GS,NotEqualTilde:WS,NotExists:KS,NotGreater:ZS,NotGreaterEqual:YS,NotGreaterFullEqual:JS,NotGreaterGreater:XS,NotGreaterLess:QS,NotGreaterSlantEqual:eA,NotGreaterTilde:tA,NotHumpDownHump:nA,NotHumpEqual:rA,notin:oA,notindot:iA,notinE:sA,notinva:aA,notinvb:cA,notinvc:lA,NotLeftTriangleBar:uA,NotLeftTriangle:dA,NotLeftTriangleEqual:pA,NotLess:fA,NotLessEqual:hA,NotLessGreater:mA,NotLessLess:vA,NotLessSlantEqual:gA,NotLessTilde:bA,NotNestedGreaterGreater:yA,NotNestedLessLess:wA,notni:_A,notniva:kA,notnivb:EA,notnivc:xA,NotPrecedes:CA,NotPrecedesEqual:SA,NotPrecedesSlantEqual:AA,NotReverseElement:LA,NotRightTriangleBar:TA,NotRightTriangle:MA,NotRightTriangleEqual:DA,NotSquareSubset:NA,NotSquareSubsetEqual:HA,NotSquareSuperset:qA,NotSquareSupersetEqual:OA,NotSubset:RA,NotSubsetEqual:IA,NotSucceeds:PA,NotSucceedsEqual:jA,NotSucceedsSlantEqual:BA,NotSucceedsTilde:FA,NotSuperset:zA,NotSupersetEqual:UA,NotTilde:VA,NotTildeEqual:$A,NotTildeFullEqual:GA,NotTildeTilde:WA,NotVerticalBar:KA,nparallel:ZA,npar:YA,nparsl:JA,npart:XA,npolint:QA,npr:eL,nprcue:tL,nprec:nL,npreceq:rL,npre:oL,nrarrc:iL,nrarr:sL,nrArr:aL,nrarrw:cL,nrightarrow:lL,nRightarrow:uL,nrtri:dL,nrtrie:pL,nsc:fL,nsccue:hL,nsce:mL,Nscr:vL,nscr:gL,nshortmid:bL,nshortparallel:yL,nsim:wL,nsime:_L,nsimeq:kL,nsmid:EL,nspar:xL,nsqsube:CL,nsqsupe:SL,nsub:AL,nsubE:LL,nsube:TL,nsubset:ML,nsubseteq:DL,nsubseteqq:NL,nsucc:HL,nsucceq:qL,nsup:OL,nsupE:RL,nsupe:IL,nsupset:PL,nsupseteq:jL,nsupseteqq:BL,ntgl:FL,Ntilde:zL,ntilde:UL,ntlg:VL,ntriangleleft:$L,ntrianglelefteq:GL,ntriangleright:WL,ntrianglerighteq:KL,Nu:ZL,nu:YL,num:JL,numero:XL,numsp:QL,nvap:eT,nvdash:tT,nvDash:nT,nVdash:rT,nVDash:oT,nvge:iT,nvgt:sT,nvHarr:aT,nvinfin:cT,nvlArr:lT,nvle:uT,nvlt:dT,nvltrie:pT,nvrArr:fT,nvrtrie:hT,nvsim:mT,nwarhk:vT,nwarr:gT,nwArr:bT,nwarrow:yT,nwnear:wT,Oacute:_T,oacute:kT,oast:ET,Ocirc:xT,ocirc:CT,ocir:ST,Ocy:AT,ocy:LT,odash:TT,Odblac:MT,odblac:DT,odiv:NT,odot:HT,odsold:qT,OElig:OT,oelig:RT,ofcir:IT,Ofr:PT,ofr:jT,ogon:BT,Ograve:FT,ograve:zT,ogt:UT,ohbar:VT,ohm:$T,oint:GT,olarr:WT,olcir:KT,olcross:ZT,oline:YT,olt:JT,Omacr:XT,omacr:QT,Omega:eM,omega:tM,Omicron:nM,omicron:rM,omid:oM,ominus:iM,Oopf:sM,oopf:aM,opar:cM,OpenCurlyDoubleQuote:lM,OpenCurlyQuote:uM,operp:dM,oplus:pM,orarr:fM,Or:hM,or:mM,ord:vM,order:gM,orderof:bM,ordf:yM,ordm:wM,origof:_M,oror:kM,orslope:EM,orv:xM,oS:CM,Oscr:SM,oscr:AM,Oslash:LM,oslash:TM,osol:MM,Otilde:DM,otilde:NM,otimesas:HM,Otimes:qM,otimes:OM,Ouml:RM,ouml:IM,ovbar:PM,OverBar:jM,OverBrace:BM,OverBracket:FM,OverParenthesis:zM,para:UM,parallel:VM,par:$M,parsim:GM,parsl:WM,part:KM,PartialD:ZM,Pcy:YM,pcy:JM,percnt:XM,period:QM,permil:eD,perp:tD,pertenk:nD,Pfr:rD,pfr:oD,Phi:iD,phi:sD,phiv:aD,phmmat:cD,phone:lD,Pi:uD,pi:dD,pitchfork:pD,piv:fD,planck:hD,planckh:mD,plankv:vD,plusacir:gD,plusb:bD,pluscir:yD,plus:wD,plusdo:_D,plusdu:kD,pluse:ED,PlusMinus:xD,plusmn:CD,plussim:SD,plustwo:AD,pm:LD,Poincareplane:TD,pointint:MD,popf:DD,Popf:ND,pound:HD,prap:qD,Pr:OD,pr:RD,prcue:ID,precapprox:PD,prec:jD,preccurlyeq:BD,Precedes:FD,PrecedesEqual:zD,PrecedesSlantEqual:UD,PrecedesTilde:VD,preceq:$D,precnapprox:GD,precneqq:WD,precnsim:KD,pre:ZD,prE:YD,precsim:JD,prime:XD,Prime:QD,primes:eN,prnap:tN,prnE:nN,prnsim:rN,prod:oN,Product:iN,profalar:sN,profline:aN,profsurf:cN,prop:lN,Proportional:uN,Proportion:dN,propto:pN,prsim:fN,prurel:hN,Pscr:mN,pscr:vN,Psi:gN,psi:bN,puncsp:yN,Qfr:wN,qfr:_N,qint:kN,qopf:EN,Qopf:xN,qprime:CN,Qscr:SN,qscr:AN,quaternions:LN,quatint:TN,quest:MN,questeq:DN,quot:NN,QUOT:HN,rAarr:qN,race:ON,Racute:RN,racute:IN,radic:PN,raemptyv:jN,rang:BN,Rang:FN,rangd:zN,range:UN,rangle:VN,raquo:$N,rarrap:GN,rarrb:WN,rarrbfs:KN,rarrc:ZN,rarr:YN,Rarr:JN,rArr:XN,rarrfs:QN,rarrhk:e2,rarrlp:t2,rarrpl:n2,rarrsim:r2,Rarrtl:o2,rarrtl:i2,rarrw:s2,ratail:a2,rAtail:c2,ratio:l2,rationals:u2,rbarr:d2,rBarr:p2,RBarr:f2,rbbrk:h2,rbrace:m2,rbrack:v2,rbrke:g2,rbrksld:b2,rbrkslu:y2,Rcaron:w2,rcaron:_2,Rcedil:k2,rcedil:E2,rceil:x2,rcub:C2,Rcy:S2,rcy:A2,rdca:L2,rdldhar:T2,rdquo:M2,rdquor:D2,rdsh:N2,real:H2,realine:q2,realpart:O2,reals:R2,Re:I2,rect:P2,reg:j2,REG:B2,ReverseElement:F2,ReverseEquilibrium:z2,ReverseUpEquilibrium:U2,rfisht:V2,rfloor:$2,rfr:G2,Rfr:W2,rHar:K2,rhard:Z2,rharu:Y2,rharul:J2,Rho:X2,rho:Q2,rhov:eH,RightAngleBracket:tH,RightArrowBar:nH,rightarrow:rH,RightArrow:oH,Rightarrow:iH,RightArrowLeftArrow:sH,rightarrowtail:aH,RightCeiling:cH,RightDoubleBracket:lH,RightDownTeeVector:uH,RightDownVectorBar:dH,RightDownVector:pH,RightFloor:fH,rightharpoondown:hH,rightharpoonup:mH,rightleftarrows:vH,rightleftharpoons:gH,rightrightarrows:bH,rightsquigarrow:yH,RightTeeArrow:wH,RightTee:_H,RightTeeVector:kH,rightthreetimes:EH,RightTriangleBar:xH,RightTriangle:CH,RightTriangleEqual:SH,RightUpDownVector:AH,RightUpTeeVector:LH,RightUpVectorBar:TH,RightUpVector:MH,RightVectorBar:DH,RightVector:NH,ring:HH,risingdotseq:qH,rlarr:OH,rlhar:RH,rlm:IH,rmoustache:PH,rmoust:jH,rnmid:BH,roang:FH,roarr:zH,robrk:UH,ropar:VH,ropf:$H,Ropf:GH,roplus:WH,rotimes:KH,RoundImplies:ZH,rpar:YH,rpargt:JH,rppolint:XH,rrarr:QH,Rrightarrow:eq,rsaquo:tq,rscr:nq,Rscr:rq,rsh:oq,Rsh:iq,rsqb:sq,rsquo:aq,rsquor:cq,rthree:lq,rtimes:uq,rtri:dq,rtrie:pq,rtrif:fq,rtriltri:hq,RuleDelayed:mq,ruluhar:vq,rx:gq,Sacute:bq,sacute:yq,sbquo:wq,scap:_q,Scaron:kq,scaron:Eq,Sc:xq,sc:Cq,sccue:Sq,sce:Aq,scE:Lq,Scedil:Tq,scedil:Mq,Scirc:Dq,scirc:Nq,scnap:Hq,scnE:qq,scnsim:Oq,scpolint:Rq,scsim:Iq,Scy:Pq,scy:jq,sdotb:Bq,sdot:Fq,sdote:zq,searhk:Uq,searr:Vq,seArr:$q,searrow:Gq,sect:Wq,semi:Kq,seswar:Zq,setminus:Yq,setmn:Jq,sext:Xq,Sfr:Qq,sfr:eO,sfrown:tO,sharp:nO,SHCHcy:rO,shchcy:oO,SHcy:iO,shcy:sO,ShortDownArrow:aO,ShortLeftArrow:cO,shortmid:lO,shortparallel:uO,ShortRightArrow:dO,ShortUpArrow:pO,shy:fO,Sigma:hO,sigma:mO,sigmaf:vO,sigmav:gO,sim:bO,simdot:yO,sime:wO,simeq:_O,simg:kO,simgE:EO,siml:xO,simlE:CO,simne:SO,simplus:AO,simrarr:LO,slarr:TO,SmallCircle:MO,smallsetminus:DO,smashp:NO,smeparsl:HO,smid:qO,smile:OO,smt:RO,smte:IO,smtes:PO,SOFTcy:jO,softcy:BO,solbar:FO,solb:zO,sol:UO,Sopf:VO,sopf:$O,spades:GO,spadesuit:WO,spar:KO,sqcap:ZO,sqcaps:YO,sqcup:JO,sqcups:XO,Sqrt:QO,sqsub:eR,sqsube:tR,sqsubset:nR,sqsubseteq:rR,sqsup:oR,sqsupe:iR,sqsupset:sR,sqsupseteq:aR,square:cR,Square:lR,SquareIntersection:uR,SquareSubset:dR,SquareSubsetEqual:pR,SquareSuperset:fR,SquareSupersetEqual:hR,SquareUnion:mR,squarf:vR,squ:gR,squf:bR,srarr:yR,Sscr:wR,sscr:_R,ssetmn:kR,ssmile:ER,sstarf:xR,Star:CR,star:SR,starf:AR,straightepsilon:LR,straightphi:TR,strns:MR,sub:DR,Sub:NR,subdot:HR,subE:qR,sube:OR,subedot:RR,submult:IR,subnE:PR,subne:jR,subplus:BR,subrarr:FR,subset:zR,Subset:UR,subseteq:VR,subseteqq:$R,SubsetEqual:GR,subsetneq:WR,subsetneqq:KR,subsim:ZR,subsub:YR,subsup:JR,succapprox:XR,succ:QR,succcurlyeq:eI,Succeeds:tI,SucceedsEqual:nI,SucceedsSlantEqual:rI,SucceedsTilde:oI,succeq:iI,succnapprox:sI,succneqq:aI,succnsim:cI,succsim:lI,SuchThat:uI,sum:dI,Sum:pI,sung:fI,sup1:hI,sup2:mI,sup3:vI,sup:gI,Sup:bI,supdot:yI,supdsub:wI,supE:_I,supe:kI,supedot:EI,Superset:xI,SupersetEqual:CI,suphsol:SI,suphsub:AI,suplarr:LI,supmult:TI,supnE:MI,supne:DI,supplus:NI,supset:HI,Supset:qI,supseteq:OI,supseteqq:RI,supsetneq:II,supsetneqq:PI,supsim:jI,supsub:BI,supsup:FI,swarhk:zI,swarr:UI,swArr:VI,swarrow:$I,swnwar:GI,szlig:WI,Tab:KI,target:ZI,Tau:YI,tau:JI,tbrk:XI,Tcaron:QI,tcaron:eP,Tcedil:tP,tcedil:nP,Tcy:rP,tcy:oP,tdot:iP,telrec:sP,Tfr:aP,tfr:cP,there4:lP,therefore:uP,Therefore:dP,Theta:pP,theta:fP,thetasym:hP,thetav:mP,thickapprox:vP,thicksim:gP,ThickSpace:bP,ThinSpace:yP,thinsp:wP,thkap:_P,thksim:kP,THORN:EP,thorn:xP,tilde:CP,Tilde:SP,TildeEqual:AP,TildeFullEqual:LP,TildeTilde:TP,timesbar:MP,timesb:DP,times:NP,timesd:HP,tint:qP,toea:OP,topbot:RP,topcir:IP,top:PP,Topf:jP,topf:BP,topfork:FP,tosa:zP,tprime:UP,trade:VP,TRADE:$P,triangle:GP,triangledown:WP,triangleleft:KP,trianglelefteq:ZP,triangleq:YP,triangleright:JP,trianglerighteq:XP,tridot:QP,trie:ej,triminus:tj,TripleDot:nj,triplus:rj,trisb:oj,tritime:ij,trpezium:sj,Tscr:aj,tscr:cj,TScy:lj,tscy:uj,TSHcy:dj,tshcy:pj,Tstrok:fj,tstrok:hj,twixt:mj,twoheadleftarrow:vj,twoheadrightarrow:gj,Uacute:bj,uacute:yj,uarr:wj,Uarr:_j,uArr:kj,Uarrocir:Ej,Ubrcy:xj,ubrcy:Cj,Ubreve:Sj,ubreve:Aj,Ucirc:Lj,ucirc:Tj,Ucy:Mj,ucy:Dj,udarr:Nj,Udblac:Hj,udblac:qj,udhar:Oj,ufisht:Rj,Ufr:Ij,ufr:Pj,Ugrave:jj,ugrave:Bj,uHar:Fj,uharl:zj,uharr:Uj,uhblk:Vj,ulcorn:$j,ulcorner:Gj,ulcrop:Wj,ultri:Kj,Umacr:Zj,umacr:Yj,uml:Jj,UnderBar:Xj,UnderBrace:Qj,UnderBracket:eB,UnderParenthesis:tB,Union:nB,UnionPlus:rB,Uogon:oB,uogon:iB,Uopf:sB,uopf:aB,UpArrowBar:cB,uparrow:lB,UpArrow:uB,Uparrow:dB,UpArrowDownArrow:pB,updownarrow:fB,UpDownArrow:hB,Updownarrow:mB,UpEquilibrium:vB,upharpoonleft:gB,upharpoonright:bB,uplus:yB,UpperLeftArrow:wB,UpperRightArrow:_B,upsi:kB,Upsi:EB,upsih:xB,Upsilon:CB,upsilon:SB,UpTeeArrow:AB,UpTee:LB,upuparrows:TB,urcorn:MB,urcorner:DB,urcrop:NB,Uring:HB,uring:qB,urtri:OB,Uscr:RB,uscr:IB,utdot:PB,Utilde:jB,utilde:BB,utri:FB,utrif:zB,uuarr:UB,Uuml:VB,uuml:$B,uwangle:GB,vangrt:WB,varepsilon:KB,varkappa:ZB,varnothing:YB,varphi:JB,varpi:XB,varpropto:QB,varr:e3,vArr:t3,varrho:n3,varsigma:r3,varsubsetneq:o3,varsubsetneqq:i3,varsupsetneq:s3,varsupsetneqq:a3,vartheta:c3,vartriangleleft:l3,vartriangleright:u3,vBar:d3,Vbar:p3,vBarv:f3,Vcy:h3,vcy:m3,vdash:v3,vDash:g3,Vdash:b3,VDash:y3,Vdashl:w3,veebar:_3,vee:k3,Vee:E3,veeeq:x3,vellip:C3,verbar:S3,Verbar:A3,vert:L3,Vert:T3,VerticalBar:M3,VerticalLine:D3,VerticalSeparator:N3,VerticalTilde:H3,VeryThinSpace:q3,Vfr:O3,vfr:R3,vltri:I3,vnsub:P3,vnsup:j3,Vopf:B3,vopf:F3,vprop:z3,vrtri:U3,Vscr:V3,vscr:$3,vsubnE:G3,vsubne:W3,vsupnE:K3,vsupne:Z3,Vvdash:Y3,vzigzag:J3,Wcirc:X3,wcirc:Q3,wedbar:eF,wedge:tF,Wedge:nF,wedgeq:rF,weierp:oF,Wfr:iF,wfr:sF,Wopf:aF,wopf:cF,wp:lF,wr:uF,wreath:dF,Wscr:pF,wscr:fF,xcap:hF,xcirc:mF,xcup:vF,xdtri:gF,Xfr:bF,xfr:yF,xharr:wF,xhArr:_F,Xi:kF,xi:EF,xlarr:xF,xlArr:CF,xmap:SF,xnis:AF,xodot:LF,Xopf:TF,xopf:MF,xoplus:DF,xotime:NF,xrarr:HF,xrArr:qF,Xscr:OF,xscr:RF,xsqcup:IF,xuplus:PF,xutri:jF,xvee:BF,xwedge:FF,Yacute:zF,yacute:UF,YAcy:VF,yacy:$F,Ycirc:GF,ycirc:WF,Ycy:KF,ycy:ZF,yen:YF,Yfr:JF,yfr:XF,YIcy:QF,yicy:ez,Yopf:tz,yopf:nz,Yscr:rz,yscr:oz,YUcy:iz,yucy:sz,yuml:az,Yuml:cz,Zacute:lz,zacute:uz,Zcaron:dz,zcaron:pz,Zcy:fz,zcy:hz,Zdot:mz,zdot:vz,zeetrf:gz,ZeroWidthSpace:bz,Zeta:yz,zeta:wz,zfr:_z,Zfr:kz,ZHcy:Ez,zhcy:xz,zigrarr:Cz,zopf:Sz,Zopf:Az,Zscr:Lz,zscr:Tz,zwj:Mz,zwnj:Dz};var No=Nz,Kn=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,St={},zr={};function Hz(u){var r,a,v=zr[u];if(v)return v;for(v=zr[u]=[],r=0;r<128;r++)a=String.fromCharCode(r),/^[0-9a-z]$/i.test(a)?v.push(a):v.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<u.length;r++)v[u.charCodeAt(r)]=u[r];return v}function on(u,r,a){var v,b,g,E,m,l="";for(typeof r!="string"&&(a=r,r=on.defaultChars),typeof a>"u"&&(a=!0),m=Hz(r),v=0,b=u.length;v<b;v++){if(g=u.charCodeAt(v),a&&g===37&&v+2<b&&/^[0-9a-f]{2}$/i.test(u.slice(v+1,v+3))){l+=u.slice(v,v+3),v+=2;continue}if(g<128){l+=m[g];continue}if(g>=55296&&g<=57343){if(g>=55296&&g<=56319&&v+1<b&&(E=u.charCodeAt(v+1),E>=56320&&E<=57343)){l+=encodeURIComponent(u[v]+u[v+1]),v++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(u[v])}return l}on.defaultChars=";/?:@&=+$,-_.!~*'()#";on.componentChars="-_.!~*'()";var qz=on,Ur={};function Oz(u){var r,a,v=Ur[u];if(v)return v;for(v=Ur[u]=[],r=0;r<128;r++)a=String.fromCharCode(r),v.push(a);for(r=0;r<u.length;r++)a=u.charCodeAt(r),v[a]="%"+("0"+a.toString(16).toUpperCase()).slice(-2);return v}function sn(u,r){var a;return typeof r!="string"&&(r=sn.defaultChars),a=Oz(r),u.replace(/(%[a-f0-9]{2})+/gi,function(v){var b,g,E,m,l,c,h,f="";for(b=0,g=v.length;b<g;b+=3){if(E=parseInt(v.slice(b+1,b+3),16),E<128){f+=a[E];continue}if((E&224)===192&&b+3<g&&(m=parseInt(v.slice(b+4,b+6),16),(m&192)===128)){h=E<<6&1984|m&63,h<128?f+="��":f+=String.fromCharCode(h),b+=3;continue}if((E&240)===224&&b+6<g&&(m=parseInt(v.slice(b+4,b+6),16),l=parseInt(v.slice(b+7,b+9),16),(m&192)===128&&(l&192)===128)){h=E<<12&61440|m<<6&4032|l&63,h<2048||h>=55296&&h<=57343?f+="���":f+=String.fromCharCode(h),b+=6;continue}if((E&248)===240&&b+9<g&&(m=parseInt(v.slice(b+4,b+6),16),l=parseInt(v.slice(b+7,b+9),16),c=parseInt(v.slice(b+10,b+12),16),(m&192)===128&&(l&192)===128&&(c&192)===128)){h=E<<18&1835008|m<<12&258048|l<<6&4032|c&63,h<65536||h>1114111?f+="����":(h-=65536,f+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),b+=9;continue}f+="�"}return f})}sn.defaultChars=";/?:@&=+$,#";sn.componentChars="";var Rz=sn,Iz=function(r){var a="";return a+=r.protocol||"",a+=r.slashes?"//":"",a+=r.auth?r.auth+"@":"",r.hostname&&r.hostname.indexOf(":")!==-1?a+="["+r.hostname+"]":a+=r.hostname||"",a+=r.port?":"+r.port:"",a+=r.pathname||"",a+=r.search||"",a+=r.hash||"",a};function en(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var Pz=/^([a-z0-9.+-]+:)/i,jz=/:[0-9]*$/,Bz=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Fz=["<",">",'"',"`"," ","\r",`
`,"	"],zz=["{","}","|","\\","^","`"].concat(Fz),Uz=["'"].concat(zz),Vr=["%","/","?",";","#"].concat(Uz),$r=["/","?","#"],Vz=255,Gr=/^[+a-z0-9A-Z_-]{0,63}$/,$z=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Wr={javascript:!0,"javascript:":!0},Kr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Gz(u,r){if(u&&u instanceof en)return u;var a=new en;return a.parse(u,r),a}en.prototype.parse=function(u,r){var a,v,b,g,E,m=u;if(m=m.trim(),!r&&u.split("#").length===1){var l=Bz.exec(m);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}var c=Pz.exec(m);if(c&&(c=c[0],b=c.toLowerCase(),this.protocol=c,m=m.substr(c.length)),(r||c||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(E=m.substr(0,2)==="//",E&&!(c&&Wr[c])&&(m=m.substr(2),this.slashes=!0)),!Wr[c]&&(E||c&&!Kr[c])){var h=-1;for(a=0;a<$r.length;a++)g=m.indexOf($r[a]),g!==-1&&(h===-1||g<h)&&(h=g);var f,y;for(h===-1?y=m.lastIndexOf("@"):y=m.lastIndexOf("@",h),y!==-1&&(f=m.slice(0,y),m=m.slice(y+1),this.auth=f),h=-1,a=0;a<Vr.length;a++)g=m.indexOf(Vr[a]),g!==-1&&(h===-1||g<h)&&(h=g);h===-1&&(h=m.length),m[h-1]===":"&&h--;var p=m.slice(0,h);m=m.slice(h),this.parseHost(p),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w){var k=this.hostname.split(/\./);for(a=0,v=k.length;a<v;a++){var C=k[a];if(C&&!C.match(Gr)){for(var N="",T=0,H=C.length;T<H;T++)C.charCodeAt(T)>127?N+="x":N+=C[T];if(!N.match(Gr)){var M=k.slice(0,a),D=k.slice(a+1),_=C.match($z);_&&(M.push(_[1]),D.unshift(_[2])),D.length&&(m=D.join(".")+m),this.hostname=M.join(".");break}}}}this.hostname.length>Vz&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var j=m.indexOf("#");j!==-1&&(this.hash=m.substr(j),m=m.slice(0,j));var z=m.indexOf("?");return z!==-1&&(this.search=m.substr(z),m=m.slice(0,z)),m&&(this.pathname=m),Kr[b]&&this.hostname&&!this.pathname&&(this.pathname=""),this};en.prototype.parseHost=function(u){var r=jz.exec(u);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),u=u.substr(0,u.length-r.length)),u&&(this.hostname=u)};var Wz=Gz;St.encode=qz;St.decode=Rz;St.format=Iz;St.parse=Wz;var ut={},Dn,Zr;function Ho(){return Zr||(Zr=1,Dn=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),Dn}var Nn,Yr;function qo(){return Yr||(Yr=1,Nn=/[\0-\x1F\x7F-\x9F]/),Nn}var Hn,Jr;function Kz(){return Jr||(Jr=1,Hn=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),Hn}var qn,Xr;function Oo(){return Xr||(Xr=1,qn=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),qn}var Qr;function Zz(){return Qr||(Qr=1,ut.Any=Ho(),ut.Cc=qo(),ut.Cf=Kz(),ut.P=Kn,ut.Z=Oo()),ut}(function(u){function r(O){return Object.prototype.toString.call(O)}function a(O){return r(O)==="[object String]"}var v=Object.prototype.hasOwnProperty;function b(O,B){return v.call(O,B)}function g(O){var B=Array.prototype.slice.call(arguments,1);return B.forEach(function(U){if(U){if(typeof U!="object")throw new TypeError(U+"must be object");Object.keys(U).forEach(function($){O[$]=U[$]})}}),O}function E(O,B,U){return[].concat(O.slice(0,B),U,O.slice(B+1))}function m(O){return!(O>=55296&&O<=57343||O>=64976&&O<=65007||(O&65535)===65535||(O&65535)===65534||O>=0&&O<=8||O===11||O>=14&&O<=31||O>=127&&O<=159||O>1114111)}function l(O){if(O>65535){O-=65536;var B=55296+(O>>10),U=56320+(O&1023);return String.fromCharCode(B,U)}return String.fromCharCode(O)}var c=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,h=/&([a-z#][a-z0-9]{1,31});/gi,f=new RegExp(c.source+"|"+h.source,"gi"),y=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,p=No;function w(O,B){var U=0;return b(p,B)?p[B]:B.charCodeAt(0)===35&&y.test(B)&&(U=B[1].toLowerCase()==="x"?parseInt(B.slice(2),16):parseInt(B.slice(1),10),m(U))?l(U):O}function k(O){return O.indexOf("\\")<0?O:O.replace(c,"$1")}function C(O){return O.indexOf("\\")<0&&O.indexOf("&")<0?O:O.replace(f,function(B,U,$){return U||w(B,$)})}var N=/[&<>"]/,T=/[&<>"]/g,H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function M(O){return H[O]}function D(O){return N.test(O)?O.replace(T,M):O}var _=/[.?*+^$[\]\\(){}|-]/g;function j(O){return O.replace(_,"\\$&")}function z(O){switch(O){case 9:case 32:return!0}return!1}function K(O){if(O>=8192&&O<=8202)return!0;switch(O){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var F=Kn;function ie(O){return F.test(O)}function fe(O){switch(O){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function ne(O){return O=O.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(O=O.replace(/ẞ/g,"ß")),O.toLowerCase().toUpperCase()}u.lib={},u.lib.mdurl=St,u.lib.ucmicro=Zz(),u.assign=g,u.isString=a,u.has=b,u.unescapeMd=k,u.unescapeAll=C,u.isValidEntityCode=m,u.fromCodePoint=l,u.escapeHtml=D,u.arrayReplaceAt=E,u.isSpace=z,u.isWhiteSpace=K,u.isMdAsciiPunct=fe,u.isPunctChar=ie,u.escapeRE=j,u.normalizeReference=ne})(xe);var an={},Yz=function(r,a,v){var b,g,E,m,l=-1,c=r.posMax,h=r.pos;for(r.pos=a+1,b=1;r.pos<c;){if(E=r.src.charCodeAt(r.pos),E===93&&(b--,b===0)){g=!0;break}if(m=r.pos,r.md.inline.skipToken(r),E===91){if(m===r.pos-1)b++;else if(v)return r.pos=h,-1}}return g&&(l=r.pos),r.pos=h,l},eo=xe.unescapeAll,Jz=function(r,a,v){var b,g,E=0,m=a,l={ok:!1,pos:0,lines:0,str:""};if(r.charCodeAt(a)===60){for(a++;a<v;){if(b=r.charCodeAt(a),b===10||b===60)return l;if(b===62)return l.pos=a+1,l.str=eo(r.slice(m+1,a)),l.ok=!0,l;if(b===92&&a+1<v){a+=2;continue}a++}return l}for(g=0;a<v&&(b=r.charCodeAt(a),!(b===32||b<32||b===127));){if(b===92&&a+1<v){if(r.charCodeAt(a+1)===32)break;a+=2;continue}if(b===40&&(g++,g>32))return l;if(b===41){if(g===0)break;g--}a++}return m===a||g!==0||(l.str=eo(r.slice(m,a)),l.lines=E,l.pos=a,l.ok=!0),l},Xz=xe.unescapeAll,Qz=function(r,a,v){var b,g,E=0,m=a,l={ok:!1,pos:0,lines:0,str:""};if(a>=v||(g=r.charCodeAt(a),g!==34&&g!==39&&g!==40))return l;for(a++,g===40&&(g=41);a<v;){if(b=r.charCodeAt(a),b===g)return l.pos=a+1,l.lines=E,l.str=Xz(r.slice(m+1,a)),l.ok=!0,l;if(b===40&&g===41)return l;b===10?E++:b===92&&a+1<v&&(a++,r.charCodeAt(a)===10&&E++),a++}return l};an.parseLinkLabel=Yz;an.parseLinkDestination=Jz;an.parseLinkTitle=Qz;var eU=xe.assign,tU=xe.unescapeAll,ft=xe.escapeHtml,Xe={};Xe.code_inline=function(u,r,a,v,b){var g=u[r];return"<code"+b.renderAttrs(g)+">"+ft(u[r].content)+"</code>"};Xe.code_block=function(u,r,a,v,b){var g=u[r];return"<pre"+b.renderAttrs(g)+"><code>"+ft(u[r].content)+`</code></pre>
`};Xe.fence=function(u,r,a,v,b){var g=u[r],E=g.info?tU(g.info).trim():"",m="",l="",c,h,f,y,p;return E&&(f=E.split(/(\s+)/g),m=f[0],l=f.slice(2).join("")),a.highlight?c=a.highlight(g.content,m,l)||ft(g.content):c=ft(g.content),c.indexOf("<pre")===0?c+`
`:E?(h=g.attrIndex("class"),y=g.attrs?g.attrs.slice():[],h<0?y.push(["class",a.langPrefix+m]):(y[h]=y[h].slice(),y[h][1]+=" "+a.langPrefix+m),p={attrs:y},"<pre><code"+b.renderAttrs(p)+">"+c+`</code></pre>
`):"<pre><code"+b.renderAttrs(g)+">"+c+`</code></pre>
`};Xe.image=function(u,r,a,v,b){var g=u[r];return g.attrs[g.attrIndex("alt")][1]=b.renderInlineAsText(g.children,a,v),b.renderToken(u,r,a)};Xe.hardbreak=function(u,r,a){return a.xhtmlOut?`<br />
`:`<br>
`};Xe.softbreak=function(u,r,a){return a.breaks?a.xhtmlOut?`<br />
`:`<br>
`:`
`};Xe.text=function(u,r){return ft(u[r].content)};Xe.html_block=function(u,r){return u[r].content};Xe.html_inline=function(u,r){return u[r].content};function At(){this.rules=eU({},Xe)}At.prototype.renderAttrs=function(r){var a,v,b;if(!r.attrs)return"";for(b="",a=0,v=r.attrs.length;a<v;a++)b+=" "+ft(r.attrs[a][0])+'="'+ft(r.attrs[a][1])+'"';return b};At.prototype.renderToken=function(r,a,v){var b,g="",E=!1,m=r[a];return m.hidden?"":(m.block&&m.nesting!==-1&&a&&r[a-1].hidden&&(g+=`
`),g+=(m.nesting===-1?"</":"<")+m.tag,g+=this.renderAttrs(m),m.nesting===0&&v.xhtmlOut&&(g+=" /"),m.block&&(E=!0,m.nesting===1&&a+1<r.length&&(b=r[a+1],(b.type==="inline"||b.hidden||b.nesting===-1&&b.tag===m.tag)&&(E=!1))),g+=E?`>
`:">",g)};At.prototype.renderInline=function(u,r,a){for(var v,b="",g=this.rules,E=0,m=u.length;E<m;E++)v=u[E].type,typeof g[v]<"u"?b+=g[v](u,E,r,a,this):b+=this.renderToken(u,E,r);return b};At.prototype.renderInlineAsText=function(u,r,a){for(var v="",b=0,g=u.length;b<g;b++)u[b].type==="text"?v+=u[b].content:u[b].type==="image"?v+=this.renderInlineAsText(u[b].children,r,a):u[b].type==="softbreak"&&(v+=`
`);return v};At.prototype.render=function(u,r,a){var v,b,g,E="",m=this.rules;for(v=0,b=u.length;v<b;v++)g=u[v].type,g==="inline"?E+=this.renderInline(u[v].children,r,a):typeof m[g]<"u"?E+=m[u[v].type](u,v,r,a,this):E+=this.renderToken(u,v,r,a);return E};var nU=At;function Ye(){this.__rules__=[],this.__cache__=null}Ye.prototype.__find__=function(u){for(var r=0;r<this.__rules__.length;r++)if(this.__rules__[r].name===u)return r;return-1};Ye.prototype.__compile__=function(){var u=this,r=[""];u.__rules__.forEach(function(a){a.enabled&&a.alt.forEach(function(v){r.indexOf(v)<0&&r.push(v)})}),u.__cache__={},r.forEach(function(a){u.__cache__[a]=[],u.__rules__.forEach(function(v){v.enabled&&(a&&v.alt.indexOf(a)<0||u.__cache__[a].push(v.fn))})})};Ye.prototype.at=function(u,r,a){var v=this.__find__(u),b=a||{};if(v===-1)throw new Error("Parser rule not found: "+u);this.__rules__[v].fn=r,this.__rules__[v].alt=b.alt||[],this.__cache__=null};Ye.prototype.before=function(u,r,a,v){var b=this.__find__(u),g=v||{};if(b===-1)throw new Error("Parser rule not found: "+u);this.__rules__.splice(b,0,{name:r,enabled:!0,fn:a,alt:g.alt||[]}),this.__cache__=null};Ye.prototype.after=function(u,r,a,v){var b=this.__find__(u),g=v||{};if(b===-1)throw new Error("Parser rule not found: "+u);this.__rules__.splice(b+1,0,{name:r,enabled:!0,fn:a,alt:g.alt||[]}),this.__cache__=null};Ye.prototype.push=function(u,r,a){var v=a||{};this.__rules__.push({name:u,enabled:!0,fn:r,alt:v.alt||[]}),this.__cache__=null};Ye.prototype.enable=function(u,r){Array.isArray(u)||(u=[u]);var a=[];return u.forEach(function(v){var b=this.__find__(v);if(b<0){if(r)return;throw new Error("Rules manager: invalid rule name "+v)}this.__rules__[b].enabled=!0,a.push(v)},this),this.__cache__=null,a};Ye.prototype.enableOnly=function(u,r){Array.isArray(u)||(u=[u]),this.__rules__.forEach(function(a){a.enabled=!1}),this.enable(u,r)};Ye.prototype.disable=function(u,r){Array.isArray(u)||(u=[u]);var a=[];return u.forEach(function(v){var b=this.__find__(v);if(b<0){if(r)return;throw new Error("Rules manager: invalid rule name "+v)}this.__rules__[b].enabled=!1,a.push(v)},this),this.__cache__=null,a};Ye.prototype.getRules=function(u){return this.__cache__===null&&this.__compile__(),this.__cache__[u]||[]};var Zn=Ye,rU=/\r\n?|\n/g,oU=/\0/g,iU=function(r){var a;a=r.src.replace(rU,`
`),a=a.replace(oU,"�"),r.src=a},sU=function(r){var a;r.inlineMode?(a=new r.Token("inline","",0),a.content=r.src,a.map=[0,1],a.children=[],r.tokens.push(a)):r.md.block.parse(r.src,r.md,r.env,r.tokens)},aU=function(r){var a=r.tokens,v,b,g;for(b=0,g=a.length;b<g;b++)v=a[b],v.type==="inline"&&r.md.inline.parse(v.content,r.md,r.env,v.children)},cU=xe.arrayReplaceAt;function lU(u){return/^<a[>\s]/i.test(u)}function uU(u){return/^<\/a\s*>/i.test(u)}var dU=function(r){var a,v,b,g,E,m,l,c,h,f,y,p,w,k,C,N,T=r.tokens,H;if(r.md.options.linkify){for(v=0,b=T.length;v<b;v++)if(!(T[v].type!=="inline"||!r.md.linkify.pretest(T[v].content)))for(g=T[v].children,w=0,a=g.length-1;a>=0;a--){if(m=g[a],m.type==="link_close"){for(a--;g[a].level!==m.level&&g[a].type!=="link_open";)a--;continue}if(m.type==="html_inline"&&(lU(m.content)&&w>0&&w--,uU(m.content)&&w++),!(w>0)&&m.type==="text"&&r.md.linkify.test(m.content)){for(h=m.content,H=r.md.linkify.match(h),l=[],p=m.level,y=0,H.length>0&&H[0].index===0&&a>0&&g[a-1].type==="text_special"&&(H=H.slice(1)),c=0;c<H.length;c++)k=H[c].url,C=r.md.normalizeLink(k),r.md.validateLink(C)&&(N=H[c].text,H[c].schema?H[c].schema==="mailto:"&&!/^mailto:/i.test(N)?N=r.md.normalizeLinkText("mailto:"+N).replace(/^mailto:/,""):N=r.md.normalizeLinkText(N):N=r.md.normalizeLinkText("http://"+N).replace(/^http:\/\//,""),f=H[c].index,f>y&&(E=new r.Token("text","",0),E.content=h.slice(y,f),E.level=p,l.push(E)),E=new r.Token("link_open","a",1),E.attrs=[["href",C]],E.level=p++,E.markup="linkify",E.info="auto",l.push(E),E=new r.Token("text","",0),E.content=N,E.level=p,l.push(E),E=new r.Token("link_close","a",-1),E.level=--p,E.markup="linkify",E.info="auto",l.push(E),y=H[c].lastIndex);y<h.length&&(E=new r.Token("text","",0),E.content=h.slice(y),E.level=p,l.push(E)),T[v].children=g=cU(g,a,l)}}}},Ro=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,pU=/\((c|tm|r)\)/i,fU=/\((c|tm|r)\)/ig,hU={c:"©",r:"®",tm:"™"};function mU(u,r){return hU[r.toLowerCase()]}function vU(u){var r,a,v=0;for(r=u.length-1;r>=0;r--)a=u[r],a.type==="text"&&!v&&(a.content=a.content.replace(fU,mU)),a.type==="link_open"&&a.info==="auto"&&v--,a.type==="link_close"&&a.info==="auto"&&v++}function gU(u){var r,a,v=0;for(r=u.length-1;r>=0;r--)a=u[r],a.type==="text"&&!v&&Ro.test(a.content)&&(a.content=a.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),a.type==="link_open"&&a.info==="auto"&&v--,a.type==="link_close"&&a.info==="auto"&&v++}var bU=function(r){var a;if(r.md.options.typographer)for(a=r.tokens.length-1;a>=0;a--)r.tokens[a].type==="inline"&&(pU.test(r.tokens[a].content)&&vU(r.tokens[a].children),Ro.test(r.tokens[a].content)&&gU(r.tokens[a].children))},to=xe.isWhiteSpace,no=xe.isPunctChar,ro=xe.isMdAsciiPunct,yU=/['"]/,oo=/['"]/g,io="’";function Zt(u,r,a){return u.slice(0,r)+a+u.slice(r+1)}function wU(u,r){var a,v,b,g,E,m,l,c,h,f,y,p,w,k,C,N,T,H,M,D,_;for(M=[],a=0;a<u.length;a++){for(v=u[a],l=u[a].level,T=M.length-1;T>=0&&!(M[T].level<=l);T--);if(M.length=T+1,v.type==="text"){b=v.content,E=0,m=b.length;e:for(;E<m&&(oo.lastIndex=E,g=oo.exec(b),!!g);){if(C=N=!0,E=g.index+1,H=g[0]==="'",h=32,g.index-1>=0)h=b.charCodeAt(g.index-1);else for(T=a-1;T>=0&&!(u[T].type==="softbreak"||u[T].type==="hardbreak");T--)if(u[T].content){h=u[T].content.charCodeAt(u[T].content.length-1);break}if(f=32,E<m)f=b.charCodeAt(E);else for(T=a+1;T<u.length&&!(u[T].type==="softbreak"||u[T].type==="hardbreak");T++)if(u[T].content){f=u[T].content.charCodeAt(0);break}if(y=ro(h)||no(String.fromCharCode(h)),p=ro(f)||no(String.fromCharCode(f)),w=to(h),k=to(f),k?C=!1:p&&(w||y||(C=!1)),w?N=!1:y&&(k||p||(N=!1)),f===34&&g[0]==='"'&&h>=48&&h<=57&&(N=C=!1),C&&N&&(C=y,N=p),!C&&!N){H&&(v.content=Zt(v.content,g.index,io));continue}if(N){for(T=M.length-1;T>=0&&(c=M[T],!(M[T].level<l));T--)if(c.single===H&&M[T].level===l){c=M[T],H?(D=r.md.options.quotes[2],_=r.md.options.quotes[3]):(D=r.md.options.quotes[0],_=r.md.options.quotes[1]),v.content=Zt(v.content,g.index,_),u[c.token].content=Zt(u[c.token].content,c.pos,D),E+=_.length-1,c.token===a&&(E+=D.length-1),b=v.content,m=b.length,M.length=T;continue e}}C?M.push({token:a,pos:g.index,single:H,level:l}):N&&H&&(v.content=Zt(v.content,g.index,io))}}}}var _U=function(r){var a;if(r.md.options.typographer)for(a=r.tokens.length-1;a>=0;a--)r.tokens[a].type!=="inline"||!yU.test(r.tokens[a].content)||wU(r.tokens[a].children,r)},kU=function(r){var a,v,b,g,E,m,l=r.tokens;for(a=0,v=l.length;a<v;a++)if(l[a].type==="inline"){for(b=l[a].children,E=b.length,g=0;g<E;g++)b[g].type==="text_special"&&(b[g].type="text");for(g=m=0;g<E;g++)b[g].type==="text"&&g+1<E&&b[g+1].type==="text"?b[g+1].content=b[g].content+b[g+1].content:(g!==m&&(b[m]=b[g]),m++);g!==m&&(b.length=m)}};function Lt(u,r,a){this.type=u,this.tag=r,this.attrs=null,this.map=null,this.nesting=a,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Lt.prototype.attrIndex=function(r){var a,v,b;if(!this.attrs)return-1;for(a=this.attrs,v=0,b=a.length;v<b;v++)if(a[v][0]===r)return v;return-1};Lt.prototype.attrPush=function(r){this.attrs?this.attrs.push(r):this.attrs=[r]};Lt.prototype.attrSet=function(r,a){var v=this.attrIndex(r),b=[r,a];v<0?this.attrPush(b):this.attrs[v]=b};Lt.prototype.attrGet=function(r){var a=this.attrIndex(r),v=null;return a>=0&&(v=this.attrs[a][1]),v};Lt.prototype.attrJoin=function(r,a){var v=this.attrIndex(r);v<0?this.attrPush([r,a]):this.attrs[v][1]=this.attrs[v][1]+" "+a};var Yn=Lt,EU=Yn;function Io(u,r,a){this.src=u,this.env=a,this.tokens=[],this.inlineMode=!1,this.md=r}Io.prototype.Token=EU;var xU=Io,CU=Zn,On=[["normalize",iU],["block",sU],["inline",aU],["linkify",dU],["replacements",bU],["smartquotes",_U],["text_join",kU]];function Jn(){this.ruler=new CU;for(var u=0;u<On.length;u++)this.ruler.push(On[u][0],On[u][1])}Jn.prototype.process=function(u){var r,a,v;for(v=this.ruler.getRules(""),r=0,a=v.length;r<a;r++)v[r](u)};Jn.prototype.State=xU;var SU=Jn,Rn=xe.isSpace;function In(u,r){var a=u.bMarks[r]+u.tShift[r],v=u.eMarks[r];return u.src.slice(a,v)}function so(u){var r=[],a=0,v=u.length,b,g=!1,E=0,m="";for(b=u.charCodeAt(a);a<v;)b===124&&(g?(m+=u.substring(E,a-1),E=a):(r.push(m+u.substring(E,a)),m="",E=a+1)),g=b===92,a++,b=u.charCodeAt(a);return r.push(m+u.substring(E)),r}var AU=function(r,a,v,b){var g,E,m,l,c,h,f,y,p,w,k,C,N,T,H,M,D,_;if(a+2>v||(h=a+1,r.sCount[h]<r.blkIndent)||r.sCount[h]-r.blkIndent>=4||(m=r.bMarks[h]+r.tShift[h],m>=r.eMarks[h])||(D=r.src.charCodeAt(m++),D!==124&&D!==45&&D!==58)||m>=r.eMarks[h]||(_=r.src.charCodeAt(m++),_!==124&&_!==45&&_!==58&&!Rn(_))||D===45&&Rn(_))return!1;for(;m<r.eMarks[h];){if(g=r.src.charCodeAt(m),g!==124&&g!==45&&g!==58&&!Rn(g))return!1;m++}for(E=In(r,a+1),f=E.split("|"),w=[],l=0;l<f.length;l++){if(k=f[l].trim(),!k){if(l===0||l===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(k))return!1;k.charCodeAt(k.length-1)===58?w.push(k.charCodeAt(0)===58?"center":"right"):k.charCodeAt(0)===58?w.push("left"):w.push("")}if(E=In(r,a).trim(),E.indexOf("|")===-1||r.sCount[a]-r.blkIndent>=4||(f=so(E),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),y=f.length,y===0||y!==w.length))return!1;if(b)return!0;for(T=r.parentType,r.parentType="table",M=r.md.block.ruler.getRules("blockquote"),p=r.push("table_open","table",1),p.map=C=[a,0],p=r.push("thead_open","thead",1),p.map=[a,a+1],p=r.push("tr_open","tr",1),p.map=[a,a+1],l=0;l<f.length;l++)p=r.push("th_open","th",1),w[l]&&(p.attrs=[["style","text-align:"+w[l]]]),p=r.push("inline","",0),p.content=f[l].trim(),p.children=[],p=r.push("th_close","th",-1);for(p=r.push("tr_close","tr",-1),p=r.push("thead_close","thead",-1),h=a+2;h<v&&!(r.sCount[h]<r.blkIndent);h++){for(H=!1,l=0,c=M.length;l<c;l++)if(M[l](r,h,v,!0)){H=!0;break}if(H||(E=In(r,h).trim(),!E)||r.sCount[h]-r.blkIndent>=4)break;for(f=so(E),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),h===a+2&&(p=r.push("tbody_open","tbody",1),p.map=N=[a+2,0]),p=r.push("tr_open","tr",1),p.map=[h,h+1],l=0;l<y;l++)p=r.push("td_open","td",1),w[l]&&(p.attrs=[["style","text-align:"+w[l]]]),p=r.push("inline","",0),p.content=f[l]?f[l].trim():"",p.children=[],p=r.push("td_close","td",-1);p=r.push("tr_close","tr",-1)}return N&&(p=r.push("tbody_close","tbody",-1),N[1]=h),p=r.push("table_close","table",-1),C[1]=h,r.parentType=T,r.line=h,!0},LU=function(r,a,v){var b,g,E;if(r.sCount[a]-r.blkIndent<4)return!1;for(g=b=a+1;b<v;){if(r.isEmpty(b)){b++;continue}if(r.sCount[b]-r.blkIndent>=4){b++,g=b;continue}break}return r.line=g,E=r.push("code_block","code",0),E.content=r.getLines(a,g,4+r.blkIndent,!1)+`
`,E.map=[a,r.line],!0},TU=function(r,a,v,b){var g,E,m,l,c,h,f,y=!1,p=r.bMarks[a]+r.tShift[a],w=r.eMarks[a];if(r.sCount[a]-r.blkIndent>=4||p+3>w||(g=r.src.charCodeAt(p),g!==126&&g!==96)||(c=p,p=r.skipChars(p,g),E=p-c,E<3)||(f=r.src.slice(c,p),m=r.src.slice(p,w),g===96&&m.indexOf(String.fromCharCode(g))>=0))return!1;if(b)return!0;for(l=a;l++,!(l>=v||(p=c=r.bMarks[l]+r.tShift[l],w=r.eMarks[l],p<w&&r.sCount[l]<r.blkIndent));)if(r.src.charCodeAt(p)===g&&!(r.sCount[l]-r.blkIndent>=4)&&(p=r.skipChars(p,g),!(p-c<E)&&(p=r.skipSpaces(p),!(p<w)))){y=!0;break}return E=r.sCount[a],r.line=l+(y?1:0),h=r.push("fence","code",0),h.info=m,h.content=r.getLines(a+1,l,E,!0),h.markup=f,h.map=[a,r.line],!0},ao=xe.isSpace,MU=function(r,a,v,b){var g,E,m,l,c,h,f,y,p,w,k,C,N,T,H,M,D,_,j,z,K=r.lineMax,F=r.bMarks[a]+r.tShift[a],ie=r.eMarks[a];if(r.sCount[a]-r.blkIndent>=4||r.src.charCodeAt(F++)!==62)return!1;if(b)return!0;for(l=p=r.sCount[a]+1,r.src.charCodeAt(F)===32?(F++,l++,p++,g=!1,M=!0):r.src.charCodeAt(F)===9?(M=!0,(r.bsCount[a]+p)%4===3?(F++,l++,p++,g=!1):g=!0):M=!1,w=[r.bMarks[a]],r.bMarks[a]=F;F<ie&&(E=r.src.charCodeAt(F),ao(E));){E===9?p+=4-(p+r.bsCount[a]+(g?1:0))%4:p++;F++}for(k=[r.bsCount[a]],r.bsCount[a]=r.sCount[a]+1+(M?1:0),h=F>=ie,T=[r.sCount[a]],r.sCount[a]=p-l,H=[r.tShift[a]],r.tShift[a]=F-r.bMarks[a],_=r.md.block.ruler.getRules("blockquote"),N=r.parentType,r.parentType="blockquote",y=a+1;y<v&&(z=r.sCount[y]<r.blkIndent,F=r.bMarks[y]+r.tShift[y],ie=r.eMarks[y],!(F>=ie));y++){if(r.src.charCodeAt(F++)===62&&!z){for(l=p=r.sCount[y]+1,r.src.charCodeAt(F)===32?(F++,l++,p++,g=!1,M=!0):r.src.charCodeAt(F)===9?(M=!0,(r.bsCount[y]+p)%4===3?(F++,l++,p++,g=!1):g=!0):M=!1,w.push(r.bMarks[y]),r.bMarks[y]=F;F<ie&&(E=r.src.charCodeAt(F),ao(E));){E===9?p+=4-(p+r.bsCount[y]+(g?1:0))%4:p++;F++}h=F>=ie,k.push(r.bsCount[y]),r.bsCount[y]=r.sCount[y]+1+(M?1:0),T.push(r.sCount[y]),r.sCount[y]=p-l,H.push(r.tShift[y]),r.tShift[y]=F-r.bMarks[y];continue}if(h)break;for(D=!1,m=0,c=_.length;m<c;m++)if(_[m](r,y,v,!0)){D=!0;break}if(D){r.lineMax=y,r.blkIndent!==0&&(w.push(r.bMarks[y]),k.push(r.bsCount[y]),H.push(r.tShift[y]),T.push(r.sCount[y]),r.sCount[y]-=r.blkIndent);break}w.push(r.bMarks[y]),k.push(r.bsCount[y]),H.push(r.tShift[y]),T.push(r.sCount[y]),r.sCount[y]=-1}for(C=r.blkIndent,r.blkIndent=0,j=r.push("blockquote_open","blockquote",1),j.markup=">",j.map=f=[a,0],r.md.block.tokenize(r,a,y),j=r.push("blockquote_close","blockquote",-1),j.markup=">",r.lineMax=K,r.parentType=N,f[1]=r.line,m=0;m<H.length;m++)r.bMarks[m+a]=w[m],r.tShift[m+a]=H[m],r.sCount[m+a]=T[m],r.bsCount[m+a]=k[m];return r.blkIndent=C,!0},DU=xe.isSpace,NU=function(r,a,v,b){var g,E,m,l,c=r.bMarks[a]+r.tShift[a],h=r.eMarks[a];if(r.sCount[a]-r.blkIndent>=4||(g=r.src.charCodeAt(c++),g!==42&&g!==45&&g!==95))return!1;for(E=1;c<h;){if(m=r.src.charCodeAt(c++),m!==g&&!DU(m))return!1;m===g&&E++}return E<3?!1:(b||(r.line=a+1,l=r.push("hr","hr",0),l.map=[a,r.line],l.markup=Array(E+1).join(String.fromCharCode(g))),!0)},Po=xe.isSpace;function co(u,r){var a,v,b,g;return v=u.bMarks[r]+u.tShift[r],b=u.eMarks[r],a=u.src.charCodeAt(v++),a!==42&&a!==45&&a!==43||v<b&&(g=u.src.charCodeAt(v),!Po(g))?-1:v}function lo(u,r){var a,v=u.bMarks[r]+u.tShift[r],b=v,g=u.eMarks[r];if(b+1>=g||(a=u.src.charCodeAt(b++),a<48||a>57))return-1;for(;;){if(b>=g)return-1;if(a=u.src.charCodeAt(b++),a>=48&&a<=57){if(b-v>=10)return-1;continue}if(a===41||a===46)break;return-1}return b<g&&(a=u.src.charCodeAt(b),!Po(a))?-1:b}function HU(u,r){var a,v,b=u.level+2;for(a=r+2,v=u.tokens.length-2;a<v;a++)u.tokens[a].level===b&&u.tokens[a].type==="paragraph_open"&&(u.tokens[a+2].hidden=!0,u.tokens[a].hidden=!0,a+=2)}var qU=function(r,a,v,b){var g,E,m,l,c,h,f,y,p,w,k,C,N,T,H,M,D,_,j,z,K,F,ie,fe,ne,O,B,U,$=!1,ce=!0;if(r.sCount[a]-r.blkIndent>=4||r.listIndent>=0&&r.sCount[a]-r.listIndent>=4&&r.sCount[a]<r.blkIndent)return!1;if(b&&r.parentType==="paragraph"&&r.sCount[a]>=r.blkIndent&&($=!0),(ie=lo(r,a))>=0){if(f=!0,ne=r.bMarks[a]+r.tShift[a],N=Number(r.src.slice(ne,ie-1)),$&&N!==1)return!1}else if((ie=co(r,a))>=0)f=!1;else return!1;if($&&r.skipSpaces(ie)>=r.eMarks[a])return!1;if(C=r.src.charCodeAt(ie-1),b)return!0;for(k=r.tokens.length,f?(U=r.push("ordered_list_open","ol",1),N!==1&&(U.attrs=[["start",N]])):U=r.push("bullet_list_open","ul",1),U.map=w=[a,0],U.markup=String.fromCharCode(C),H=a,fe=!1,B=r.md.block.ruler.getRules("list"),_=r.parentType,r.parentType="list";H<v;){for(F=ie,T=r.eMarks[H],h=M=r.sCount[H]+ie-(r.bMarks[a]+r.tShift[a]);F<T;){if(g=r.src.charCodeAt(F),g===9)M+=4-(M+r.bsCount[H])%4;else if(g===32)M++;else break;F++}if(E=F,E>=T?c=1:c=M-h,c>4&&(c=1),l=h+c,U=r.push("list_item_open","li",1),U.markup=String.fromCharCode(C),U.map=y=[a,0],f&&(U.info=r.src.slice(ne,ie-1)),K=r.tight,z=r.tShift[a],j=r.sCount[a],D=r.listIndent,r.listIndent=r.blkIndent,r.blkIndent=l,r.tight=!0,r.tShift[a]=E-r.bMarks[a],r.sCount[a]=M,E>=T&&r.isEmpty(a+1)?r.line=Math.min(r.line+2,v):r.md.block.tokenize(r,a,v,!0),(!r.tight||fe)&&(ce=!1),fe=r.line-a>1&&r.isEmpty(r.line-1),r.blkIndent=r.listIndent,r.listIndent=D,r.tShift[a]=z,r.sCount[a]=j,r.tight=K,U=r.push("list_item_close","li",-1),U.markup=String.fromCharCode(C),H=a=r.line,y[1]=H,E=r.bMarks[a],H>=v||r.sCount[H]<r.blkIndent||r.sCount[a]-r.blkIndent>=4)break;for(O=!1,m=0,p=B.length;m<p;m++)if(B[m](r,H,v,!0)){O=!0;break}if(O)break;if(f){if(ie=lo(r,H),ie<0)break;ne=r.bMarks[H]+r.tShift[H]}else if(ie=co(r,H),ie<0)break;if(C!==r.src.charCodeAt(ie-1))break}return f?U=r.push("ordered_list_close","ol",-1):U=r.push("bullet_list_close","ul",-1),U.markup=String.fromCharCode(C),w[1]=H,r.line=H,r.parentType=_,ce&&HU(r,k),!0},OU=xe.normalizeReference,Yt=xe.isSpace,RU=function(r,a,v,b){var g,E,m,l,c,h,f,y,p,w,k,C,N,T,H,M,D=0,_=r.bMarks[a]+r.tShift[a],j=r.eMarks[a],z=a+1;if(r.sCount[a]-r.blkIndent>=4||r.src.charCodeAt(_)!==91)return!1;for(;++_<j;)if(r.src.charCodeAt(_)===93&&r.src.charCodeAt(_-1)!==92){if(_+1===j||r.src.charCodeAt(_+1)!==58)return!1;break}for(l=r.lineMax,H=r.md.block.ruler.getRules("reference"),w=r.parentType,r.parentType="reference";z<l&&!r.isEmpty(z);z++)if(!(r.sCount[z]-r.blkIndent>3)&&!(r.sCount[z]<0)){for(T=!1,h=0,f=H.length;h<f;h++)if(H[h](r,z,l,!0)){T=!0;break}if(T)break}for(N=r.getLines(a,z,r.blkIndent,!1).trim(),j=N.length,_=1;_<j;_++){if(g=N.charCodeAt(_),g===91)return!1;if(g===93){p=_;break}else g===10?D++:g===92&&(_++,_<j&&N.charCodeAt(_)===10&&D++)}if(p<0||N.charCodeAt(p+1)!==58)return!1;for(_=p+2;_<j;_++)if(g=N.charCodeAt(_),g===10)D++;else if(!Yt(g))break;if(k=r.md.helpers.parseLinkDestination(N,_,j),!k.ok||(c=r.md.normalizeLink(k.str),!r.md.validateLink(c)))return!1;for(_=k.pos,D+=k.lines,E=_,m=D,C=_;_<j;_++)if(g=N.charCodeAt(_),g===10)D++;else if(!Yt(g))break;for(k=r.md.helpers.parseLinkTitle(N,_,j),_<j&&C!==_&&k.ok?(M=k.str,_=k.pos,D+=k.lines):(M="",_=E,D=m);_<j&&(g=N.charCodeAt(_),!!Yt(g));)_++;if(_<j&&N.charCodeAt(_)!==10&&M)for(M="",_=E,D=m;_<j&&(g=N.charCodeAt(_),!!Yt(g));)_++;return _<j&&N.charCodeAt(_)!==10||(y=OU(N.slice(1,p)),!y)?!1:(b||(typeof r.env.references>"u"&&(r.env.references={}),typeof r.env.references[y]>"u"&&(r.env.references[y]={title:M,href:c}),r.parentType=w,r.line=a+D+1),!0)},IU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cn={},PU="[a-zA-Z_:][a-zA-Z0-9:._-]*",jU="[^\"'=<>`\\x00-\\x20]+",BU="'[^']*'",FU='"[^"]*"',zU="(?:"+jU+"|"+BU+"|"+FU+")",UU="(?:\\s+"+PU+"(?:\\s*=\\s*"+zU+")?)",jo="<[A-Za-z][A-Za-z0-9\\-]*"+UU+"*\\s*\\/?>",Bo="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",VU="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",$U="<[?][\\s\\S]*?[?]>",GU="<![A-Z]+\\s+[^>]*>",WU="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",KU=new RegExp("^(?:"+jo+"|"+Bo+"|"+VU+"|"+$U+"|"+GU+"|"+WU+")"),ZU=new RegExp("^(?:"+jo+"|"+Bo+")");cn.HTML_TAG_RE=KU;cn.HTML_OPEN_CLOSE_TAG_RE=ZU;var YU=IU,JU=cn.HTML_OPEN_CLOSE_TAG_RE,Et=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+YU.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(JU.source+"\\s*$"),/^$/,!1]],XU=function(r,a,v,b){var g,E,m,l,c=r.bMarks[a]+r.tShift[a],h=r.eMarks[a];if(r.sCount[a]-r.blkIndent>=4||!r.md.options.html||r.src.charCodeAt(c)!==60)return!1;for(l=r.src.slice(c,h),g=0;g<Et.length&&!Et[g][0].test(l);g++);if(g===Et.length)return!1;if(b)return Et[g][2];if(E=a+1,!Et[g][1].test(l)){for(;E<v&&!(r.sCount[E]<r.blkIndent);E++)if(c=r.bMarks[E]+r.tShift[E],h=r.eMarks[E],l=r.src.slice(c,h),Et[g][1].test(l)){l.length!==0&&E++;break}}return r.line=E,m=r.push("html_block","",0),m.map=[a,E],m.content=r.getLines(a,E,r.blkIndent,!0),!0},uo=xe.isSpace,QU=function(r,a,v,b){var g,E,m,l,c=r.bMarks[a]+r.tShift[a],h=r.eMarks[a];if(r.sCount[a]-r.blkIndent>=4||(g=r.src.charCodeAt(c),g!==35||c>=h))return!1;for(E=1,g=r.src.charCodeAt(++c);g===35&&c<h&&E<=6;)E++,g=r.src.charCodeAt(++c);return E>6||c<h&&!uo(g)?!1:(b||(h=r.skipSpacesBack(h,c),m=r.skipCharsBack(h,35,c),m>c&&uo(r.src.charCodeAt(m-1))&&(h=m),r.line=a+1,l=r.push("heading_open","h"+String(E),1),l.markup="########".slice(0,E),l.map=[a,r.line],l=r.push("inline","",0),l.content=r.src.slice(c,h).trim(),l.map=[a,r.line],l.children=[],l=r.push("heading_close","h"+String(E),-1),l.markup="########".slice(0,E)),!0)},eV=function(r,a,v){var b,g,E,m,l,c,h,f,y,p=a+1,w,k=r.md.block.ruler.getRules("paragraph");if(r.sCount[a]-r.blkIndent>=4)return!1;for(w=r.parentType,r.parentType="paragraph";p<v&&!r.isEmpty(p);p++)if(!(r.sCount[p]-r.blkIndent>3)){if(r.sCount[p]>=r.blkIndent&&(c=r.bMarks[p]+r.tShift[p],h=r.eMarks[p],c<h&&(y=r.src.charCodeAt(c),(y===45||y===61)&&(c=r.skipChars(c,y),c=r.skipSpaces(c),c>=h)))){f=y===61?1:2;break}if(!(r.sCount[p]<0)){for(g=!1,E=0,m=k.length;E<m;E++)if(k[E](r,p,v,!0)){g=!0;break}if(g)break}}return f?(b=r.getLines(a,p,r.blkIndent,!1).trim(),r.line=p+1,l=r.push("heading_open","h"+String(f),1),l.markup=String.fromCharCode(y),l.map=[a,r.line],l=r.push("inline","",0),l.content=b,l.map=[a,r.line-1],l.children=[],l=r.push("heading_close","h"+String(f),-1),l.markup=String.fromCharCode(y),r.parentType=w,!0):!1},tV=function(r,a){var v,b,g,E,m,l,c=a+1,h=r.md.block.ruler.getRules("paragraph"),f=r.lineMax;for(l=r.parentType,r.parentType="paragraph";c<f&&!r.isEmpty(c);c++)if(!(r.sCount[c]-r.blkIndent>3)&&!(r.sCount[c]<0)){for(b=!1,g=0,E=h.length;g<E;g++)if(h[g](r,c,f,!0)){b=!0;break}if(b)break}return v=r.getLines(a,c,r.blkIndent,!1).trim(),r.line=c,m=r.push("paragraph_open","p",1),m.map=[a,r.line],m=r.push("inline","",0),m.content=v,m.map=[a,r.line],m.children=[],m=r.push("paragraph_close","p",-1),r.parentType=l,!0},Fo=Yn,ln=xe.isSpace;function Qe(u,r,a,v){var b,g,E,m,l,c,h,f;for(this.src=u,this.md=r,this.env=a,this.tokens=v,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",g=this.src,f=!1,E=m=c=h=0,l=g.length;m<l;m++){if(b=g.charCodeAt(m),!f)if(ln(b)){c++,b===9?h+=4-h%4:h++;continue}else f=!0;(b===10||m===l-1)&&(b!==10&&m++,this.bMarks.push(E),this.eMarks.push(m),this.tShift.push(c),this.sCount.push(h),this.bsCount.push(0),f=!1,c=0,h=0,E=m+1)}this.bMarks.push(g.length),this.eMarks.push(g.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Qe.prototype.push=function(u,r,a){var v=new Fo(u,r,a);return v.block=!0,a<0&&this.level--,v.level=this.level,a>0&&this.level++,this.tokens.push(v),v};Qe.prototype.isEmpty=function(r){return this.bMarks[r]+this.tShift[r]>=this.eMarks[r]};Qe.prototype.skipEmptyLines=function(r){for(var a=this.lineMax;r<a&&!(this.bMarks[r]+this.tShift[r]<this.eMarks[r]);r++);return r};Qe.prototype.skipSpaces=function(r){for(var a,v=this.src.length;r<v&&(a=this.src.charCodeAt(r),!!ln(a));r++);return r};Qe.prototype.skipSpacesBack=function(r,a){if(r<=a)return r;for(;r>a;)if(!ln(this.src.charCodeAt(--r)))return r+1;return r};Qe.prototype.skipChars=function(r,a){for(var v=this.src.length;r<v&&this.src.charCodeAt(r)===a;r++);return r};Qe.prototype.skipCharsBack=function(r,a,v){if(r<=v)return r;for(;r>v;)if(a!==this.src.charCodeAt(--r))return r+1;return r};Qe.prototype.getLines=function(r,a,v,b){var g,E,m,l,c,h,f,y=r;if(r>=a)return"";for(h=new Array(a-r),g=0;y<a;y++,g++){for(E=0,f=l=this.bMarks[y],y+1<a||b?c=this.eMarks[y]+1:c=this.eMarks[y];l<c&&E<v;){if(m=this.src.charCodeAt(l),ln(m))m===9?E+=4-(E+this.bsCount[y])%4:E++;else if(l-f<this.tShift[y])E++;else break;l++}E>v?h[g]=new Array(E-v+1).join(" ")+this.src.slice(l,c):h[g]=this.src.slice(l,c)}return h.join("")};Qe.prototype.Token=Fo;var nV=Qe,rV=Zn,Jt=[["table",AU,["paragraph","reference"]],["code",LU],["fence",TU,["paragraph","reference","blockquote","list"]],["blockquote",MU,["paragraph","reference","blockquote","list"]],["hr",NU,["paragraph","reference","blockquote","list"]],["list",qU,["paragraph","reference","blockquote"]],["reference",RU],["html_block",XU,["paragraph","reference","blockquote"]],["heading",QU,["paragraph","reference","blockquote"]],["lheading",eV],["paragraph",tV]];function un(){this.ruler=new rV;for(var u=0;u<Jt.length;u++)this.ruler.push(Jt[u][0],Jt[u][1],{alt:(Jt[u][2]||[]).slice()})}un.prototype.tokenize=function(u,r,a){for(var v,b,g=this.ruler.getRules(""),E=g.length,m=r,l=!1,c=u.md.options.maxNesting;m<a&&(u.line=m=u.skipEmptyLines(m),!(m>=a||u.sCount[m]<u.blkIndent));){if(u.level>=c){u.line=a;break}for(b=0;b<E&&(v=g[b](u,m,a,!1),!v);b++);u.tight=!l,u.isEmpty(u.line-1)&&(l=!0),m=u.line,m<a&&u.isEmpty(m)&&(l=!0,m++,u.line=m)}};un.prototype.parse=function(u,r,a,v){var b;u&&(b=new this.State(u,r,a,v),this.tokenize(b,b.line,b.lineMax))};un.prototype.State=nV;var oV=un;function iV(u){switch(u){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var sV=function(r,a){for(var v=r.pos;v<r.posMax&&!iV(r.src.charCodeAt(v));)v++;return v===r.pos?!1:(a||(r.pending+=r.src.slice(r.pos,v)),r.pos=v,!0)},aV=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,cV=function(r,a){var v,b,g,E,m,l,c,h;return!r.md.options.linkify||r.linkLevel>0||(v=r.pos,b=r.posMax,v+3>b)||r.src.charCodeAt(v)!==58||r.src.charCodeAt(v+1)!==47||r.src.charCodeAt(v+2)!==47||(g=r.pending.match(aV),!g)||(E=g[1],m=r.md.linkify.matchAtStart(r.src.slice(v-E.length)),!m)||(l=m.url,l=l.replace(/\*+$/,""),c=r.md.normalizeLink(l),!r.md.validateLink(c))?!1:(a||(r.pending=r.pending.slice(0,-E.length),h=r.push("link_open","a",1),h.attrs=[["href",c]],h.markup="linkify",h.info="auto",h=r.push("text","",0),h.content=r.md.normalizeLinkText(l),h=r.push("link_close","a",-1),h.markup="linkify",h.info="auto"),r.pos+=l.length-E.length,!0)},lV=xe.isSpace,uV=function(r,a){var v,b,g,E=r.pos;if(r.src.charCodeAt(E)!==10)return!1;if(v=r.pending.length-1,b=r.posMax,!a)if(v>=0&&r.pending.charCodeAt(v)===32)if(v>=1&&r.pending.charCodeAt(v-1)===32){for(g=v-1;g>=1&&r.pending.charCodeAt(g-1)===32;)g--;r.pending=r.pending.slice(0,g),r.push("hardbreak","br",0)}else r.pending=r.pending.slice(0,-1),r.push("softbreak","br",0);else r.push("softbreak","br",0);for(E++;E<b&&lV(r.src.charCodeAt(E));)E++;return r.pos=E,!0},dV=xe.isSpace,Xn=[];for(var po=0;po<256;po++)Xn.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(u){Xn[u.charCodeAt(0)]=1});var pV=function(r,a){var v,b,g,E,m,l=r.pos,c=r.posMax;if(r.src.charCodeAt(l)!==92||(l++,l>=c))return!1;if(v=r.src.charCodeAt(l),v===10){for(a||r.push("hardbreak","br",0),l++;l<c&&(v=r.src.charCodeAt(l),!!dV(v));)l++;return r.pos=l,!0}return E=r.src[l],v>=55296&&v<=56319&&l+1<c&&(b=r.src.charCodeAt(l+1),b>=56320&&b<=57343&&(E+=r.src[l+1],l++)),g="\\"+E,a||(m=r.push("text_special","",0),v<256&&Xn[v]!==0?m.content=E:m.content=g,m.markup=g,m.info="escape"),r.pos=l+1,!0},fV=function(r,a){var v,b,g,E,m,l,c,h,f=r.pos,y=r.src.charCodeAt(f);if(y!==96)return!1;for(v=f,f++,b=r.posMax;f<b&&r.src.charCodeAt(f)===96;)f++;if(g=r.src.slice(v,f),c=g.length,r.backticksScanned&&(r.backticks[c]||0)<=v)return a||(r.pending+=g),r.pos+=c,!0;for(m=l=f;(m=r.src.indexOf("`",l))!==-1;){for(l=m+1;l<b&&r.src.charCodeAt(l)===96;)l++;if(h=l-m,h===c)return a||(E=r.push("code_inline","code",0),E.markup=g,E.content=r.src.slice(f,m).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),r.pos=l,!0;r.backticks[h]=m}return r.backticksScanned=!0,a||(r.pending+=g),r.pos+=c,!0},dn={};dn.tokenize=function(r,a){var v,b,g,E,m,l=r.pos,c=r.src.charCodeAt(l);if(a||c!==126||(b=r.scanDelims(r.pos,!0),E=b.length,m=String.fromCharCode(c),E<2))return!1;for(E%2&&(g=r.push("text","",0),g.content=m,E--),v=0;v<E;v+=2)g=r.push("text","",0),g.content=m+m,r.delimiters.push({marker:c,length:0,token:r.tokens.length-1,end:-1,open:b.can_open,close:b.can_close});return r.pos+=b.length,!0};function fo(u,r){var a,v,b,g,E,m=[],l=r.length;for(a=0;a<l;a++)b=r[a],b.marker===126&&b.end!==-1&&(g=r[b.end],E=u.tokens[b.token],E.type="s_open",E.tag="s",E.nesting=1,E.markup="~~",E.content="",E=u.tokens[g.token],E.type="s_close",E.tag="s",E.nesting=-1,E.markup="~~",E.content="",u.tokens[g.token-1].type==="text"&&u.tokens[g.token-1].content==="~"&&m.push(g.token-1));for(;m.length;){for(a=m.pop(),v=a+1;v<u.tokens.length&&u.tokens[v].type==="s_close";)v++;v--,a!==v&&(E=u.tokens[v],u.tokens[v]=u.tokens[a],u.tokens[a]=E)}}dn.postProcess=function(r){var a,v=r.tokens_meta,b=r.tokens_meta.length;for(fo(r,r.delimiters),a=0;a<b;a++)v[a]&&v[a].delimiters&&fo(r,v[a].delimiters)};var pn={};pn.tokenize=function(r,a){var v,b,g,E=r.pos,m=r.src.charCodeAt(E);if(a||m!==95&&m!==42)return!1;for(b=r.scanDelims(r.pos,m===42),v=0;v<b.length;v++)g=r.push("text","",0),g.content=String.fromCharCode(m),r.delimiters.push({marker:m,length:b.length,token:r.tokens.length-1,end:-1,open:b.can_open,close:b.can_close});return r.pos+=b.length,!0};function ho(u,r){var a,v,b,g,E,m,l=r.length;for(a=l-1;a>=0;a--)v=r[a],!(v.marker!==95&&v.marker!==42)&&v.end!==-1&&(b=r[v.end],m=a>0&&r[a-1].end===v.end+1&&r[a-1].marker===v.marker&&r[a-1].token===v.token-1&&r[v.end+1].token===b.token+1,E=String.fromCharCode(v.marker),g=u.tokens[v.token],g.type=m?"strong_open":"em_open",g.tag=m?"strong":"em",g.nesting=1,g.markup=m?E+E:E,g.content="",g=u.tokens[b.token],g.type=m?"strong_close":"em_close",g.tag=m?"strong":"em",g.nesting=-1,g.markup=m?E+E:E,g.content="",m&&(u.tokens[r[a-1].token].content="",u.tokens[r[v.end+1].token].content="",a--))}pn.postProcess=function(r){var a,v=r.tokens_meta,b=r.tokens_meta.length;for(ho(r,r.delimiters),a=0;a<b;a++)v[a]&&v[a].delimiters&&ho(r,v[a].delimiters)};var hV=xe.normalizeReference,Pn=xe.isSpace,mV=function(r,a){var v,b,g,E,m,l,c,h,f,y="",p="",w=r.pos,k=r.posMax,C=r.pos,N=!0;if(r.src.charCodeAt(r.pos)!==91||(m=r.pos+1,E=r.md.helpers.parseLinkLabel(r,r.pos,!0),E<0))return!1;if(l=E+1,l<k&&r.src.charCodeAt(l)===40){for(N=!1,l++;l<k&&(b=r.src.charCodeAt(l),!(!Pn(b)&&b!==10));l++);if(l>=k)return!1;if(C=l,c=r.md.helpers.parseLinkDestination(r.src,l,r.posMax),c.ok){for(y=r.md.normalizeLink(c.str),r.md.validateLink(y)?l=c.pos:y="",C=l;l<k&&(b=r.src.charCodeAt(l),!(!Pn(b)&&b!==10));l++);if(c=r.md.helpers.parseLinkTitle(r.src,l,r.posMax),l<k&&C!==l&&c.ok)for(p=c.str,l=c.pos;l<k&&(b=r.src.charCodeAt(l),!(!Pn(b)&&b!==10));l++);}(l>=k||r.src.charCodeAt(l)!==41)&&(N=!0),l++}if(N){if(typeof r.env.references>"u")return!1;if(l<k&&r.src.charCodeAt(l)===91?(C=l+1,l=r.md.helpers.parseLinkLabel(r,l),l>=0?g=r.src.slice(C,l++):l=E+1):l=E+1,g||(g=r.src.slice(m,E)),h=r.env.references[hV(g)],!h)return r.pos=w,!1;y=h.href,p=h.title}return a||(r.pos=m,r.posMax=E,f=r.push("link_open","a",1),f.attrs=v=[["href",y]],p&&v.push(["title",p]),r.linkLevel++,r.md.inline.tokenize(r),r.linkLevel--,f=r.push("link_close","a",-1)),r.pos=l,r.posMax=k,!0},vV=xe.normalizeReference,jn=xe.isSpace,gV=function(r,a){var v,b,g,E,m,l,c,h,f,y,p,w,k,C="",N=r.pos,T=r.posMax;if(r.src.charCodeAt(r.pos)!==33||r.src.charCodeAt(r.pos+1)!==91||(l=r.pos+2,m=r.md.helpers.parseLinkLabel(r,r.pos+1,!1),m<0))return!1;if(c=m+1,c<T&&r.src.charCodeAt(c)===40){for(c++;c<T&&(b=r.src.charCodeAt(c),!(!jn(b)&&b!==10));c++);if(c>=T)return!1;for(k=c,f=r.md.helpers.parseLinkDestination(r.src,c,r.posMax),f.ok&&(C=r.md.normalizeLink(f.str),r.md.validateLink(C)?c=f.pos:C=""),k=c;c<T&&(b=r.src.charCodeAt(c),!(!jn(b)&&b!==10));c++);if(f=r.md.helpers.parseLinkTitle(r.src,c,r.posMax),c<T&&k!==c&&f.ok)for(y=f.str,c=f.pos;c<T&&(b=r.src.charCodeAt(c),!(!jn(b)&&b!==10));c++);else y="";if(c>=T||r.src.charCodeAt(c)!==41)return r.pos=N,!1;c++}else{if(typeof r.env.references>"u")return!1;if(c<T&&r.src.charCodeAt(c)===91?(k=c+1,c=r.md.helpers.parseLinkLabel(r,c),c>=0?E=r.src.slice(k,c++):c=m+1):c=m+1,E||(E=r.src.slice(l,m)),h=r.env.references[vV(E)],!h)return r.pos=N,!1;C=h.href,y=h.title}return a||(g=r.src.slice(l,m),r.md.inline.parse(g,r.md,r.env,w=[]),p=r.push("image","img",0),p.attrs=v=[["src",C],["alt",""]],p.children=w,p.content=g,y&&v.push(["title",y])),r.pos=c,r.posMax=T,!0},bV=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,yV=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,wV=function(r,a){var v,b,g,E,m,l,c=r.pos;if(r.src.charCodeAt(c)!==60)return!1;for(m=r.pos,l=r.posMax;;){if(++c>=l||(E=r.src.charCodeAt(c),E===60))return!1;if(E===62)break}return v=r.src.slice(m+1,c),yV.test(v)?(b=r.md.normalizeLink(v),r.md.validateLink(b)?(a||(g=r.push("link_open","a",1),g.attrs=[["href",b]],g.markup="autolink",g.info="auto",g=r.push("text","",0),g.content=r.md.normalizeLinkText(v),g=r.push("link_close","a",-1),g.markup="autolink",g.info="auto"),r.pos+=v.length+2,!0):!1):bV.test(v)?(b=r.md.normalizeLink("mailto:"+v),r.md.validateLink(b)?(a||(g=r.push("link_open","a",1),g.attrs=[["href",b]],g.markup="autolink",g.info="auto",g=r.push("text","",0),g.content=r.md.normalizeLinkText(v),g=r.push("link_close","a",-1),g.markup="autolink",g.info="auto"),r.pos+=v.length+2,!0):!1):!1},_V=cn.HTML_TAG_RE;function kV(u){return/^<a[>\s]/i.test(u)}function EV(u){return/^<\/a\s*>/i.test(u)}function xV(u){var r=u|32;return r>=97&&r<=122}var CV=function(r,a){var v,b,g,E,m=r.pos;return!r.md.options.html||(g=r.posMax,r.src.charCodeAt(m)!==60||m+2>=g)||(v=r.src.charCodeAt(m+1),v!==33&&v!==63&&v!==47&&!xV(v))||(b=r.src.slice(m).match(_V),!b)?!1:(a||(E=r.push("html_inline","",0),E.content=r.src.slice(m,m+b[0].length),kV(E.content)&&r.linkLevel++,EV(E.content)&&r.linkLevel--),r.pos+=b[0].length,!0)},mo=No,SV=xe.has,AV=xe.isValidEntityCode,vo=xe.fromCodePoint,LV=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,TV=/^&([a-z][a-z0-9]{1,31});/i,MV=function(r,a){var v,b,g,E,m=r.pos,l=r.posMax;if(r.src.charCodeAt(m)!==38||m+1>=l)return!1;if(v=r.src.charCodeAt(m+1),v===35){if(g=r.src.slice(m).match(LV),g)return a||(b=g[1][0].toLowerCase()==="x"?parseInt(g[1].slice(1),16):parseInt(g[1],10),E=r.push("text_special","",0),E.content=AV(b)?vo(b):vo(65533),E.markup=g[0],E.info="entity"),r.pos+=g[0].length,!0}else if(g=r.src.slice(m).match(TV),g&&SV(mo,g[1]))return a||(E=r.push("text_special","",0),E.content=mo[g[1]],E.markup=g[0],E.info="entity"),r.pos+=g[0].length,!0;return!1};function go(u,r){var a,v,b,g,E,m,l,c,h={},f=r.length;if(f){var y=0,p=-2,w=[];for(a=0;a<f;a++)if(b=r[a],w.push(0),(r[y].marker!==b.marker||p!==b.token-1)&&(y=a),p=b.token,b.length=b.length||0,!!b.close){for(h.hasOwnProperty(b.marker)||(h[b.marker]=[-1,-1,-1,-1,-1,-1]),E=h[b.marker][(b.open?3:0)+b.length%3],v=y-w[y]-1,m=v;v>E;v-=w[v]+1)if(g=r[v],g.marker===b.marker&&g.open&&g.end<0&&(l=!1,(g.close||b.open)&&(g.length+b.length)%3===0&&(g.length%3!==0||b.length%3!==0)&&(l=!0),!l)){c=v>0&&!r[v-1].open?w[v-1]+1:0,w[a]=a-v+c,w[v]=c,b.open=!1,g.end=a,g.close=!1,m=-1,p=-2;break}m!==-1&&(h[b.marker][(b.open?3:0)+(b.length||0)%3]=m)}}}var DV=function(r){var a,v=r.tokens_meta,b=r.tokens_meta.length;for(go(r,r.delimiters),a=0;a<b;a++)v[a]&&v[a].delimiters&&go(r,v[a].delimiters)},NV=function(r){var a,v,b=0,g=r.tokens,E=r.tokens.length;for(a=v=0;a<E;a++)g[a].nesting<0&&b--,g[a].level=b,g[a].nesting>0&&b++,g[a].type==="text"&&a+1<E&&g[a+1].type==="text"?g[a+1].content=g[a].content+g[a+1].content:(a!==v&&(g[v]=g[a]),v++);a!==v&&(g.length=v)},Qn=Yn,bo=xe.isWhiteSpace,yo=xe.isPunctChar,wo=xe.isMdAsciiPunct;function It(u,r,a,v){this.src=u,this.env=a,this.md=r,this.tokens=v,this.tokens_meta=Array(v.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}It.prototype.pushPending=function(){var u=new Qn("text","",0);return u.content=this.pending,u.level=this.pendingLevel,this.tokens.push(u),this.pending="",u};It.prototype.push=function(u,r,a){this.pending&&this.pushPending();var v=new Qn(u,r,a),b=null;return a<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),v.level=this.level,a>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],b={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(v),this.tokens_meta.push(b),v};It.prototype.scanDelims=function(u,r){var a=u,v,b,g,E,m,l,c,h,f,y=!0,p=!0,w=this.posMax,k=this.src.charCodeAt(u);for(v=u>0?this.src.charCodeAt(u-1):32;a<w&&this.src.charCodeAt(a)===k;)a++;return g=a-u,b=a<w?this.src.charCodeAt(a):32,c=wo(v)||yo(String.fromCharCode(v)),f=wo(b)||yo(String.fromCharCode(b)),l=bo(v),h=bo(b),h?y=!1:f&&(l||c||(y=!1)),l?p=!1:c&&(h||f||(p=!1)),r?(E=y,m=p):(E=y&&(!p||c),m=p&&(!y||f)),{can_open:E,can_close:m,length:g}};It.prototype.Token=Qn;var HV=It,_o=Zn,Bn=[["text",sV],["linkify",cV],["newline",uV],["escape",pV],["backticks",fV],["strikethrough",dn.tokenize],["emphasis",pn.tokenize],["link",mV],["image",gV],["autolink",wV],["html_inline",CV],["entity",MV]],Fn=[["balance_pairs",DV],["strikethrough",dn.postProcess],["emphasis",pn.postProcess],["fragments_join",NV]];function Pt(){var u;for(this.ruler=new _o,u=0;u<Bn.length;u++)this.ruler.push(Bn[u][0],Bn[u][1]);for(this.ruler2=new _o,u=0;u<Fn.length;u++)this.ruler2.push(Fn[u][0],Fn[u][1])}Pt.prototype.skipToken=function(u){var r,a,v=u.pos,b=this.ruler.getRules(""),g=b.length,E=u.md.options.maxNesting,m=u.cache;if(typeof m[v]<"u"){u.pos=m[v];return}if(u.level<E)for(a=0;a<g&&(u.level++,r=b[a](u,!0),u.level--,!r);a++);else u.pos=u.posMax;r||u.pos++,m[v]=u.pos};Pt.prototype.tokenize=function(u){for(var r,a,v=this.ruler.getRules(""),b=v.length,g=u.posMax,E=u.md.options.maxNesting;u.pos<g;){if(u.level<E)for(a=0;a<b&&(r=v[a](u,!1),!r);a++);if(r){if(u.pos>=g)break;continue}u.pending+=u.src[u.pos++]}u.pending&&u.pushPending()};Pt.prototype.parse=function(u,r,a,v){var b,g,E,m=new this.State(u,r,a,v);for(this.tokenize(m),g=this.ruler2.getRules(""),E=g.length,b=0;b<E;b++)g[b](m)};Pt.prototype.State=HV;var qV=Pt,zn,ko;function OV(){return ko||(ko=1,zn=function(u){var r={};u=u||{},r.src_Any=Ho().source,r.src_Cc=qo().source,r.src_Z=Oo().source,r.src_P=Kn.source,r.src_ZPCc=[r.src_Z,r.src_P,r.src_Cc].join("|"),r.src_ZCc=[r.src_Z,r.src_Cc].join("|");var a="[><｜]";return r.src_pseudo_letter="(?:(?!"+a+"|"+r.src_ZPCc+")"+r.src_Any+")",r.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",r.src_auth="(?:(?:(?!"+r.src_ZCc+"|[@/\\[\\]()]).)+@)?",r.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",r.src_host_terminator="(?=$|"+a+"|"+r.src_ZPCc+")(?!"+(u["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+r.src_ZPCc+"))",r.src_path="(?:[/?#](?:(?!"+r.src_ZCc+"|"+a+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+r.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+r.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+r.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+r.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+r.src_ZCc+"|[']).)+\\'|\\'(?="+r.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+r.src_ZCc+"|[.]|$)|"+(u["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+r.src_ZCc+"|$)|;(?!"+r.src_ZCc+"|$)|\\!+(?!"+r.src_ZCc+"|[!]|$)|\\?(?!"+r.src_ZCc+"|[?]|$))+|\\/)?",r.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',r.src_xn="xn--[a-z0-9\\-]{1,59}",r.src_domain_root="(?:"+r.src_xn+"|"+r.src_pseudo_letter+"{1,63})",r.src_domain="(?:"+r.src_xn+"|(?:"+r.src_pseudo_letter+")|(?:"+r.src_pseudo_letter+"(?:-|"+r.src_pseudo_letter+"){0,61}"+r.src_pseudo_letter+"))",r.src_host="(?:(?:(?:(?:"+r.src_domain+")\\.)*"+r.src_domain+"))",r.tpl_host_fuzzy="(?:"+r.src_ip4+"|(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%)))",r.tpl_host_no_ip_fuzzy="(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%))",r.src_host_strict=r.src_host+r.src_host_terminator,r.tpl_host_fuzzy_strict=r.tpl_host_fuzzy+r.src_host_terminator,r.src_host_port_strict=r.src_host+r.src_port+r.src_host_terminator,r.tpl_host_port_fuzzy_strict=r.tpl_host_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_port_no_ip_fuzzy_strict=r.tpl_host_no_ip_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+r.src_ZPCc+"|>|$))",r.tpl_email_fuzzy="(^|"+a+'|"|\\(|'+r.src_ZCc+")("+r.src_email_name+"@"+r.tpl_host_fuzzy_strict+")",r.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+r.src_ZPCc+"))((?![$+<=>^`|｜])"+r.tpl_host_port_fuzzy_strict+r.src_path+")",r.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+r.src_ZPCc+"))((?![$+<=>^`|｜])"+r.tpl_host_port_no_ip_fuzzy_strict+r.src_path+")",r}),zn}function Gn(u){var r=Array.prototype.slice.call(arguments,1);return r.forEach(function(a){a&&Object.keys(a).forEach(function(v){u[v]=a[v]})}),u}function fn(u){return Object.prototype.toString.call(u)}function RV(u){return fn(u)==="[object String]"}function IV(u){return fn(u)==="[object Object]"}function PV(u){return fn(u)==="[object RegExp]"}function Eo(u){return fn(u)==="[object Function]"}function jV(u){return u.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var zo={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function BV(u){return Object.keys(u||{}).reduce(function(r,a){return r||zo.hasOwnProperty(a)},!1)}var FV={"http:":{validate:function(u,r,a){var v=u.slice(r);return a.re.http||(a.re.http=new RegExp("^\\/\\/"+a.re.src_auth+a.re.src_host_port_strict+a.re.src_path,"i")),a.re.http.test(v)?v.match(a.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(u,r,a){var v=u.slice(r);return a.re.no_http||(a.re.no_http=new RegExp("^"+a.re.src_auth+"(?:localhost|(?:(?:"+a.re.src_domain+")\\.)+"+a.re.src_domain_root+")"+a.re.src_port+a.re.src_host_terminator+a.re.src_path,"i")),a.re.no_http.test(v)?r>=3&&u[r-3]===":"||r>=3&&u[r-3]==="/"?0:v.match(a.re.no_http)[0].length:0}},"mailto:":{validate:function(u,r,a){var v=u.slice(r);return a.re.mailto||(a.re.mailto=new RegExp("^"+a.re.src_email_name+"@"+a.re.src_host_strict,"i")),a.re.mailto.test(v)?v.match(a.re.mailto)[0].length:0}}},zV="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",UV="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function VV(u){u.__index__=-1,u.__text_cache__=""}function $V(u){return function(r,a){var v=r.slice(a);return u.test(v)?v.match(u)[0].length:0}}function xo(){return function(u,r){r.normalize(u)}}function tn(u){var r=u.re=OV()(u.__opts__),a=u.__tlds__.slice();u.onCompile(),u.__tlds_replaced__||a.push(zV),a.push(r.src_xn),r.src_tlds=a.join("|");function v(m){return m.replace("%TLDS%",r.src_tlds)}r.email_fuzzy=RegExp(v(r.tpl_email_fuzzy),"i"),r.link_fuzzy=RegExp(v(r.tpl_link_fuzzy),"i"),r.link_no_ip_fuzzy=RegExp(v(r.tpl_link_no_ip_fuzzy),"i"),r.host_fuzzy_test=RegExp(v(r.tpl_host_fuzzy_test),"i");var b=[];u.__compiled__={};function g(m,l){throw new Error('(LinkifyIt) Invalid schema "'+m+'": '+l)}Object.keys(u.__schemas__).forEach(function(m){var l=u.__schemas__[m];if(l!==null){var c={validate:null,link:null};if(u.__compiled__[m]=c,IV(l)){PV(l.validate)?c.validate=$V(l.validate):Eo(l.validate)?c.validate=l.validate:g(m,l),Eo(l.normalize)?c.normalize=l.normalize:l.normalize?g(m,l):c.normalize=xo();return}if(RV(l)){b.push(m);return}g(m,l)}}),b.forEach(function(m){u.__compiled__[u.__schemas__[m]]&&(u.__compiled__[m].validate=u.__compiled__[u.__schemas__[m]].validate,u.__compiled__[m].normalize=u.__compiled__[u.__schemas__[m]].normalize)}),u.__compiled__[""]={validate:null,normalize:xo()};var E=Object.keys(u.__compiled__).filter(function(m){return m.length>0&&u.__compiled__[m]}).map(jV).join("|");u.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+r.src_ZPCc+"))("+E+")","i"),u.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+r.src_ZPCc+"))("+E+")","ig"),u.re.schema_at_start=RegExp("^"+u.re.schema_search.source,"i"),u.re.pretest=RegExp("("+u.re.schema_test.source+")|("+u.re.host_fuzzy_test.source+")|@","i"),VV(u)}function GV(u,r){var a=u.__index__,v=u.__last_index__,b=u.__text_cache__.slice(a,v);this.schema=u.__schema__.toLowerCase(),this.index=a+r,this.lastIndex=v+r,this.raw=b,this.text=b,this.url=b}function Wn(u,r){var a=new GV(u,r);return u.__compiled__[a.schema].normalize(a,u),a}function Ue(u,r){if(!(this instanceof Ue))return new Ue(u,r);r||BV(u)&&(r=u,u={}),this.__opts__=Gn({},zo,r),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Gn({},FV,u),this.__compiled__={},this.__tlds__=UV,this.__tlds_replaced__=!1,this.re={},tn(this)}Ue.prototype.add=function(r,a){return this.__schemas__[r]=a,tn(this),this};Ue.prototype.set=function(r){return this.__opts__=Gn(this.__opts__,r),this};Ue.prototype.test=function(r){if(this.__text_cache__=r,this.__index__=-1,!r.length)return!1;var a,v,b,g,E,m,l,c,h;if(this.re.schema_test.test(r)){for(l=this.re.schema_search,l.lastIndex=0;(a=l.exec(r))!==null;)if(g=this.testSchemaAt(r,a[2],l.lastIndex),g){this.__schema__=a[2],this.__index__=a.index+a[1].length,this.__last_index__=a.index+a[0].length+g;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=r.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(v=r.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(E=v.index+v[1].length,(this.__index__<0||E<this.__index__)&&(this.__schema__="",this.__index__=E,this.__last_index__=v.index+v[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(h=r.indexOf("@"),h>=0&&(b=r.match(this.re.email_fuzzy))!==null&&(E=b.index+b[1].length,m=b.index+b[0].length,(this.__index__<0||E<this.__index__||E===this.__index__&&m>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=E,this.__last_index__=m))),this.__index__>=0};Ue.prototype.pretest=function(r){return this.re.pretest.test(r)};Ue.prototype.testSchemaAt=function(r,a,v){return this.__compiled__[a.toLowerCase()]?this.__compiled__[a.toLowerCase()].validate(r,v,this):0};Ue.prototype.match=function(r){var a=0,v=[];this.__index__>=0&&this.__text_cache__===r&&(v.push(Wn(this,a)),a=this.__last_index__);for(var b=a?r.slice(a):r;this.test(b);)v.push(Wn(this,a)),b=b.slice(this.__last_index__),a+=this.__last_index__;return v.length?v:null};Ue.prototype.matchAtStart=function(r){if(this.__text_cache__=r,this.__index__=-1,!r.length)return null;var a=this.re.schema_at_start.exec(r);if(!a)return null;var v=this.testSchemaAt(r,a[2],a[0].length);return v?(this.__schema__=a[2],this.__index__=a.index+a[1].length,this.__last_index__=a.index+a[0].length+v,Wn(this,0)):null};Ue.prototype.tlds=function(r,a){return r=Array.isArray(r)?r:[r],a?(this.__tlds__=this.__tlds__.concat(r).sort().filter(function(v,b,g){return v!==g[b-1]}).reverse(),tn(this),this):(this.__tlds__=r.slice(),this.__tlds_replaced__=!0,tn(this),this)};Ue.prototype.normalize=function(r){r.schema||(r.url="http://"+r.url),r.schema==="mailto:"&&!/^mailto:/i.test(r.url)&&(r.url="mailto:"+r.url)};Ue.prototype.onCompile=function(){};var WV=Ue;const KV={},ZV=Object.freeze(Object.defineProperty({__proto__:null,default:KV},Symbol.toStringTag,{value:"Module"})),YV=$s(ZV);var JV={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},XV={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},QV={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Rt=xe,e6=an,t6=nU,n6=SU,r6=oV,o6=qV,i6=WV,pt=St,Uo=YV,s6={default:JV,zero:XV,commonmark:QV},a6=/^(vbscript|javascript|file|data):/,c6=/^data:image\/(gif|png|jpeg|webp);/;function l6(u){var r=u.trim().toLowerCase();return a6.test(r)?!!c6.test(r):!0}var Vo=["http:","https:","mailto:"];function u6(u){var r=pt.parse(u,!0);if(r.hostname&&(!r.protocol||Vo.indexOf(r.protocol)>=0))try{r.hostname=Uo.toASCII(r.hostname)}catch{}return pt.encode(pt.format(r))}function d6(u){var r=pt.parse(u,!0);if(r.hostname&&(!r.protocol||Vo.indexOf(r.protocol)>=0))try{r.hostname=Uo.toUnicode(r.hostname)}catch{}return pt.decode(pt.format(r),pt.decode.defaultChars+"%")}function Ke(u,r){if(!(this instanceof Ke))return new Ke(u,r);r||Rt.isString(u)||(r=u||{},u="default"),this.inline=new o6,this.block=new r6,this.core=new n6,this.renderer=new t6,this.linkify=new i6,this.validateLink=l6,this.normalizeLink=u6,this.normalizeLinkText=d6,this.utils=Rt,this.helpers=Rt.assign({},e6),this.options={},this.configure(u),r&&this.set(r)}Ke.prototype.set=function(u){return Rt.assign(this.options,u),this};Ke.prototype.configure=function(u){var r=this,a;if(Rt.isString(u)&&(a=u,u=s6[a],!u))throw new Error('Wrong `markdown-it` preset "'+a+'", check name');if(!u)throw new Error("Wrong `markdown-it` preset, can't be empty");return u.options&&r.set(u.options),u.components&&Object.keys(u.components).forEach(function(v){u.components[v].rules&&r[v].ruler.enableOnly(u.components[v].rules),u.components[v].rules2&&r[v].ruler2.enableOnly(u.components[v].rules2)}),this};Ke.prototype.enable=function(u,r){var a=[];Array.isArray(u)||(u=[u]),["core","block","inline"].forEach(function(b){a=a.concat(this[b].ruler.enable(u,!0))},this),a=a.concat(this.inline.ruler2.enable(u,!0));var v=u.filter(function(b){return a.indexOf(b)<0});if(v.length&&!r)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+v);return this};Ke.prototype.disable=function(u,r){var a=[];Array.isArray(u)||(u=[u]),["core","block","inline"].forEach(function(b){a=a.concat(this[b].ruler.disable(u,!0))},this),a=a.concat(this.inline.ruler2.disable(u,!0));var v=u.filter(function(b){return a.indexOf(b)<0});if(v.length&&!r)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+v);return this};Ke.prototype.use=function(u){var r=[this].concat(Array.prototype.slice.call(arguments,1));return u.apply(u,r),this};Ke.prototype.parse=function(u,r){if(typeof u!="string")throw new Error("Input data should be a String");var a=new this.core.State(u,this,r);return this.core.process(a),a.tokens};Ke.prototype.render=function(u,r){return r=r||{},this.renderer.render(this.parse(u,r),this.options,r)};Ke.prototype.parseInline=function(u,r){var a=new this.core.State(u,this,r);return a.inlineMode=!0,this.core.process(a),a.tokens};Ke.prototype.renderInline=function(u,r){return r=r||{},this.renderer.render(this.parseInline(u,r),this.options,r)};var p6=Ke,f6=p6;const h6=rn(f6);var $o={exports:{}};(function(u,r){(function(a,v){u.exports=v()})(nn,function(){return(()=>{var a={760:E=>{var m=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},l=-1;m.Diff=function(c,h){return[c,h]},m.prototype.diff_main=function(c,h,f,y){y===void 0&&(y=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);var p=y;if(c==null||h==null)throw new Error("Null input. (diff_main)");if(c==h)return c?[new m.Diff(0,c)]:[];f===void 0&&(f=!0);var w=f,k=this.diff_commonPrefix(c,h),C=c.substring(0,k);c=c.substring(k),h=h.substring(k),k=this.diff_commonSuffix(c,h);var N=c.substring(c.length-k);c=c.substring(0,c.length-k),h=h.substring(0,h.length-k);var T=this.diff_compute_(c,h,w,p);return C&&T.unshift(new m.Diff(0,C)),N&&T.push(new m.Diff(0,N)),this.diff_cleanupMerge(T),T},m.prototype.diff_compute_=function(c,h,f,y){var p;if(!c)return[new m.Diff(1,h)];if(!h)return[new m.Diff(l,c)];var w=c.length>h.length?c:h,k=c.length>h.length?h:c,C=w.indexOf(k);if(C!=-1)return p=[new m.Diff(1,w.substring(0,C)),new m.Diff(0,k),new m.Diff(1,w.substring(C+k.length))],c.length>h.length&&(p[0][0]=p[2][0]=l),p;if(k.length==1)return[new m.Diff(l,c),new m.Diff(1,h)];var N=this.diff_halfMatch_(c,h);if(N){var T=N[0],H=N[1],M=N[2],D=N[3],_=N[4],j=this.diff_main(T,M,f,y),z=this.diff_main(H,D,f,y);return j.concat([new m.Diff(0,_)],z)}return f&&c.length>100&&h.length>100?this.diff_lineMode_(c,h,y):this.diff_bisect_(c,h,y)},m.prototype.diff_lineMode_=function(c,h,f){var y=this.diff_linesToChars_(c,h);c=y.chars1,h=y.chars2;var p=y.lineArray,w=this.diff_main(c,h,!1,f);this.diff_charsToLines_(w,p),this.diff_cleanupSemantic(w),w.push(new m.Diff(0,""));for(var k=0,C=0,N=0,T="",H="";k<w.length;){switch(w[k][0]){case 1:N++,H+=w[k][1];break;case l:C++,T+=w[k][1];break;case 0:if(C>=1&&N>=1){w.splice(k-C-N,C+N),k=k-C-N;for(var M=this.diff_main(T,H,!1,f),D=M.length-1;D>=0;D--)w.splice(k,0,M[D]);k+=M.length}N=0,C=0,T="",H=""}k++}return w.pop(),w},m.prototype.diff_bisect_=function(c,h,f){for(var y=c.length,p=h.length,w=Math.ceil((y+p)/2),k=w,C=2*w,N=new Array(C),T=new Array(C),H=0;H<C;H++)N[H]=-1,T[H]=-1;N[k+1]=0,T[k+1]=0;for(var M=y-p,D=M%2!=0,_=0,j=0,z=0,K=0,F=0;F<w&&!(new Date().getTime()>f);F++){for(var ie=-F+_;ie<=F-j;ie+=2){for(var fe=k+ie,ne=(ce=ie==-F||ie!=F&&N[fe-1]<N[fe+1]?N[fe+1]:N[fe-1]+1)-ie;ce<y&&ne<p&&c.charAt(ce)==h.charAt(ne);)ce++,ne++;if(N[fe]=ce,ce>y)j+=2;else if(ne>p)_+=2;else if(D&&(U=k+M-ie)>=0&&U<C&&T[U]!=-1&&ce>=(B=y-T[U]))return this.diff_bisectSplit_(c,h,ce,ne,f)}for(var O=-F+z;O<=F-K;O+=2){for(var B,U=k+O,$=(B=O==-F||O!=F&&T[U-1]<T[U+1]?T[U+1]:T[U-1]+1)-O;B<y&&$<p&&c.charAt(y-B-1)==h.charAt(p-$-1);)B++,$++;if(T[U]=B,B>y)K+=2;else if($>p)z+=2;else if(!D&&(fe=k+M-O)>=0&&fe<C&&N[fe]!=-1){var ce;if(ne=k+(ce=N[fe])-fe,ce>=(B=y-B))return this.diff_bisectSplit_(c,h,ce,ne,f)}}}return[new m.Diff(l,c),new m.Diff(1,h)]},m.prototype.diff_bisectSplit_=function(c,h,f,y,p){var w=c.substring(0,f),k=h.substring(0,y),C=c.substring(f),N=h.substring(y),T=this.diff_main(w,k,!1,p),H=this.diff_main(C,N,!1,p);return T.concat(H)},m.prototype.diff_linesToChars_=function(c,h){var f=[],y={};function p(C){for(var N="",T=0,H=-1,M=f.length;H<C.length-1;){(H=C.indexOf(`
`,T))==-1&&(H=C.length-1);var D=C.substring(T,H+1);(y.hasOwnProperty?y.hasOwnProperty(D):y[D]!==void 0)?N+=String.fromCharCode(y[D]):(M==w&&(D=C.substring(T),H=C.length),N+=String.fromCharCode(M),y[D]=M,f[M++]=D),T=H+1}return N}f[0]="";var w=4e4,k=p(c);return w=65535,{chars1:k,chars2:p(h),lineArray:f}},m.prototype.diff_charsToLines_=function(c,h){for(var f=0;f<c.length;f++){for(var y=c[f][1],p=[],w=0;w<y.length;w++)p[w]=h[y.charCodeAt(w)];c[f][1]=p.join("")}},m.prototype.diff_commonPrefix=function(c,h){if(!c||!h||c.charAt(0)!=h.charAt(0))return 0;for(var f=0,y=Math.min(c.length,h.length),p=y,w=0;f<p;)c.substring(w,p)==h.substring(w,p)?w=f=p:y=p,p=Math.floor((y-f)/2+f);return p},m.prototype.diff_commonSuffix=function(c,h){if(!c||!h||c.charAt(c.length-1)!=h.charAt(h.length-1))return 0;for(var f=0,y=Math.min(c.length,h.length),p=y,w=0;f<p;)c.substring(c.length-p,c.length-w)==h.substring(h.length-p,h.length-w)?w=f=p:y=p,p=Math.floor((y-f)/2+f);return p},m.prototype.diff_commonOverlap_=function(c,h){var f=c.length,y=h.length;if(f==0||y==0)return 0;f>y?c=c.substring(f-y):f<y&&(h=h.substring(0,f));var p=Math.min(f,y);if(c==h)return p;for(var w=0,k=1;;){var C=c.substring(p-k),N=h.indexOf(C);if(N==-1)return w;k+=N,N!=0&&c.substring(p-k)!=h.substring(0,k)||(w=k,k++)}},m.prototype.diff_halfMatch_=function(c,h){if(this.Diff_Timeout<=0)return null;var f=c.length>h.length?c:h,y=c.length>h.length?h:c;if(f.length<4||2*y.length<f.length)return null;var p=this;function w(_,j,z){for(var K,F,ie,fe,ne=_.substring(z,z+Math.floor(_.length/4)),O=-1,B="";(O=j.indexOf(ne,O+1))!=-1;){var U=p.diff_commonPrefix(_.substring(z),j.substring(O)),$=p.diff_commonSuffix(_.substring(0,z),j.substring(0,O));B.length<$+U&&(B=j.substring(O-$,O)+j.substring(O,O+U),K=_.substring(0,z-$),F=_.substring(z+U),ie=j.substring(0,O-$),fe=j.substring(O+U))}return 2*B.length>=_.length?[K,F,ie,fe,B]:null}var k,C,N,T,H,M=w(f,y,Math.ceil(f.length/4)),D=w(f,y,Math.ceil(f.length/2));return M||D?(k=D?M&&M[4].length>D[4].length?M:D:M,c.length>h.length?(C=k[0],N=k[1],T=k[2],H=k[3]):(T=k[0],H=k[1],C=k[2],N=k[3]),[C,N,T,H,k[4]]):null},m.prototype.diff_cleanupSemantic=function(c){for(var h=!1,f=[],y=0,p=null,w=0,k=0,C=0,N=0,T=0;w<c.length;)c[w][0]==0?(f[y++]=w,k=N,C=T,N=0,T=0,p=c[w][1]):(c[w][0]==1?N+=c[w][1].length:T+=c[w][1].length,p&&p.length<=Math.max(k,C)&&p.length<=Math.max(N,T)&&(c.splice(f[y-1],0,new m.Diff(l,p)),c[f[y-1]+1][0]=1,y--,w=--y>0?f[y-1]:-1,k=0,C=0,N=0,T=0,p=null,h=!0)),w++;for(h&&this.diff_cleanupMerge(c),this.diff_cleanupSemanticLossless(c),w=1;w<c.length;){if(c[w-1][0]==l&&c[w][0]==1){var H=c[w-1][1],M=c[w][1],D=this.diff_commonOverlap_(H,M),_=this.diff_commonOverlap_(M,H);D>=_?(D>=H.length/2||D>=M.length/2)&&(c.splice(w,0,new m.Diff(0,M.substring(0,D))),c[w-1][1]=H.substring(0,H.length-D),c[w+1][1]=M.substring(D),w++):(_>=H.length/2||_>=M.length/2)&&(c.splice(w,0,new m.Diff(0,H.substring(0,_))),c[w-1][0]=1,c[w-1][1]=M.substring(0,M.length-_),c[w+1][0]=l,c[w+1][1]=H.substring(_),w++),w++}w++}},m.prototype.diff_cleanupSemanticLossless=function(c){function h(_,j){if(!_||!j)return 6;var z=_.charAt(_.length-1),K=j.charAt(0),F=z.match(m.nonAlphaNumericRegex_),ie=K.match(m.nonAlphaNumericRegex_),fe=F&&z.match(m.whitespaceRegex_),ne=ie&&K.match(m.whitespaceRegex_),O=fe&&z.match(m.linebreakRegex_),B=ne&&K.match(m.linebreakRegex_),U=O&&_.match(m.blanklineEndRegex_),$=B&&j.match(m.blanklineStartRegex_);return U||$?5:O||B?4:F&&!fe&&ne?3:fe||ne?2:F||ie?1:0}for(var f=1;f<c.length-1;){if(c[f-1][0]==0&&c[f+1][0]==0){var y=c[f-1][1],p=c[f][1],w=c[f+1][1],k=this.diff_commonSuffix(y,p);if(k){var C=p.substring(p.length-k);y=y.substring(0,y.length-k),p=C+p.substring(0,p.length-k),w=C+w}for(var N=y,T=p,H=w,M=h(y,p)+h(p,w);p.charAt(0)===w.charAt(0);){y+=p.charAt(0),p=p.substring(1)+w.charAt(0),w=w.substring(1);var D=h(y,p)+h(p,w);D>=M&&(M=D,N=y,T=p,H=w)}c[f-1][1]!=N&&(N?c[f-1][1]=N:(c.splice(f-1,1),f--),c[f][1]=T,H?c[f+1][1]=H:(c.splice(f+1,1),f--))}f++}},m.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,m.whitespaceRegex_=/\s/,m.linebreakRegex_=/[\r\n]/,m.blanklineEndRegex_=/\n\r?\n$/,m.blanklineStartRegex_=/^\r?\n\r?\n/,m.prototype.diff_cleanupEfficiency=function(c){for(var h=!1,f=[],y=0,p=null,w=0,k=!1,C=!1,N=!1,T=!1;w<c.length;)c[w][0]==0?(c[w][1].length<this.Diff_EditCost&&(N||T)?(f[y++]=w,k=N,C=T,p=c[w][1]):(y=0,p=null),N=T=!1):(c[w][0]==l?T=!0:N=!0,p&&(k&&C&&N&&T||p.length<this.Diff_EditCost/2&&k+C+N+T==3)&&(c.splice(f[y-1],0,new m.Diff(l,p)),c[f[y-1]+1][0]=1,y--,p=null,k&&C?(N=T=!0,y=0):(w=--y>0?f[y-1]:-1,N=T=!1),h=!0)),w++;h&&this.diff_cleanupMerge(c)},m.prototype.diff_cleanupMerge=function(c){c.push(new m.Diff(0,""));for(var h,f=0,y=0,p=0,w="",k="";f<c.length;)switch(c[f][0]){case 1:p++,k+=c[f][1],f++;break;case l:y++,w+=c[f][1],f++;break;case 0:y+p>1?(y!==0&&p!==0&&((h=this.diff_commonPrefix(k,w))!==0&&(f-y-p>0&&c[f-y-p-1][0]==0?c[f-y-p-1][1]+=k.substring(0,h):(c.splice(0,0,new m.Diff(0,k.substring(0,h))),f++),k=k.substring(h),w=w.substring(h)),(h=this.diff_commonSuffix(k,w))!==0&&(c[f][1]=k.substring(k.length-h)+c[f][1],k=k.substring(0,k.length-h),w=w.substring(0,w.length-h))),f-=y+p,c.splice(f,y+p),w.length&&(c.splice(f,0,new m.Diff(l,w)),f++),k.length&&(c.splice(f,0,new m.Diff(1,k)),f++),f++):f!==0&&c[f-1][0]==0?(c[f-1][1]+=c[f][1],c.splice(f,1)):f++,p=0,y=0,w="",k=""}c[c.length-1][1]===""&&c.pop();var C=!1;for(f=1;f<c.length-1;)c[f-1][0]==0&&c[f+1][0]==0&&(c[f][1].substring(c[f][1].length-c[f-1][1].length)==c[f-1][1]?(c[f][1]=c[f-1][1]+c[f][1].substring(0,c[f][1].length-c[f-1][1].length),c[f+1][1]=c[f-1][1]+c[f+1][1],c.splice(f-1,1),C=!0):c[f][1].substring(0,c[f+1][1].length)==c[f+1][1]&&(c[f-1][1]+=c[f+1][1],c[f][1]=c[f][1].substring(c[f+1][1].length)+c[f+1][1],c.splice(f+1,1),C=!0)),f++;C&&this.diff_cleanupMerge(c)},m.prototype.diff_xIndex=function(c,h){var f,y=0,p=0,w=0,k=0;for(f=0;f<c.length&&(c[f][0]!==1&&(y+=c[f][1].length),c[f][0]!==l&&(p+=c[f][1].length),!(y>h));f++)w=y,k=p;return c.length!=f&&c[f][0]===l?k:k+(h-w)},m.prototype.diff_prettyHtml=function(c){for(var h=[],f=/&/g,y=/</g,p=/>/g,w=/\n/g,k=0;k<c.length;k++){var C=c[k][0],N=c[k][1].replace(f,"&amp;").replace(y,"&lt;").replace(p,"&gt;").replace(w,"&para;<br>");switch(C){case 1:h[k]='<ins style="background:#e6ffe6;">'+N+"</ins>";break;case l:h[k]='<del style="background:#ffe6e6;">'+N+"</del>";break;case 0:h[k]="<span>"+N+"</span>"}}return h.join("")},m.prototype.diff_text1=function(c){for(var h=[],f=0;f<c.length;f++)c[f][0]!==1&&(h[f]=c[f][1]);return h.join("")},m.prototype.diff_text2=function(c){for(var h=[],f=0;f<c.length;f++)c[f][0]!==l&&(h[f]=c[f][1]);return h.join("")},m.prototype.diff_levenshtein=function(c){for(var h=0,f=0,y=0,p=0;p<c.length;p++){var w=c[p][0],k=c[p][1];switch(w){case 1:f+=k.length;break;case l:y+=k.length;break;case 0:h+=Math.max(f,y),f=0,y=0}}return h+=Math.max(f,y)},m.prototype.diff_toDelta=function(c){for(var h=[],f=0;f<c.length;f++)switch(c[f][0]){case 1:h[f]="+"+encodeURI(c[f][1]);break;case l:h[f]="-"+c[f][1].length;break;case 0:h[f]="="+c[f][1].length}return h.join("	").replace(/%20/g," ")},m.prototype.diff_fromDelta=function(c,h){for(var f=[],y=0,p=0,w=h.split(/\t/g),k=0;k<w.length;k++){var C=w[k].substring(1);switch(w[k].charAt(0)){case"+":try{f[y++]=new m.Diff(1,decodeURI(C))}catch{throw new Error("Illegal escape in diff_fromDelta: "+C)}break;case"-":case"=":var N=parseInt(C,10);if(isNaN(N)||N<0)throw new Error("Invalid number in diff_fromDelta: "+C);var T=c.substring(p,p+=N);w[k].charAt(0)=="="?f[y++]=new m.Diff(0,T):f[y++]=new m.Diff(l,T);break;default:if(w[k])throw new Error("Invalid diff operation in diff_fromDelta: "+w[k])}}if(p!=c.length)throw new Error("Delta length ("+p+") does not equal source text length ("+c.length+").");return f},m.prototype.match_main=function(c,h,f){if(c==null||h==null||f==null)throw new Error("Null input. (match_main)");return f=Math.max(0,Math.min(f,c.length)),c==h?0:c.length?c.substring(f,f+h.length)==h?f:this.match_bitap_(c,h,f):-1},m.prototype.match_bitap_=function(c,h,f){if(h.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var y=this.match_alphabet_(h),p=this;function w(ne,O){var B=ne/h.length,U=Math.abs(f-O);return p.Match_Distance?B+U/p.Match_Distance:U?1:B}var k=this.Match_Threshold,C=c.indexOf(h,f);C!=-1&&(k=Math.min(w(0,C),k),(C=c.lastIndexOf(h,f+h.length))!=-1&&(k=Math.min(w(0,C),k)));var N,T,H=1<<h.length-1;C=-1;for(var M,D=h.length+c.length,_=0;_<h.length;_++){for(N=0,T=D;N<T;)w(_,f+T)<=k?N=T:D=T,T=Math.floor((D-N)/2+N);D=T;var j=Math.max(1,f-T+1),z=Math.min(f+T,c.length)+h.length,K=Array(z+2);K[z+1]=(1<<_)-1;for(var F=z;F>=j;F--){var ie=y[c.charAt(F-1)];if(K[F]=_===0?(K[F+1]<<1|1)&ie:(K[F+1]<<1|1)&ie|(M[F+1]|M[F])<<1|1|M[F+1],K[F]&H){var fe=w(_,F-1);if(fe<=k){if(k=fe,!((C=F-1)>f))break;j=Math.max(1,2*f-C)}}}if(w(_+1,f)>k)break;M=K}return C},m.prototype.match_alphabet_=function(c){for(var h={},f=0;f<c.length;f++)h[c.charAt(f)]=0;for(f=0;f<c.length;f++)h[c.charAt(f)]|=1<<c.length-f-1;return h},m.prototype.patch_addContext_=function(c,h){if(h.length!=0){if(c.start2===null)throw Error("patch not initialized");for(var f=h.substring(c.start2,c.start2+c.length1),y=0;h.indexOf(f)!=h.lastIndexOf(f)&&f.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)y+=this.Patch_Margin,f=h.substring(c.start2-y,c.start2+c.length1+y);y+=this.Patch_Margin;var p=h.substring(c.start2-y,c.start2);p&&c.diffs.unshift(new m.Diff(0,p));var w=h.substring(c.start2+c.length1,c.start2+c.length1+y);w&&c.diffs.push(new m.Diff(0,w)),c.start1-=p.length,c.start2-=p.length,c.length1+=p.length+w.length,c.length2+=p.length+w.length}},m.prototype.patch_make=function(c,h,f){var y,p;if(typeof c=="string"&&typeof h=="string"&&f===void 0)y=c,(p=this.diff_main(y,h,!0)).length>2&&(this.diff_cleanupSemantic(p),this.diff_cleanupEfficiency(p));else if(c&&typeof c=="object"&&h===void 0&&f===void 0)p=c,y=this.diff_text1(p);else if(typeof c=="string"&&h&&typeof h=="object"&&f===void 0)y=c,p=h;else{if(typeof c!="string"||typeof h!="string"||!f||typeof f!="object")throw new Error("Unknown call format to patch_make.");y=c,p=f}if(p.length===0)return[];for(var w=[],k=new m.patch_obj,C=0,N=0,T=0,H=y,M=y,D=0;D<p.length;D++){var _=p[D][0],j=p[D][1];switch(C||_===0||(k.start1=N,k.start2=T),_){case 1:k.diffs[C++]=p[D],k.length2+=j.length,M=M.substring(0,T)+j+M.substring(T);break;case l:k.length1+=j.length,k.diffs[C++]=p[D],M=M.substring(0,T)+M.substring(T+j.length);break;case 0:j.length<=2*this.Patch_Margin&&C&&p.length!=D+1?(k.diffs[C++]=p[D],k.length1+=j.length,k.length2+=j.length):j.length>=2*this.Patch_Margin&&C&&(this.patch_addContext_(k,H),w.push(k),k=new m.patch_obj,C=0,H=M,N=T)}_!==1&&(N+=j.length),_!==l&&(T+=j.length)}return C&&(this.patch_addContext_(k,H),w.push(k)),w},m.prototype.patch_deepCopy=function(c){for(var h=[],f=0;f<c.length;f++){var y=c[f],p=new m.patch_obj;p.diffs=[];for(var w=0;w<y.diffs.length;w++)p.diffs[w]=new m.Diff(y.diffs[w][0],y.diffs[w][1]);p.start1=y.start1,p.start2=y.start2,p.length1=y.length1,p.length2=y.length2,h[f]=p}return h},m.prototype.patch_apply=function(c,h){if(c.length==0)return[h,[]];c=this.patch_deepCopy(c);var f=this.patch_addPadding(c);h=f+h+f,this.patch_splitMax(c);for(var y=0,p=[],w=0;w<c.length;w++){var k,C,N=c[w].start2+y,T=this.diff_text1(c[w].diffs),H=-1;if(T.length>this.Match_MaxBits?(k=this.match_main(h,T.substring(0,this.Match_MaxBits),N))!=-1&&((H=this.match_main(h,T.substring(T.length-this.Match_MaxBits),N+T.length-this.Match_MaxBits))==-1||k>=H)&&(k=-1):k=this.match_main(h,T,N),k==-1)p[w]=!1,y-=c[w].length2-c[w].length1;else if(p[w]=!0,y=k-N,T==(C=H==-1?h.substring(k,k+T.length):h.substring(k,H+this.Match_MaxBits)))h=h.substring(0,k)+this.diff_text2(c[w].diffs)+h.substring(k+T.length);else{var M=this.diff_main(T,C,!1);if(T.length>this.Match_MaxBits&&this.diff_levenshtein(M)/T.length>this.Patch_DeleteThreshold)p[w]=!1;else{this.diff_cleanupSemanticLossless(M);for(var D,_=0,j=0;j<c[w].diffs.length;j++){var z=c[w].diffs[j];z[0]!==0&&(D=this.diff_xIndex(M,_)),z[0]===1?h=h.substring(0,k+D)+z[1]+h.substring(k+D):z[0]===l&&(h=h.substring(0,k+D)+h.substring(k+this.diff_xIndex(M,_+z[1].length))),z[0]!==l&&(_+=z[1].length)}}}}return[h=h.substring(f.length,h.length-f.length),p]},m.prototype.patch_addPadding=function(c){for(var h=this.Patch_Margin,f="",y=1;y<=h;y++)f+=String.fromCharCode(y);for(y=0;y<c.length;y++)c[y].start1+=h,c[y].start2+=h;var p=c[0],w=p.diffs;if(w.length==0||w[0][0]!=0)w.unshift(new m.Diff(0,f)),p.start1-=h,p.start2-=h,p.length1+=h,p.length2+=h;else if(h>w[0][1].length){var k=h-w[0][1].length;w[0][1]=f.substring(w[0][1].length)+w[0][1],p.start1-=k,p.start2-=k,p.length1+=k,p.length2+=k}return(w=(p=c[c.length-1]).diffs).length==0||w[w.length-1][0]!=0?(w.push(new m.Diff(0,f)),p.length1+=h,p.length2+=h):h>w[w.length-1][1].length&&(k=h-w[w.length-1][1].length,w[w.length-1][1]+=f.substring(0,k),p.length1+=k,p.length2+=k),f},m.prototype.patch_splitMax=function(c){for(var h=this.Match_MaxBits,f=0;f<c.length;f++)if(!(c[f].length1<=h)){var y=c[f];c.splice(f--,1);for(var p=y.start1,w=y.start2,k="";y.diffs.length!==0;){var C=new m.patch_obj,N=!0;for(C.start1=p-k.length,C.start2=w-k.length,k!==""&&(C.length1=C.length2=k.length,C.diffs.push(new m.Diff(0,k)));y.diffs.length!==0&&C.length1<h-this.Patch_Margin;){var T=y.diffs[0][0],H=y.diffs[0][1];T===1?(C.length2+=H.length,w+=H.length,C.diffs.push(y.diffs.shift()),N=!1):T===l&&C.diffs.length==1&&C.diffs[0][0]==0&&H.length>2*h?(C.length1+=H.length,p+=H.length,N=!1,C.diffs.push(new m.Diff(T,H)),y.diffs.shift()):(H=H.substring(0,h-C.length1-this.Patch_Margin),C.length1+=H.length,p+=H.length,T===0?(C.length2+=H.length,w+=H.length):N=!1,C.diffs.push(new m.Diff(T,H)),H==y.diffs[0][1]?y.diffs.shift():y.diffs[0][1]=y.diffs[0][1].substring(H.length))}k=(k=this.diff_text2(C.diffs)).substring(k.length-this.Patch_Margin);var M=this.diff_text1(y.diffs).substring(0,this.Patch_Margin);M!==""&&(C.length1+=M.length,C.length2+=M.length,C.diffs.length!==0&&C.diffs[C.diffs.length-1][0]===0?C.diffs[C.diffs.length-1][1]+=M:C.diffs.push(new m.Diff(0,M))),N||c.splice(++f,0,C)}}},m.prototype.patch_toText=function(c){for(var h=[],f=0;f<c.length;f++)h[f]=c[f];return h.join("")},m.prototype.patch_fromText=function(c){var h=[];if(!c)return h;for(var f=c.split(`
`),y=0,p=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;y<f.length;){var w=f[y].match(p);if(!w)throw new Error("Invalid patch string: "+f[y]);var k=new m.patch_obj;for(h.push(k),k.start1=parseInt(w[1],10),w[2]===""?(k.start1--,k.length1=1):w[2]=="0"?k.length1=0:(k.start1--,k.length1=parseInt(w[2],10)),k.start2=parseInt(w[3],10),w[4]===""?(k.start2--,k.length2=1):w[4]=="0"?k.length2=0:(k.start2--,k.length2=parseInt(w[4],10)),y++;y<f.length;){var C=f[y].charAt(0);try{var N=decodeURI(f[y].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+N)}if(C=="-")k.diffs.push(new m.Diff(l,N));else if(C=="+")k.diffs.push(new m.Diff(1,N));else if(C==" ")k.diffs.push(new m.Diff(0,N));else{if(C=="@")break;if(C!=="")throw new Error('Invalid patch mode "'+C+'" in: '+N)}y++}}return h},(m.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var c,h=["@@ -"+(this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1)+" +"+(this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2)+` @@
`],f=0;f<this.diffs.length;f++){switch(this.diffs[f][0]){case 1:c="+";break;case l:c="-";break;case 0:c=" "}h[f+1]=c+encodeURI(this.diffs[f][1])+`
`}return h.join("").replace(/%20/g," ")},E.exports=m,E.exports.diff_match_patch=m,E.exports.DIFF_DELETE=l,E.exports.DIFF_INSERT=1,E.exports.DIFF_EQUAL=0},872:(E,m,l)=>{l.d(m,{default:()=>He});var c=l(478),h=l(156),f=l(314),y=l(730),p=l(66),w=l(218),k=l(702),C=function(oe){oe===void 0&&(oe=document);var ke=function(J){var W=document.createElement("img");W.src=J.getAttribute("data-src"),W.addEventListener("load",function(){J.getAttribute("style")||J.getAttribute("class")||J.getAttribute("width")||J.getAttribute("height")||W.naturalHeight>W.naturalWidth&&W.naturalWidth/W.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&W.naturalHeight>window.innerHeight-40&&(J.style.height=window.innerHeight-40+"px"),J.src=W.src}),J.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return oe.querySelectorAll("img").forEach(function(J){J.getAttribute("data-src")&&ke(J)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),oe.querySelectorAll("img").forEach(function(J){window.vditorImageIntersectionObserver.observe(J)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(J){J.forEach(function(W){(W.isIntersecting===void 0?W.intersectionRatio!==0:W.isIntersecting)&&W.target.getAttribute("data-src")&&ke(W.target)})}),oe.querySelectorAll("img").forEach(function(J){window.vditorImageIntersectionObserver.observe(J)}))},N=l(466),T=l(554),H=l(40),M=l(563),D=l(749),_=l(818),j=l(408),z=l(54),K=l(227),F=l(526),ie=l(827),fe=l(640),ne=l(895),O=l(393),B=function(oe,ke){if(ke===void 0&&(ke="zh_CN"),typeof speechSynthesis<"u"&&typeof SpeechSynthesisUtterance<"u"){var J='<svg><use xlink:href="#vditor-icon-play"></use></svg>',W='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(J='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',W='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var se=document.querySelector(".vditor-speech");if(!se){(se=document.createElement("div")).className="vditor-speech",document.body.insertAdjacentElement("beforeend",se);var ye=function(){var Ae,we;return speechSynthesis.getVoices().forEach(function(Ce){Ce.lang===ke.replace("_","-")&&(Ae=Ce),Ce.default&&(we=Ce)}),Ae||(Ae=we),Ae};speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=ye);var be=ye();se.onclick=function(){if(se.className==="vditor-speech"){var Ae=new SpeechSynthesisUtterance(se.getAttribute("data-text"));Ae.voice=be,Ae.onend=function(){se.className="vditor-speech",speechSynthesis.cancel(),se.innerHTML=J},speechSynthesis.speak(Ae),se.className="vditor-speech vditor-speech--current",se.innerHTML=W}else speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),se.innerHTML=W):(speechSynthesis.pause(),se.innerHTML=J));(0,O.Hc)(window.vditorSpeechRange)},document.body.addEventListener("click",function(){getSelection().toString().trim()===""&&se.style.display==="block"&&(se.className="vditor-speech",speechSynthesis.cancel(),se.style.display="none")})}oe.addEventListener("mouseup",function(Ae){var we=getSelection().toString().trim();if(speechSynthesis.cancel(),getSelection().toString().trim()!==""){window.vditorSpeechRange=getSelection().getRangeAt(0).cloneRange();var Ce=getSelection().getRangeAt(0).getBoundingClientRect();se.innerHTML=J,se.style.display="block",se.style.top=Ce.top+Ce.height+document.querySelector("html").scrollTop-20+"px",se.style.left=Ae.screenX+2+"px",se.setAttribute("data-text",we)}else se.style.display==="block"&&(se.className="vditor-speech",se.style.display="none")})}},U=function(oe,ke,J,W){return new(J||(J=Promise))(function(se,ye){function be(Ce){try{we(W.next(Ce))}catch(ge){ye(ge)}}function Ae(Ce){try{we(W.throw(Ce))}catch(ge){ye(ge)}}function we(Ce){var ge;Ce.done?se(Ce.value):(ge=Ce.value,ge instanceof J?ge:new J(function(rt){rt(ge)})).then(be,Ae)}we((W=W.apply(oe,ke||[])).next())})},$=function(oe,ke){var J,W,se,ye,be={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return ye={next:Ae(0),throw:Ae(1),return:Ae(2)},typeof Symbol=="function"&&(ye[Symbol.iterator]=function(){return this}),ye;function Ae(we){return function(Ce){return function(ge){if(J)throw new TypeError("Generator is already executing.");for(;be;)try{if(J=1,W&&(se=2&ge[0]?W.return:ge[0]?W.throw||((se=W.return)&&se.call(W),0):W.next)&&!(se=se.call(W,ge[1])).done)return se;switch(W=0,se&&(ge=[2&ge[0],se.value]),ge[0]){case 0:case 1:se=ge;break;case 4:return be.label++,{value:ge[1],done:!1};case 5:be.label++,W=ge[1],ge=[0];continue;case 7:ge=be.ops.pop(),be.trys.pop();continue;default:if(se=be.trys,!((se=se.length>0&&se[se.length-1])||ge[0]!==6&&ge[0]!==2)){be=0;continue}if(ge[0]===3&&(!se||ge[1]>se[0]&&ge[1]<se[3])){be.label=ge[1];break}if(ge[0]===6&&be.label<se[1]){be.label=se[1],se=ge;break}if(se&&be.label<se[2]){be.label=se[2],be.ops.push(ge);break}se[2]&&be.ops.pop(),be.trys.pop();continue}ge=ke.call(oe,be)}catch(rt){ge=[6,rt],W=0}finally{J=se=0}if(5&ge[0])throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}([we,Ce])}}},ce=function(oe){var ke={anchor:0,cdn:z.g.CDN,customEmoji:{},emojiPath:(oe&&oe.emojiPath||z.g.CDN)+"/dist/images/emoji",hljs:z.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:z.g.MARKDOWN_OPTIONS,math:z.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},theme:z.g.THEME_OPTIONS};return(0,fe.T)(ke,oe)},me=function(oe,ke){var J=ce(ke);return(0,F.G)(J.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){var W=(0,ne.X)({autoSpace:J.markdown.autoSpace,codeBlockPreview:J.markdown.codeBlockPreview,emojiSite:J.emojiPath,emojis:J.customEmoji,fixTermTypo:J.markdown.fixTermTypo,footnotes:J.markdown.footnotes,headingAnchor:J.anchor!==0,inlineMathDigit:J.math.inlineDigit,lazyLoadImage:J.lazyLoadImage,linkBase:J.markdown.linkBase,linkPrefix:J.markdown.linkPrefix,listStyle:J.markdown.listStyle,mark:J.markdown.mark,mathBlockPreview:J.markdown.mathBlockPreview,paragraphBeginningSpace:J.markdown.paragraphBeginningSpace,sanitize:J.markdown.sanitize,toc:J.markdown.toc});return ke!=null&&ke.renderers&&W.SetJSRenderers({renderers:{Md2HTML:ke.renderers}}),W.SetHeadingID(!0),W.Md2HTML(oe)})},he=function(oe,ke,J){return U(void 0,void 0,void 0,function(){var W,se,ye;return $(this,function(be){switch(be.label){case 0:return W=ce(J),[4,me(ke,W)];case 1:if(se=be.sent(),W.transform&&(se=W.transform(se)),oe.innerHTML=se,oe.classList.add("vditor-reset"),W.i18n)return[3,5];if(["en_US","ja_JP","ko_KR","ru_RU","zh_CN","zh_TW"].includes(W.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return ye="vditorI18nScript"+W.lang,document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach(function(we){we.id!==ye&&document.head.removeChild(we)}),[4,(0,F.G)(W.cdn+"/dist/js/i18n/"+W.lang+".js",ye)];case 3:be.sent(),be.label=4;case 4:return[3,6];case 5:window.VditorI18n=W.i18n,be.label=6;case 6:return W.icon?[4,(0,F.G)(W.cdn+"/dist/js/icons/"+W.icon+".js","vditorIconScript")]:[3,8];case 7:be.sent(),be.label=8;case 8:return(0,K.Z)(W.theme.current,W.theme.path),W.anchor===1&&oe.classList.add("vditor-reset--anchor"),(0,y.O)(oe),(0,k.s)(W.hljs,oe,W.cdn),(0,N.H)(oe,{cdn:W.cdn,math:W.math}),(0,H.i)(oe,W.cdn,W.mode),(0,M.K)(oe,W.cdn,W.mode),(0,p.P)(oe,W.cdn),(0,w.v)(oe,W.cdn),(0,f.p)(oe,W.cdn,W.mode),(0,D.P)(oe,W.cdn,W.mode),(0,j.B)(oe,W.cdn),(0,c.Q)(oe,W.cdn),(0,T.Y)(oe),W.speech.enable&&B(oe),W.anchor!==0&&(Ae=W.anchor,document.querySelectorAll(".vditor-anchor").forEach(function(we){Ae===1&&we.classList.add("vditor-anchor--left"),we.onclick=function(){var Ce=we.getAttribute("href").substr(1),ge=document.getElementById("vditorAnchor-"+Ce).offsetTop;document.querySelector("html").scrollTop=ge}}),window.onhashchange=function(){var we=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));we&&(document.querySelector("html").scrollTop=we.offsetTop)}),W.after&&W.after(),W.lazyLoadImage&&C(oe),oe.addEventListener("click",function(we){var Ce=(0,ie.lG)(we.target,"SPAN");if(Ce&&(0,ie.fb)(Ce,"vditor-toc")){var ge=oe.querySelector("#"+Ce.getAttribute("data-target-id"));ge&&window.scrollTo(window.scrollX,ge.offsetTop)}}),[2]}var Ae})})},q=l(863),Ee=l(312);const He=function(){function oe(){}return oe.adapterRender=h,oe.previewImage=q.E,oe.codeRender=y.O,oe.graphvizRender=w.v,oe.highlightRender=k.s,oe.mathRender=N.H,oe.mermaidRender=H.i,oe.markmapRender=M.K,oe.flowchartRender=p.P,oe.chartRender=f.p,oe.abcRender=c.Q,oe.mindmapRender=D.P,oe.plantumlRender=j.B,oe.outlineRender=_.k,oe.mediaRender=T.Y,oe.speechRender=B,oe.lazyLoadImageRender=C,oe.md2html=me,oe.preview=he,oe.setCodeTheme=Ee.Y,oe.setContentTheme=K.Z,oe}()},54:(E,m,l)=>{l.d(m,{H:()=>c,g:()=>h});var c="3.9.0",h=function(){function f(){}return f.ZWSP="​",f.DROP_EDITOR="application/editor",f.MOBILE_WIDTH=520,f.CLASS_MENU_DISABLED="vditor-menu--disabled",f.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],f.CODE_THEME=["abap","algol","algol_nu","arduino","autumn","borland","bw","colorful","dracula","emacs","friendly","fruity","github","igor","lovelace","manni","monokai","monokailight","murphy","native","paraiso-dark","paraiso-light","pastie","perldoc","pygments","rainbow_dash","rrt","solarized-dark","solarized-dark256","solarized-light","swapoff","tango","trac","vim","vs","xcode","ant-design"],f.CODE_LANGUAGES=["mermaid","echarts","mindmap","plantuml","abc","graphviz","flowchart","apache","js","ts","html","markmap","properties","apache","bash","c","csharp","cpp","css","coffeescript","diff","go","xml","http","json","java","javascript","kotlin","less","lua","makefile","markdown","nginx","objectivec","php","php-template","perl","plaintext","python","python-repl","r","ruby","rust","scss","sql","shell","swift","ini","typescript","vbnet","yaml","ada","clojure","dart","erb","fortran","gradle","haskell","julia","julia-repl","lisp","matlab","pgsql","powershell","sql_more","stata","cmake","mathematica","solidity","yul"],f.CDN="https://unpkg.com/vditor@3.9.0",f.MARKDOWN_OPTIONS={autoSpace:!1,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},f.HLJS_OPTIONS={enable:!0,lineNumber:!1,style:"github"},f.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},f.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:f.CDN+"/dist/css/content-theme"},f}()},478:(E,m,l)=>{l.d(m,{Q:()=>y});var c=l(54),h=l(526),f=l(156),y=function(p,w){p===void 0&&(p=document),w===void 0&&(w=c.g.CDN);var k=f.abcRenderAdapter.getElements(p);k.length>0&&(0,h.G)(w+"/dist/js/abcjs/abcjs_basic.min.js","vditorAbcjsScript").then(function(){k.forEach(function(C){C.parentElement.classList.contains("vditor-wysiwyg__pre")||C.parentElement.classList.contains("vditor-ir__marker--pre")||C.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(C,f.abcRenderAdapter.getCode(C).trim()),C.style.overflowX="auto",C.setAttribute("data-processed","true"))})})}},156:(E,m,l)=>{l.r(m),l.d(m,{mathRenderAdapter:()=>c,mermaidRenderAdapter:()=>h,markmapRenderAdapter:()=>f,mindmapRenderAdapter:()=>y,chartRenderAdapter:()=>p,abcRenderAdapter:()=>w,graphvizRenderAdapter:()=>k,flowchartRenderAdapter:()=>C,plantumlRenderAdapter:()=>N});var c={getCode:function(T){return T.textContent},getElements:function(T){return T.querySelectorAll(".language-math")}},h={getCode:function(T){return T.textContent},getElements:function(T){return T.querySelectorAll(".language-mermaid")}},f={getCode:function(T){return T.textContent},getElements:function(T){return T.querySelectorAll(".language-markmap")}},y={getCode:function(T){return T.getAttribute("data-code")},getElements:function(T){return T.querySelectorAll(".language-mindmap")}},p={getCode:function(T){return T.innerText},getElements:function(T){return T.querySelectorAll(".language-echarts")}},w={getCode:function(T){return T.textContent},getElements:function(T){return T.querySelectorAll(".language-abc")}},k={getCode:function(T){return T.textContent},getElements:function(T){return T.querySelectorAll(".language-graphviz")}},C={getCode:function(T){return T.textContent},getElements:function(T){return T.querySelectorAll(".language-flowchart")}},N={getCode:function(T){return T.textContent},getElements:function(T){return T.querySelectorAll(".language-plantuml")}}},314:(E,m,l)=>{l.d(m,{p:()=>y});var c=l(54),h=l(526),f=l(156),y=function(p,w,k){p===void 0&&(p=document),w===void 0&&(w=c.g.CDN);var C=f.chartRenderAdapter.getElements(p);C.length>0&&(0,h.G)(w+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){C.forEach(function(N){if(!N.parentElement.classList.contains("vditor-wysiwyg__pre")&&!N.parentElement.classList.contains("vditor-ir__marker--pre")){var T=f.chartRenderAdapter.getCode(N).trim();if(T)try{if(N.getAttribute("data-processed")==="true")return;var H=JSON.parse(T);echarts.init(N,k==="dark"?"dark":void 0).setOption(H),N.setAttribute("data-processed","true")}catch(M){N.className="vditor-reset--error",N.innerHTML="echarts render error: <br>"+M}}})})}},730:(E,m,l)=>{l.d(m,{O:()=>h});var c=l(51),h=function(f){f.querySelectorAll("pre > code").forEach(function(y,p){var w,k,C;if(!y.parentElement.classList.contains("vditor-wysiwyg__pre")&&!y.parentElement.classList.contains("vditor-ir__marker--pre")&&!(y.classList.contains("language-mermaid")||y.classList.contains("language-flowchart")||y.classList.contains("language-echarts")||y.classList.contains("language-mindmap")||y.classList.contains("language-plantuml")||y.classList.contains("language-markmap")||y.classList.contains("language-abc")||y.classList.contains("language-graphviz")||y.classList.contains("language-math")||y.style.maxHeight.indexOf("px")>-1||f.classList.contains("vditor-preview")&&p>5)){var N=y.innerText;if(y.classList.contains("highlight-chroma")){var T=document.createElement("code");T.innerHTML=y.innerHTML,T.querySelectorAll(".highlight-ln").forEach(function(_){_.remove()}),N=T.innerText}else N.endsWith(`
`)&&(N=N.substr(0,N.length-1));var H='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(H='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var M=document.createElement("div");M.className="vditor-copy",M.innerHTML='<span aria-label="'+(((w=window.VditorI18n)===null||w===void 0?void 0:w.copy)||"复制")+`"
onmouseover="this.setAttribute('aria-label', '`+(((k=window.VditorI18n)===null||k===void 0?void 0:k.copy)||"复制")+`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`+(((C=window.VditorI18n)===null||C===void 0?void 0:C.copied)||"已复制")+`')">`+H+"</span>";var D=document.createElement("textarea");D.value=(0,c.X)(N),M.insertAdjacentElement("afterbegin",D),y.before(M),y.style.maxHeight=window.outerHeight-40+"px"}})}},66:(E,m,l)=>{l.d(m,{P:()=>y});var c=l(54),h=l(526),f=l(156),y=function(p,w){w===void 0&&(w=c.g.CDN);var k=f.flowchartRenderAdapter.getElements(p);k.length!==0&&(0,h.G)(w+"/dist/js/flowchart.js/flowchart.min.js","vditorFlowchartScript").then(function(){k.forEach(function(C){if(C.getAttribute("data-processed")!=="true"){var N=flowchart.parse(f.flowchartRenderAdapter.getCode(C));C.innerHTML="",N.drawSVG(C),C.setAttribute("data-processed","true")}})})}},218:(E,m,l)=>{l.d(m,{v:()=>y});var c=l(54),h=l(526),f=l(156),y=function(p,w){w===void 0&&(w=c.g.CDN);var k=f.graphvizRenderAdapter.getElements(p);k.length!==0&&(0,h.G)(w+"/dist/js/graphviz/viz.js","vditorGraphVizScript").then(function(){k.forEach(function(C){var N=f.graphvizRenderAdapter.getCode(C);if(!C.parentElement.classList.contains("vditor-wysiwyg__pre")&&!C.parentElement.classList.contains("vditor-ir__marker--pre")&&C.getAttribute("data-processed")!=="true"&&N.trim()!==""){try{var T=new Blob(["importScripts('"+document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js")+"');"],{type:"application/javascript"}),H=(window.URL||window.webkitURL).createObjectURL(T),M=new Worker(H);new Viz({worker:M}).renderSVGElement(N).then(function(D){C.innerHTML=D.outerHTML}).catch(function(D){C.innerHTML="graphviz render error: <br>"+D,C.className="vditor-reset--error"})}catch(D){console.error("graphviz error",D)}C.setAttribute("data-processed","true")}})})}},702:(E,m,l)=>{l.d(m,{s:()=>y});var c=l(54),h=l(526),f=l(578),y=function(p,w,k){w===void 0&&(w=document),k===void 0&&(k=c.g.CDN);var C=p.style;c.g.CODE_THEME.includes(C)||(C="github");var N=document.getElementById("vditorHljsStyle"),T=k+"/dist/js/highlight.js/styles/"+C+".css";N&&N.href!==T&&N.remove(),(0,f.c)(k+"/dist/js/highlight.js/styles/"+C+".css","vditorHljsStyle"),p.enable!==!1&&w.querySelectorAll("pre > code").length!==0&&(0,h.G)(k+"/dist/js/highlight.js/highlight.pack.js","vditorHljsScript").then(function(){(0,h.G)(k+"/dist/js/highlight.js/solidity.min.js","vditorHljsSolidityScript").then(function(){(0,h.G)(k+"/dist/js/highlight.js/yul.min.js","vditorHljsYulScript").then(function(){w.querySelectorAll("pre > code").forEach(function(H){if(!H.parentElement.classList.contains("vditor-ir__marker--pre")&&!H.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(H.classList.contains("language-mermaid")||H.classList.contains("language-flowchart")||H.classList.contains("language-echarts")||H.classList.contains("language-mindmap")||H.classList.contains("language-plantuml")||H.classList.contains("language-abc")||H.classList.contains("language-graphviz")||H.classList.contains("language-math"))&&(hljs.highlightElement(H),p.lineNumber)){H.classList.add("vditor-linenumber");var M=H.querySelector(".vditor-linenumber__temp");M||((M=document.createElement("div")).className="vditor-linenumber__temp",H.insertAdjacentElement("beforeend",M));var D=getComputedStyle(H).whiteSpace,_=!1;D!=="pre-wrap"&&D!=="pre-line"||(_=!0);var j="",z=H.textContent.split(/\r\n|\r|\n/g);z.pop(),z.map(function(K){var F="";_&&(M.textContent=K||`
`,F=' style="height:'+M.getBoundingClientRect().height+'px"'),j+="<span"+F+"></span>"}),M.style.display="none",j='<span class="vditor-linenumber__rows">'+j+"</span>",H.insertAdjacentHTML("beforeend",j)}})})})})}},563:(E,m,l)=>{l.d(m,{K:()=>w});var c=l(54),h=l(526),f=l(156),y={},p=function(k,C){var N=window.markmap,T=N.Transformer,H=N.Markmap,M=N.deriveOptions,D=(N.globalCSS,new T);k.innerHTML='<svg style="width:100%"></svg>';var _=k.firstChild,j=H.create(_,null),z=function(fe,ne){var O=fe.transform(ne),B=Object.keys(O.features).filter(function(he){return!y[he]});B.forEach(function(he){y[he]=!0});var U=fe.getAssets(B),$=U.styles,ce=U.scripts,me=window.markmap;return $&&me.loadCSS($),ce&&me.loadJS(ce),O}(D,C),K=z.root,F=z.frontmatter,ie=M(F==null?void 0:F.markmap);j.setData(K,ie),j.fit()},w=function(k,C,N){C===void 0&&(C=c.g.CDN);var T=f.markmapRenderAdapter.getElements(k);T.length!==0&&(0,h.G)(C+"/src/js/markmap/markmap.min.js","vditorMermaidScript").then(function(){T.forEach(function(H){var M=f.markmapRenderAdapter.getCode(H);if(H.getAttribute("data-processed")!=="true"&&M.trim()!==""){var D=document.createElement("div");D.className="language-markmap",H.parentNode.appendChild(D),p(D,M),H.parentNode.childNodes[0].nodeName=="CODE"&&H.parentNode.removeChild(H.parentNode.childNodes[0])}})})}},466:(E,m,l)=>{l.d(m,{H:()=>w});var c=l(54),h=l(526),f=l(578),y=l(51),p=l(156),w=function(k,C){var N=p.mathRenderAdapter.getElements(k);if(N.length!==0){var T={cdn:c.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(C&&C.math&&(C.math=Object.assign({},T.math,C.math)),(C=Object.assign({},T,C)).math.engine==="KaTeX")(0,f.c)(C.cdn+"/dist/js/katex/katex.min.css","vditorKatexStyle"),(0,h.G)(C.cdn+"/dist/js/katex/katex.min.js","vditorKatexScript").then(function(){(0,h.G)(C.cdn+"/dist/js/katex/mhchem.min.js","vditorKatexChemScript").then(function(){N.forEach(function(M){if(!M.parentElement.classList.contains("vditor-wysiwyg__pre")&&!M.parentElement.classList.contains("vditor-ir__marker--pre")&&!M.getAttribute("data-math")){var D=(0,y.X)(p.mathRenderAdapter.getCode(M));M.setAttribute("data-math",D);try{M.innerHTML=katex.renderToString(D,{displayMode:M.tagName==="DIV",output:"html"})}catch(_){M.innerHTML=_.message,M.className="language-math vditor-reset--error"}M.addEventListener("copy",function(_){_.stopPropagation(),_.preventDefault();var j=_.currentTarget.closest(".language-math");_.clipboardData.setData("text/html",j.innerHTML),_.clipboardData.setData("text/plain",j.getAttribute("data-math"))})}})})});else if(C.math.engine==="MathJax"){window.MathJax||(window.MathJax={loader:{paths:{mathjax:C.cdn+"/dist/js/mathjax"}},startup:{typeset:!1},tex:{macros:C.math.macros}}),(0,h.J)(C.cdn+"/dist/js/mathjax/tex-svg-full.js","protyleMathJaxScript");var H=function(M,D){var _=(0,y.X)(M.textContent).trim(),j=window.MathJax.getMetricsFor(M);j.display=M.tagName==="DIV",window.MathJax.tex2svgPromise(_,j).then(function(z){M.innerHTML="",M.setAttribute("data-math",_),M.append(z),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var K=z.querySelector('[data-mml-node="merror"]');K&&K.textContent.trim()!==""&&(M.innerHTML=K.textContent.trim(),M.className="vditor-reset--error"),D&&D()})};window.MathJax.startup.promise.then(function(){for(var M=[],D=function(j){var z=N[j];z.parentElement.classList.contains("vditor-wysiwyg__pre")||z.parentElement.classList.contains("vditor-ir__marker--pre")||z.getAttribute("data-math")||!(0,y.X)(z.textContent).trim()||M.push(function(K){j===N.length-1?H(z):H(z,K)})},_=0;_<N.length;_++)D(_);(function(j){if(j.length!==0){var z=0,K=j[j.length-1],F=function(){var ie=j[z++];ie===K?ie():ie(F)};F()}})(M)})}}}},554:(E,m,l)=>{l.d(m,{Y:()=>c});var c=function(h){h&&h.querySelectorAll("a").forEach(function(f){var y=f.getAttribute("href");y&&(y.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(p,w){p.insertAdjacentHTML("afterend",'<video controls="controls" src="'+w+'"></video>'),p.remove()}(f,y):y.match(/^.+.(mp3|wav|flac)$/)?function(p,w){p.insertAdjacentHTML("afterend",'<audio controls="controls" src="'+w+'"></audio>'),p.remove()}(f,y):function(p,w){var k=w.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),C=w.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),N=w.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),T=w.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),H=w.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),M=w.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),D=w.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),_=w.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);k&&k[1].length===11?(p.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'+k[1]+(k[2]?"?start="+k[2]:"")+'"></iframe>'),p.remove()):C&&C[1]?(p.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'+C[1]+'"></iframe>'),p.remove()):N&&N[1]?(p.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='+N[1]+'"></iframe>'),p.remove()):T&&T[1]?(p.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`+T[1]+'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>'),p.remove()):H&&H[0]?(p.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`+encodeURIComponent(H[0])+'"></iframe>'),p.remove()):M&&M[2]?(p.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`+M[2]+'"></iframe>'),p.remove()):D&&D[1]?(p.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//player.bilibili.com/player.html?bvid=`+D[1]+'"></iframe>'),p.remove()):_&&_[1]&&(p.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'+_[1]+'"></iframe>'),p.remove())}(f,y))})}},40:(E,m,l)=>{l.d(m,{i:()=>y});var c=l(54),h=l(526),f=l(156),y=function(p,w,k){w===void 0&&(w=c.g.CDN);var C=f.mermaidRenderAdapter.getElements(p);C.length!==0&&(0,h.G)(w+"/dist/js/mermaid/mermaid.min.js","vditorMermaidScript").then(function(){var N={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8},gantt:{leftPadding:75,rightPadding:20}};k==="dark"&&(N.theme="dark"),mermaid.initialize(N),C.forEach(function(T){var H=f.mermaidRenderAdapter.getCode(T);T.getAttribute("data-processed")!=="true"&&H.trim()!==""&&(mermaid.init(void 0,T),T.setAttribute("data-processed","true"))})})}},749:(E,m,l)=>{l.d(m,{P:()=>y});var c=l(54),h=l(526),f=l(156),y=function(p,w,k){p===void 0&&(p=document),w===void 0&&(w=c.g.CDN);var C=f.mindmapRenderAdapter.getElements(p);C.length>0&&(0,h.G)(w+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){C.forEach(function(N){if(!N.parentElement.classList.contains("vditor-wysiwyg__pre")&&!N.parentElement.classList.contains("vditor-ir__marker--pre")){var T=f.mindmapRenderAdapter.getCode(N);if(T)try{if(N.getAttribute("data-processed")==="true")return;echarts.init(N,k==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(T))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(H,M){var D;return!((D=M==null?void 0:M.data)===null||D===void 0)&&D.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),N.setAttribute("data-processed","true")}catch(H){N.className="vditor-reset--error",N.innerHTML="mindmap render error: <br>"+H}}})})}},818:(E,m,l)=>{l.d(m,{k:()=>f});var c=l(64),h=l(466),f=function(y,p,w){var k="",C=[];if(Array.from(y.children).forEach(function(M,D){if((0,c.W)(M)){if(w){var _=M.id.lastIndexOf("_");M.id=M.id.substring(0,_===-1?void 0:_)+"_"+D}C.push(M.id),k+=M.outerHTML.replace("<wbr>","")}}),k==="")return p.innerHTML="","";var N=document.createElement("div");if(w)w.lute.SetToC(!0),w.currentMode!=="wysiwyg"||w.preview.element.contains(y)?w.currentMode!=="ir"||w.preview.element.contains(y)?N.innerHTML=w.lute.HTML2VditorDOM("<p>[ToC]</p>"+k):N.innerHTML=w.lute.SpinVditorIRDOM("<p>[ToC]</p>"+k):N.innerHTML=w.lute.SpinVditorDOM("<p>[ToC]</p>"+k),w.lute.SetToC(w.options.preview.markdown.toc);else{p.classList.add("vditor-outline");var T=Lute.New();T.SetToC(!0),N.innerHTML=T.HTML2VditorDOM("<p>[ToC]</p>"+k)}var H=N.firstElementChild.querySelectorAll("li > span[data-target-id]");return H.forEach(function(M,D){if(M.nextElementSibling&&M.nextElementSibling.tagName==="UL"){var _="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(_='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),M.innerHTML=_+"<span>"+M.innerHTML+"</span>"}else M.innerHTML="<svg></svg><span>"+M.innerHTML+"</span>";M.setAttribute("data-target-id",C[D])}),k=N.firstElementChild.innerHTML,H.length===0?(p.innerHTML="",k):(p.innerHTML=k,w&&(0,h.H)(p,{cdn:w.options.cdn,math:w.options.preview.math}),p.firstElementChild.addEventListener("click",function(M){for(var D=M.target;D&&!D.isEqualNode(p);){if(D.classList.contains("vditor-outline__action")){D.classList.contains("vditor-outline__action--close")?(D.classList.remove("vditor-outline__action--close"),D.parentElement.nextElementSibling.setAttribute("style","display:block")):(D.classList.add("vditor-outline__action--close"),D.parentElement.nextElementSibling.setAttribute("style","display:none")),M.preventDefault(),M.stopPropagation();break}if(D.getAttribute("data-target-id")){M.preventDefault(),M.stopPropagation();var _=document.getElementById(D.getAttribute("data-target-id"));if(!_)return;if(w)if(w.options.height==="auto"){var j=_.offsetTop+w.element.offsetTop;w.options.toolbarConfig.pin||(j+=w.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,j)}else w.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,w.element.offsetTop),w.preview.element.contains(y)?y.parentElement.scrollTop=_.offsetTop:y.scrollTop=_.offsetTop;else window.scrollTo(window.scrollX,_.offsetTop);break}D=D.parentElement}}),k)}},408:(E,m,l)=>{l.d(m,{B:()=>y});var c=l(54),h=l(526),f=l(156),y=function(p,w){p===void 0&&(p=document),w===void 0&&(w=c.g.CDN);var k=f.plantumlRenderAdapter.getElements(p);k.length!==0&&(0,h.G)(w+"/dist/js/plantuml/plantuml-encoder.min.js","vditorPlantumlScript").then(function(){k.forEach(function(C){if(!C.parentElement.classList.contains("vditor-wysiwyg__pre")&&!C.parentElement.classList.contains("vditor-ir__marker--pre")){var N=f.plantumlRenderAdapter.getCode(C).trim();if(N)try{C.innerHTML='<img src="http://www.plantuml.com/plantuml/svg/~1'+plantumlEncoder.encode(N)+'">'}catch(T){C.className="vditor-reset--error",C.innerHTML="plantuml render error: <br>"+T}}})})}},895:(E,m,l)=>{l.d(m,{X:()=>c});var c=function(h){var f=Lute.New();return f.PutEmojis(h.emojis),f.SetEmojiSite(h.emojiSite),f.SetHeadingAnchor(h.headingAnchor),f.SetInlineMathAllowDigitAfterOpenMarker(h.inlineMathDigit),f.SetAutoSpace(h.autoSpace),f.SetToC(h.toc),f.SetFootnotes(h.footnotes),f.SetFixTermTypo(h.fixTermTypo),f.SetVditorCodeBlockPreview(h.codeBlockPreview),f.SetVditorMathBlockPreview(h.mathBlockPreview),f.SetSanitize(h.sanitize),f.SetChineseParagraphBeginningSpace(h.paragraphBeginningSpace),f.SetRenderListStyle(h.listStyle),f.SetLinkBase(h.linkBase),f.SetLinkPrefix(h.linkPrefix),f.SetMark(h.mark),h.lazyLoadImage&&f.SetImageLazyLoading(h.lazyLoadImage),f}},863:(E,m,l)=>{l.d(m,{E:()=>c});var c=function(h,f,y){y===void 0&&(y="classic");var p=h.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'+(y==="dark"?" vditor--dark":"")+`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `+window.VditorI18n.spin+`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`+window.VditorI18n.close+`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `+h.width+"px;height:"+h.height+"px;transform: translate3d("+p.left+"px, "+(p.top-36)+'px, 0)" src="'+h.getAttribute("src")+`">
    </div>
</div>`),document.body.style.overflow="hidden";var w=document.querySelector(".vditor-img img"),k="translate3d("+Math.max(0,window.innerWidth-h.naturalWidth)/2+"px, "+Math.max(0,window.innerHeight-36-h.naturalHeight)/2+"px, 0)";setTimeout(function(){w.setAttribute("style","transition: transform .3s ease-in-out;transform: "+k),setTimeout(function(){w.parentElement.scrollTo((w.parentElement.scrollWidth-w.parentElement.clientWidth)/2,(w.parentElement.scrollHeight-w.parentElement.clientHeight)/2)},400)});var C=document.querySelector(".vditor-img__btn");C.addEventListener("click",function(){var N=parseInt(C.getAttribute("data-deg"),10)+90;N/90%2==1&&h.naturalWidth>w.parentElement.clientHeight?w.style.transform="translate3d("+Math.max(0,window.innerWidth-h.naturalWidth)/2+"px, "+(h.naturalWidth/2-h.naturalHeight/2)+"px, 0) rotateZ("+N+"deg)":w.style.transform=k+" rotateZ("+N+"deg)",C.setAttribute("data-deg",N.toString()),setTimeout(function(){w.parentElement.scrollTo((w.parentElement.scrollWidth-w.parentElement.clientWidth)/2,(w.parentElement.scrollHeight-w.parentElement.clientHeight)/2)},400)})}},312:(E,m,l)=>{l.d(m,{Y:()=>f});var c=l(54),h=l(578),f=function(y,p){p===void 0&&(p=c.g.CDN),c.g.CODE_THEME.includes(y)||(y="github");var w=document.getElementById("vditorHljsStyle"),k=p+"/dist/js/highlight.js/styles/"+y+".css";w?w.href!==k&&(w.remove(),(0,h.c)(k,"vditorHljsStyle")):(0,h.c)(k,"vditorHljsStyle")}},227:(E,m,l)=>{l.d(m,{Z:()=>h});var c=l(578),h=function(f,y){if(f&&y){var p=document.getElementById("vditorContentTheme"),w=y+"/"+f+".css";p?p.getAttribute("href")!==w&&(p.remove(),(0,c.c)(w,"vditorContentTheme")):(0,c.c)(w,"vditorContentTheme")}}},526:(E,m,l)=>{l.d(m,{J:()=>c,G:()=>h});var c=function(f,y){if(document.getElementById(y))return!1;var p=new XMLHttpRequest;p.open("GET",f,!1),p.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),p.send("");var w=document.createElement("script");w.type="text/javascript",w.text=p.responseText,w.id=y,document.head.appendChild(w)},h=function(f,y){return new Promise(function(p,w){if(document.getElementById(y))return p(),!1;var k=document.createElement("script");k.src=f,k.async=!0,document.head.appendChild(k),k.onload=function(){if(document.getElementById(y))return k.remove(),p(),!1;k.id=y,p()}})}},578:(E,m,l)=>{l.d(m,{c:()=>c});var c=function(h,f){if(!document.getElementById(f)){var y=document.createElement("link");y.id=f,y.rel="stylesheet",y.type="text/css",y.href=h,document.getElementsByTagName("head")[0].appendChild(y)}}},51:(E,m,l)=>{l.d(m,{X:()=>c});var c=function(h){return h.replace(/\u00a0/g," ")}},794:(E,m,l)=>{l.d(m,{G6:()=>c,vU:()=>h,pK:()=>f,Le:()=>y,yl:()=>p,ns:()=>w,i7:()=>k});var c=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},h=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},f=function(){try{return typeof localStorage<"u"}catch{return!1}},y=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},p=function(C){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!(!C.metaKey||C.ctrlKey):!(C.metaKey||!C.ctrlKey)},w=function(C){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?C.indexOf("⇧")>-1&&h()&&(C=C.replace(";",":").replace("=","+").replace("-","_")):(C=(C=C.startsWith("⌘")?C.replace("⌘","⌘+"):C.startsWith("⌥")&&C.substr(1,1)!=="⌘"?C.replace("⌥","⌥+"):C.replace("⇧⌘","⌘+⇧+").replace("⌥⌘","⌥+⌘+")).replace("⌘","Ctrl").replace("⇧","Shift").replace("⌥","Alt")).indexOf("Shift")>-1&&(C=C.replace(";",":").replace("=","+").replace("-","_")),C},k=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},827:(E,m,l)=>{l.d(m,{JQ:()=>h,E2:()=>f,O9:()=>y,a1:()=>p,F9:()=>w,lG:()=>k,fb:()=>C,DX:()=>N});var c=l(64),h=function(T,H){for(var M=C(T,H),D=!1,_=!1;M&&!M.classList.contains("vditor-reset")&&!_;)(D=C(M.parentElement,H))?M=D:_=!0;return M||!1},f=function(T,H){for(var M=(0,c.S)(T,H),D=!1,_=!1;M&&!M.classList.contains("vditor-reset")&&!_;)(D=(0,c.S)(M.parentElement,H))?M=D:_=!0;return M||!1},y=function(T){var H=f(T,"UL"),M=f(T,"OL"),D=H;return M&&(!H||H&&M.contains(H))&&(D=M),D},p=function(T,H,M){if(!T)return!1;T.nodeType===3&&(T=T.parentElement);for(var D=T,_=!1;D&&!_&&!D.classList.contains("vditor-reset");)D.getAttribute(H)===M?_=!0:D=D.parentElement;return _&&D},w=function(T){if(!T)return!1;T.nodeType===3&&(T=T.parentElement);var H=T,M=!1,D=p(T,"data-block","0");if(D)return D;for(;H&&!M&&!H.classList.contains("vditor-reset");)H.tagName==="H1"||H.tagName==="H2"||H.tagName==="H3"||H.tagName==="H4"||H.tagName==="H5"||H.tagName==="H6"||H.tagName==="P"||H.tagName==="BLOCKQUOTE"||H.tagName==="OL"||H.tagName==="UL"?M=!0:H=H.parentElement;return M&&H},k=function(T,H){if(!T)return!1;T.nodeType===3&&(T=T.parentElement);for(var M=T,D=!1;M&&!D&&!M.classList.contains("vditor-reset");)M.nodeName===H?D=!0:M=M.parentElement;return D&&M},C=function(T,H){if(!T)return!1;T.nodeType===3&&(T=T.parentElement);for(var M=T,D=!1;M&&!D&&!M.classList.contains("vditor-reset");)M.classList.contains(H)?D=!0:M=M.parentElement;return D&&M},N=function(T){for(;T&&T.lastChild;)T=T.lastChild;return T}},64:(E,m,l)=>{l.d(m,{S:()=>c,W:()=>h});var c=function(f,y){if(!f)return!1;f.nodeType===3&&(f=f.parentElement);for(var p=f,w=!1;p&&!w&&!p.classList.contains("vditor-reset");)p.nodeName.indexOf(y)===0?w=!0:p=p.parentElement;return w&&p},h=function(f){var y=c(f,"H");return!(!y||y.tagName.length!==2||y.tagName==="HR")&&y}},640:(E,m,l)=>{l.d(m,{T:()=>c});var c=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];for(var y={},p=function(k){for(var C in k)k.hasOwnProperty(C)&&(Object.prototype.toString.call(k[C])==="[object Object]"?y[C]=c(y[C],k[C]):y[C]=k[C])},w=0;w<h.length;w++)p(h[w]);return y}},393:(E,m,l)=>{l.d(m,{zh:()=>y,Ny:()=>p,Gb:()=>w,Hc:()=>k,im:()=>C,$j:()=>N,ib:()=>T,oC:()=>H});var c=l(54),h=l(794),f=l(827),y=function(M){var D,_=M[M.currentMode].element;return getSelection().rangeCount>0&&(D=getSelection().getRangeAt(0),_.isEqualNode(D.startContainer)||_.contains(D.startContainer))?D:M[M.currentMode].range?M[M.currentMode].range:(_.focus(),(D=_.ownerDocument.createRange()).setStart(_,0),D.collapse(!0),D)},p=function(M){var D=window.getSelection().getRangeAt(0);if(!M.contains(D.startContainer)&&!(0,f.fb)(D.startContainer,"vditor-panel--none"))return{left:0,top:0};var _,j=M.parentElement.getBoundingClientRect();if(D.getClientRects().length===0)if(D.startContainer.nodeType===3){var z=D.startContainer.parentElement;if(!(z&&z.getClientRects().length>0))return{left:0,top:0};_=z.getClientRects()[0]}else{var K=D.startContainer.children;if(K[D.startOffset]&&K[D.startOffset].getClientRects().length>0)_=K[D.startOffset].getClientRects()[0];else if(D.startContainer.childNodes.length>0){var F=D.cloneRange();D.selectNode(D.startContainer.childNodes[Math.max(0,D.startOffset-1)]),_=D.getClientRects()[0],D.setEnd(F.endContainer,F.endOffset),D.setStart(F.startContainer,F.startOffset)}else _=D.startContainer.getClientRects()[0];if(!_){for(var ie=D.startContainer.childNodes[D.startOffset];!ie.getClientRects||ie.getClientRects&&ie.getClientRects().length===0;)ie=ie.parentElement;_=ie.getClientRects()[0]}}else _=D.getClientRects()[0];return{left:_.left-j.left,top:_.top-j.top}},w=function(M,D){if(!D){if(getSelection().rangeCount===0)return!1;D=getSelection().getRangeAt(0)}var _=D.commonAncestorContainer;return M.isEqualNode(_)||M.contains(_)},k=function(M){var D=window.getSelection();D.removeAllRanges(),D.addRange(M)},C=function(M,D,_){var j={end:0,start:0};if(!_){if(getSelection().rangeCount===0)return j;_=window.getSelection().getRangeAt(0)}if(w(D,_)){var z=_.cloneRange();M.childNodes[0]&&M.childNodes[0].childNodes[0]?z.setStart(M.childNodes[0].childNodes[0],0):z.selectNodeContents(M),z.setEnd(_.startContainer,_.startOffset),j.start=z.toString().length,j.end=j.start+_.toString().length}return j},N=function(M,D,_){var j=0,z=0,K=_.childNodes[z],F=!1,ie=!1;M=Math.max(0,M),D=Math.max(0,D);var fe=_.ownerDocument.createRange();for(fe.setStart(K||_,0),fe.collapse(!0);!ie&&K;){var ne=j+K.textContent.length;if(!F&&M>=j&&M<=ne&&(M===0?fe.setStart(K,0):K.childNodes[0].nodeType===3?fe.setStart(K.childNodes[0],M-j):K.nextSibling?fe.setStartBefore(K.nextSibling):fe.setStartAfter(K),F=!0,M===D)){ie=!0;break}F&&D>=j&&D<=ne&&(D===0?fe.setEnd(K,0):K.childNodes[0].nodeType===3?fe.setEnd(K.childNodes[0],D-j):K.nextSibling?fe.setEndBefore(K.nextSibling):fe.setEndAfter(K),ie=!0),j=ne,K=_.childNodes[++z]}return!ie&&_.childNodes[z-1]&&fe.setStartBefore(_.childNodes[z-1]),k(fe),fe},T=function(M,D){var _=M.querySelector("wbr");if(_){if(_.previousElementSibling)if(_.previousElementSibling.isSameNode(_.previousSibling)){if(_.previousElementSibling.lastChild)return D.setStartBefore(_),D.collapse(!0),k(D),!(0,h.i7)()||_.previousElementSibling.tagName!=="EM"&&_.previousElementSibling.tagName!=="STRONG"&&_.previousElementSibling.tagName!=="S"||(D.insertNode(document.createTextNode(c.g.ZWSP)),D.collapse(!1)),void _.remove();D.setStartAfter(_.previousElementSibling)}else D.setStart(_.previousSibling,_.previousSibling.textContent.length);else _.previousSibling?D.setStart(_.previousSibling,_.previousSibling.textContent.length):_.nextSibling?_.nextSibling.nodeType===3?D.setStart(_.nextSibling,0):D.setStartBefore(_.nextSibling):D.setStart(_.parentElement,0);D.collapse(!0),_.remove(),k(D)}},H=function(M,D){var _=document.createElement("div");_.innerHTML=M;var j=_.querySelectorAll("p");j.length===1&&!j[0].previousSibling&&!j[0].nextSibling&&D[D.currentMode].element.children.length>0&&_.firstElementChild.tagName==="P"&&(M=j[0].innerHTML.trim());var z=document.createElement("div");z.innerHTML=M;var K=y(D);if(K.toString()!==""&&(D[D.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),z.firstElementChild&&z.firstElementChild.getAttribute("data-block")==="0"){z.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var F=(0,f.F9)(K.startContainer);F?F.insertAdjacentHTML("afterend",z.innerHTML):D[D.currentMode].element.insertAdjacentHTML("beforeend",z.innerHTML),T(D[D.currentMode].element,K)}else{var ie=document.createElement("template");ie.innerHTML=M,K.insertNode(ie.content.cloneNode(!0)),K.collapse(!1),k(K)}}}},v={};function b(E){var m=v[E];if(m!==void 0)return m.exports;var l=v[E]={exports:{}};return a[E](l,l.exports,b),l.exports}b.d=(E,m)=>{for(var l in m)b.o(m,l)&&!b.o(E,l)&&Object.defineProperty(E,l,{enumerable:!0,get:m[l]})},b.o=(E,m)=>Object.prototype.hasOwnProperty.call(E,m),b.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var g={};return(()=>{b.d(g,{default:()=>bs});var E,m=b(872),l=b(54),c=b(51),h=function(e){return e.currentMode==="sv"?(0,c.X)((e.sv.element.textContent+`
`).replace(/\n\n$/,`
`)):e.currentMode==="wysiwyg"?e.lute.VditorDOM2Md(e.wysiwyg.element.innerHTML):e.currentMode==="ir"?e.lute.VditorIRDOM2Md(e.ir.element.innerHTML):""},f=b(526),y=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return e.prototype.renderEchart=function(t){var n=this;t.devtools.element.style.display==="block"&&(0,f.G)(t.options.cdn+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){n.ASTChart||(n.ASTChart=echarts.init(t.devtools.element.lastElementChild));try{n.element.lastElementChild.style.display="block",n.element.firstElementChild.innerHTML="",n.ASTChart.setOption({series:[{data:JSON.parse(t.lute.RenderEChartsJSON(h(t))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),n.ASTChart.resize()}catch(i){n.element.lastElementChild.style.display="none",n.element.firstElementChild.innerHTML=i}})},e}(),p=b(794),w=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&i.classList.contains("vditor-menu--current")&&i.classList.remove("vditor-menu--current")}})},k=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&!i.classList.contains("vditor-menu--current")&&i.classList.add("vditor-menu--current")}})},C=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&i.classList.contains(l.g.CLASS_MENU_DISABLED)&&i.classList.remove(l.g.CLASS_MENU_DISABLED)}})},N=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&!i.classList.contains(l.g.CLASS_MENU_DISABLED)&&i.classList.add(l.g.CLASS_MENU_DISABLED)}})},T=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="none")})},H=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="block")})},M=function(e,t,n){t.includes("subToolbar")&&(e.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(i){n&&i.isEqualNode(n)||(i.style.display="none")}),e.toolbar.elements.emoji&&(e.toolbar.elements.emoji.lastElementChild.style.display="none")),t.includes("hint")&&(e.hint.element.style.display="none"),e.wysiwyg.popover&&t.includes("popover")&&(e.wysiwyg.popover.style.display="none")},D=function(e,t,n,i){n.addEventListener((0,p.Le)(),function(o){o.preventDefault(),o.stopPropagation(),n.classList.contains(l.g.CLASS_MENU_DISABLED)||(e.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(s){s.classList.remove("vditor-hint--current")}),t.style.display==="block"?t.style.display="none":(M(e,["subToolbar","hint","popover"],n.parentElement.parentElement),n.classList.contains("vditor-tooltipped")||n.classList.add("vditor-hint--current"),t.style.display="block",e.toolbar.element.getBoundingClientRect().right-n.getBoundingClientRect().right<250?t.classList.add("vditor-panel--left"):t.classList.remove("vditor-panel--left")))})},_=b(827),j=b(64),z=function(e,t,n,i){i&&console.log(e+" - "+n+": "+t)},K=b(478),F=b(314),ie=b(730),fe=b(66),ne=b(218),O=b(702),B=b(466),U=b(40),$=b(563),ce=b(749),me=b(408),he=function(e,t){if(e)if(e.parentElement.getAttribute("data-type")!=="html-block"){var n=e.firstElementChild.className.replace("language-","");n&&(n==="abc"?(0,K.Q)(e,t.options.cdn):n==="mermaid"?(0,U.i)(e,t.options.cdn,t.options.theme):n==="markmap"?(0,$.K)(e,t.options.cdn,t.options.theme):n==="flowchart"?(0,fe.P)(e,t.options.cdn):n==="echarts"?(0,F.p)(e,t.options.cdn,t.options.theme):n==="mindmap"?(0,ce.P)(e,t.options.cdn,t.options.theme):n==="plantuml"?(0,me.B)(e,t.options.cdn):n==="graphviz"?(0,ne.v)(e,t.options.cdn):n==="math"?(0,B.H)(e,{cdn:t.options.cdn,math:t.options.preview.math}):((0,O.s)(Object.assign({},t.options.preview.hljs),e,t.options.cdn),(0,ie.O)(e)),e.setAttribute("data-render","1"))}else e.setAttribute("data-render","1")},q=b(393),Ee=function(e){if(e.currentMode!=="sv"){var t=e[e.currentMode].element,n=e.outline.render(e);n===""&&(n="[ToC]"),t.querySelectorAll('[data-type="toc-block"]').forEach(function(i){i.innerHTML=n,(0,B.H)(i,{cdn:e.options.cdn,math:e.options.preview.math})})}},He=function(e,t){var n=(0,_.lG)(e.target,"SPAN");if(n&&(0,_.fb)(n,"vditor-toc")){var i=t[t.currentMode].element.querySelector("#"+n.getAttribute("data-target-id"));if(i)if(t.options.height==="auto"){var o=i.offsetTop+t.element.offsetTop;t.options.toolbarConfig.pin||(o+=t.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,o)}else t.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,t.element.offsetTop),t[t.currentMode].element.scrollTop=i.offsetTop}},oe=function(e,t,n,i){if(e.previousElementSibling&&e.previousElementSibling.classList.contains("vditor-toc")){if(n.key==="Backspace"&&(0,q.im)(e,t[t.currentMode].element,i).start===0)return e.previousElementSibling.remove(),_e(t),!0;if(gt(t,n,i,e,e.previousElementSibling))return!0}if(e.nextElementSibling&&e.nextElementSibling.classList.contains("vditor-toc")){if(n.key==="Delete"&&(0,q.im)(e,t[t.currentMode].element,i).start>=e.textContent.trimRight().length)return e.nextElementSibling.remove(),_e(t),!0;if(Ht(t,n,i,e,e.nextElementSibling))return!0}if(n.key==="Backspace"||n.key==="Delete"){var o=(0,_.fb)(i.startContainer,"vditor-toc");if(o)return o.remove(),_e(t),!0}},ke=function(e,t,n,i){n===void 0&&(n=!1);var o=(0,_.F9)(t.startContainer);if(o&&!n&&o.getAttribute("data-type")!=="code-block"){if(Cn(o.innerHTML)&&o.previousElementSibling||Sn(o.innerHTML))return;for(var s=(0,q.im)(o,e.ir.element,t).start,d=!0,x=s-1;x>o.textContent.substr(0,s).lastIndexOf(`
`);x--)if(o.textContent.charAt(x)!==" "&&o.textContent.charAt(x)!=="	"){d=!1;break}s===0&&(d=!1);var L=!0;for(x=s-1;x<o.textContent.length;x++)if(o.textContent.charAt(x)!==" "&&o.textContent.charAt(x)!==`
`){L=!1;break}if(d)return void(typeof e.options.input=="function"&&e.options.input(h(e)));if(L&&!(0,_.fb)(t.startContainer,"vditor-ir__marker")){var S=t.startContainer.previousSibling;return S&&S.nodeType!==3&&S.classList.contains("vditor-ir__node--expand")&&S.classList.remove("vditor-ir__node--expand"),void(typeof e.options.input=="function"&&e.options.input(h(e)))}}if(e.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(ae){ae.classList.remove("vditor-ir__node--expand")}),o||(o=e.ir.element),!o.querySelector("wbr")){var A=(0,_.fb)(t.startContainer,"vditor-ir__preview");A?A.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):t.insertNode(document.createElement("wbr"))}o.querySelectorAll("[style]").forEach(function(ae){ae.removeAttribute("style")}),o.getAttribute("data-type")==="link-ref-defs-block"&&(o=e.ir.element);var I,G=o.isEqualNode(e.ir.element),Z=(0,_.a1)(o,"data-type","footnotes-block"),R="";if(G)R=o.innerHTML;else{var V=(0,j.S)(t.startContainer,"BLOCKQUOTE"),te=(0,_.O9)(t.startContainer);if(te&&(o=te),V&&(!te||te&&!V.contains(te))&&(o=V),Z&&(o=Z),R=o.outerHTML,o.tagName==="UL"||o.tagName==="OL"){var ee=o.previousElementSibling,Q=o.nextElementSibling;!ee||ee.tagName!=="UL"&&ee.tagName!=="OL"||(R=ee.outerHTML+R,ee.remove()),!Q||Q.tagName!=="UL"&&Q.tagName!=="OL"||(R+=Q.outerHTML,Q.remove()),R=R.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else o.previousElementSibling&&o.previousElementSibling.textContent.replace(l.g.ZWSP,"")!==""&&i&&i.inputType==="insertParagraph"&&(R=o.previousElementSibling.outerHTML+R,o.previousElementSibling.remove());o.innerText.startsWith("```")||(e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(ae){ae&&!o.isEqualNode(ae)&&(R+=ae.outerHTML,ae.remove())}),e.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(ae){ae&&!o.isEqualNode(ae)&&(R+=ae.outerHTML,ae.remove())}))}if(z("SpinVditorIRDOM",R,"argument",e.options.debugger),R=e.lute.SpinVditorIRDOM(R),z("SpinVditorIRDOM",R,"result",e.options.debugger),G)o.innerHTML=R;else if(o.outerHTML=R,Z){var X=(0,_.a1)(e.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(X){var P=X.textContent,re=P.substring(1,P.indexOf("]:")),pe=e.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+re+'"]');pe&&pe.setAttribute("aria-label",P.substr(re.length+3).trim().substr(0,24))}}var le,de=e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");de.forEach(function(ae,ve){ve===0?I=ae:(I.insertAdjacentHTML("beforeend",ae.innerHTML),ae.remove())}),de.length>0&&e.ir.element.insertAdjacentElement("beforeend",de[0]);var ue=e.ir.element.querySelectorAll("[data-type='footnotes-block']");ue.forEach(function(ae,ve){ve===0?le=ae:(le.insertAdjacentHTML("beforeend",ae.innerHTML),ae.remove())}),ue.length>0&&e.ir.element.insertAdjacentElement("beforeend",ue[0]),(0,q.ib)(e.ir.element,t),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(ae){he(ae,e)}),Ee(e),et(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},J=function(e,t){if(e==="")return!1;if(e.indexOf("⇧")===-1&&e.indexOf("⌘")===-1&&e.indexOf("⌥")===-1)return!((0,p.yl)(t)||t.altKey||t.shiftKey||t.code!==e);if(e==="⇧Tab")return!((0,p.yl)(t)||t.altKey||!t.shiftKey||t.code!=="Tab");var n=e.split("");if(e.startsWith("⌥")){var i=n.length===3?n[2]:n[1];return!((n.length===3?!(0,p.yl)(t):(0,p.yl)(t))||!t.altKey||t.shiftKey||t.code!==(/^[0-9]$/.test(i)?"Digit":"Key")+i)}e==="⌘Enter"&&(n=["⌘","Enter"]);var o=n.length>2&&n[0]==="⇧",s=o?n[2]:n[1];return!o||!(0,p.vU)()&&/Mac/.test(navigator.platform)||(s==="-"?s="_":s==="="&&(s="+")),!(!(0,p.yl)(t)||t.key.toLowerCase()!==s.toLowerCase()||t.altKey||!(!o&&!t.shiftKey||o&&t.shiftKey))},W=function(e,t){t.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(d){d.classList.remove("vditor-ir__node--expand")});var n=(0,_.JQ)(e.startContainer,"vditor-ir__node"),i=!e.collapsed&&(0,_.JQ)(e.endContainer,"vditor-ir__node");if(e.collapsed||n&&n===i){n&&(n.classList.add("vditor-ir__node--expand"),n.classList.remove("vditor-ir__node--hidden"),(0,q.Hc)(e));var o=function(d){var x=d.startContainer;if(x.nodeType===3&&x.nodeValue.length!==d.startOffset)return!1;for(var L=x.nextSibling;L&&L.textContent==="";)L=L.nextSibling;if(!L){var S=(0,_.fb)(x,"vditor-ir__marker");if(S&&!S.nextSibling){var A=x.parentElement.parentElement.nextSibling;if(A&&A.nodeType!==3&&A.classList.contains("vditor-ir__node"))return A}return!1}return!(!L||L.nodeType===3||!L.classList.contains("vditor-ir__node")||L.getAttribute("data-block"))&&L}(e);if(o)return o.classList.add("vditor-ir__node--expand"),void o.classList.remove("vditor-ir__node--hidden");var s=function(d){var x=d.startContainer,L=x.previousSibling;return!(x.nodeType!==3||d.startOffset!==0||!L||L.nodeType===3||!L.classList.contains("vditor-ir__node")||L.getAttribute("data-block"))&&L}(e);return s?(s.classList.add("vditor-ir__node--expand"),void s.classList.remove("vditor-ir__node--hidden")):void 0}},se=b(863),ye=function(e,t){var n,i=getSelection().getRangeAt(0).cloneRange(),o=i.startContainer;i.startContainer.nodeType!==3&&i.startContainer.tagName==="DIV"&&(o=i.startContainer.childNodes[i.startOffset-1]);var s=(0,_.a1)(o,"data-block","0");if(s&&t&&(t.inputType==="deleteContentBackward"||t.data===" ")){for(var d=(0,q.im)(s,e.sv.element,i).start,x=!0,L=d-1;L>s.textContent.substr(0,d).lastIndexOf(`
`);L--)if(s.textContent.charAt(L)!==" "&&s.textContent.charAt(L)!=="	"){x=!1;break}if(d===0&&(x=!1),x)return void Re(e);if(t.inputType==="deleteContentBackward"){var S=(0,_.a1)(o,"data-type","code-block-open-marker")||(0,_.a1)(o,"data-type","code-block-close-marker");if(S){var A;if(S.getAttribute("data-type")==="code-block-close-marker"&&(A=Bt(o,"code-block-open-marker"))||S.getAttribute("data-type")==="code-block-open-marker"&&(A=Bt(o,"code-block-close-marker",!1)))return A.textContent=S.textContent,void Re(e)}var I=(0,_.a1)(o,"data-type","math-block-open-marker");if(I){var G=I.nextElementSibling.nextElementSibling;return void(G&&G.getAttribute("data-type")==="math-block-close-marker"&&(G.remove(),Re(e)))}s.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(P){P.textContent.length===1&&P.remove()}),s.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(P){P.textContent.length===1&&P.remove()});var Z=(0,_.a1)(o,"data-type","heading-marker");if(Z&&Z.textContent.indexOf("#")===-1)return void Re(e)}if((t.data===" "||t.inputType==="deleteContentBackward")&&((0,_.a1)(o,"data-type","padding")||(0,_.a1)(o,"data-type","li-marker")||(0,_.a1)(o,"data-type","task-marker")||(0,_.a1)(o,"data-type","blockquote-marker")))return void Re(e)}if(s&&s.textContent.trimRight()==="$$")Re(e);else{s||(s=e.sv.element),((n=s.firstElementChild)===null||n===void 0?void 0:n.getAttribute("data-type"))==="link-ref-defs-block"&&(s=e.sv.element),(0,_.a1)(o,"data-type","footnotes-link")&&(s=e.sv.element),s.textContent.indexOf(Lute.Caret)===-1&&i.insertNode(document.createTextNode(Lute.Caret)),s.querySelectorAll("[style]").forEach(function(P){P.removeAttribute("style")}),s.querySelectorAll("font").forEach(function(P){P.outerHTML=P.innerHTML});var R,V=s.textContent,te=s.isEqualNode(e.sv.element);te?V=s.textContent:(s.previousElementSibling&&(V=s.previousElementSibling.textContent+V,s.previousElementSibling.remove()),s.previousElementSibling&&V.indexOf(`---
`)===0&&(V=s.previousElementSibling.textContent+V,s.previousElementSibling.remove()),s.innerText.startsWith("```")||(e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(P,re){re===0&&P&&!s.isEqualNode(P.parentElement)&&(V+=`
`+P.parentElement.textContent,P.parentElement.remove())}),e.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(P,re){re===0&&P&&!s.isEqualNode(P.parentElement)&&(V+=`
`+P.parentElement.textContent,P.parentElement.remove())}))),V=cr(V,e),te?s.innerHTML=V:s.outerHTML=V;var ee,Q=e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']");Q.forEach(function(P,re){re===0?R=P.parentElement:(R.lastElementChild.remove(),R.insertAdjacentHTML("beforeend",""+P.parentElement.innerHTML),P.parentElement.remove())}),Q.length>0&&e.sv.element.insertAdjacentElement("beforeend",R);var X=e.sv.element.querySelectorAll("[data-type='footnotes-link']");X.forEach(function(P,re){re===0?ee=P.parentElement:(ee.lastElementChild.remove(),ee.insertAdjacentHTML("beforeend",""+P.parentElement.innerHTML),P.parentElement.remove())}),X.length>0&&e.sv.element.insertAdjacentElement("beforeend",ee),(0,q.ib)(e.sv.element,i),qe(e),Re(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})}},be=b(227),Ae=function(e){e.options.theme==="dark"?e.element.classList.add("vditor--dark"):e.element.classList.remove("vditor--dark")},we=function(e){var t=window.innerWidth<=l.g.MOBILE_WIDTH?10:35;if(e.wysiwyg.element.parentElement.style.display!=="none"){var n=(e.wysiwyg.element.parentElement.clientWidth-e.options.preview.maxWidth)/2;e.wysiwyg.element.style.padding="10px "+Math.max(t,n)+"px"}e.ir.element.parentElement.style.display!=="none"&&(n=(e.ir.element.parentElement.clientWidth-e.options.preview.maxWidth)/2,e.ir.element.style.padding="10px "+Math.max(t,n)+"px"),e.preview.element.style.display!=="block"?e.toolbar.element.style.paddingLeft=Math.max(5,parseInt(e[e.currentMode].element.style.paddingLeft||"0",10)+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0))+"px":e.toolbar.element.style.paddingLeft=5+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0)+"px"},Ce=function(e){if(e.options.typewriterMode){var t=window.innerHeight;typeof e.options.height=="number"?(t=e.options.height,typeof e.options.minHeight=="number"&&(t=Math.max(t,e.options.minHeight)),t=Math.min(window.innerHeight,t)):t=e.element.clientHeight,e.element.classList.contains("vditor--fullscreen")&&(t=window.innerHeight),e[e.currentMode].element.style.setProperty("--editor-bottom",(t-e.toolbar.element.offsetHeight)/2+"px")}};function ge(){window.removeEventListener("resize",E)}var rt,er,Wo=function(e){Ce(e),ge(),window.addEventListener("resize",E=function(){we(e),Ce(e)});var t=(0,p.pK)()&&localStorage.getItem(e.options.cache.id);return e.options.cache.enable&&t||(e.options.value?t=e.options.value:e.originalInnerHTML?t=e.lute.HTML2Md(e.originalInnerHTML):e.options.cache.enable||(t="")),t||""},Tt=function(e){clearTimeout(e[e.currentMode].hlToolbarTimeoutId),e[e.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(e[e.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,q.Gb)(e[e.currentMode].element)){w(e.toolbar.elements,l.g.EDIT_TOOLBARS),C(e.toolbar.elements,l.g.EDIT_TOOLBARS);var t=(0,q.zh)(e),n=t.startContainer;t.startContainer.nodeType===3&&(n=t.startContainer.parentElement),n.classList.contains("vditor-reset")&&(n=n.childNodes[t.startOffset]),(e.currentMode==="sv"?(0,_.a1)(n,"data-type","heading"):(0,j.W)(n))&&k(e.toolbar.elements,["headings"]),(e.currentMode==="sv"?(0,_.a1)(n,"data-type","blockquote"):(0,_.lG)(n,"BLOCKQUOTE"))&&k(e.toolbar.elements,["quote"]),(0,_.a1)(n,"data-type","strong")&&k(e.toolbar.elements,["bold"]),(0,_.a1)(n,"data-type","em")&&k(e.toolbar.elements,["italic"]),(0,_.a1)(n,"data-type","s")&&k(e.toolbar.elements,["strike"]),(0,_.a1)(n,"data-type","a")&&k(e.toolbar.elements,["link"]);var i=(0,_.lG)(n,"LI");i?(i.classList.contains("vditor-task")?k(e.toolbar.elements,["check"]):i.parentElement.tagName==="OL"?k(e.toolbar.elements,["ordered-list"]):i.parentElement.tagName==="UL"&&k(e.toolbar.elements,["list"]),C(e.toolbar.elements,["outdent","indent"])):N(e.toolbar.elements,["outdent","indent"]),(0,_.a1)(n,"data-type","code-block")&&(N(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),k(e.toolbar.elements,["code"])),(0,_.a1)(n,"data-type","code")&&(N(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),k(e.toolbar.elements,["inline-code"])),(0,_.a1)(n,"data-type","table")&&N(e.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},Le=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),clearTimeout(e.wysiwyg.afterRenderTimeoutId),e.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!e.wysiwyg.composingLock){var n=h(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,p.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},tr=function(e){for(var t="",n=e.nextSibling;n;)n.nodeType===3?t+=n.textContent:t+=n.outerHTML,n=n.nextSibling;return t},nr=function(e){for(var t="",n=e.previousSibling;n;)t=n.nodeType===3?n.textContent+t:n.outerHTML+t,n=n.previousSibling;return t},rr=function(e,t){Array.from(e.wysiwyg.element.childNodes).find(function(n){if(n.nodeType===3){var i=document.createElement("p");i.setAttribute("data-block","0"),i.textContent=n.textContent;var o=t.startContainer.nodeType===3?t.startOffset:n.textContent.length;return n.parentNode.insertBefore(i,n),n.remove(),t.setStart(i.firstChild,Math.min(i.firstChild.textContent.length,o)),t.collapse(!0),(0,q.Hc)(t),!0}if(!n.getAttribute("data-block"))return n.tagName==="P"?n.remove():(n.tagName==="DIV"?(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.innerHTML+"</p>"):n.tagName==="BR"?n.outerHTML='<p data-block="0">'+n.outerHTML+"<wbr></p>":(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.outerHTML+"</p>"),(0,q.ib)(e.wysiwyg.element,t),t=getSelection().getRangeAt(0)),!0})},jt=function(e,t){var n=(0,q.zh)(e),i=(0,_.F9)(n.startContainer);i||(i=n.startContainer.childNodes[n.startOffset]),i||e.wysiwyg.element.children.length!==0||(i=e.wysiwyg.element),i&&!i.classList.contains("vditor-wysiwyg__block")&&(n.insertNode(document.createElement("wbr")),i.innerHTML.trim()==="<wbr>"&&(i.innerHTML="<wbr><br>"),i.tagName==="BLOCKQUOTE"||i.classList.contains("vditor-reset")?i.innerHTML="<"+t+' data-block="0">'+i.innerHTML.trim()+"</"+t+">":i.outerHTML="<"+t+' data-block="0">'+i.innerHTML.trim()+"</"+t+">",(0,q.ib)(e.wysiwyg.element,n),Ee(e))},hn=function(e){var t=getSelection().getRangeAt(0),n=(0,_.F9)(t.startContainer);n||(n=t.startContainer.childNodes[t.startOffset]),n&&(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.innerHTML+"</p>",(0,q.ib)(e.wysiwyg.element,t)),e.wysiwyg.popover.style.display="none"},Mt=function(e,t,n){n===void 0&&(n=!0);var i=e.previousElementSibling,o=i.ownerDocument.createRange();i.tagName==="CODE"?(i.style.display="inline-block",n?o.setStart(i.firstChild,1):o.selectNodeContents(i)):(i.style.display="block",i.firstChild.firstChild||i.firstChild.appendChild(document.createTextNode("")),o.selectNodeContents(i.firstChild)),n?o.collapse(!0):o.collapse(!1),(0,q.Hc)(o),e.firstElementChild.classList.contains("language-mindmap")||qe(t)},Fe=function(e,t){if(J("⇧⌘X",t)){var n=e.wysiwyg.popover.querySelector('[data-type="remove"]');if(n)return n.click(),t.preventDefault(),!0}},at=function(e){clearTimeout(e.wysiwyg.hlToolbarTimeoutId),e.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(e.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,q.Gb)(e.wysiwyg.element)){w(e.toolbar.elements,l.g.EDIT_TOOLBARS),C(e.toolbar.elements,l.g.EDIT_TOOLBARS);var t=getSelection().getRangeAt(0),n=t.startContainer;n=t.startContainer.nodeType===3?t.startContainer.parentElement:n.childNodes[t.startOffset>=n.childNodes.length?n.childNodes.length-1:t.startOffset];var i=(0,_.a1)(n,"data-type","footnotes-block");if(i)return e.wysiwyg.popover.innerHTML="",$e(i,e),void Ve(e,i);var o=(0,_.lG)(n,"LI");o?(o.classList.contains("vditor-task")?k(e.toolbar.elements,["check"]):o.parentElement.tagName==="OL"?k(e.toolbar.elements,["ordered-list"]):o.parentElement.tagName==="UL"&&k(e.toolbar.elements,["list"]),C(e.toolbar.elements,["outdent","indent"])):N(e.toolbar.elements,["outdent","indent"]),(0,_.lG)(n,"BLOCKQUOTE")&&k(e.toolbar.elements,["quote"]),((0,_.lG)(n,"B")||(0,_.lG)(n,"STRONG"))&&k(e.toolbar.elements,["bold"]),((0,_.lG)(n,"I")||(0,_.lG)(n,"EM"))&&k(e.toolbar.elements,["italic"]),((0,_.lG)(n,"STRIKE")||(0,_.lG)(n,"S"))&&k(e.toolbar.elements,["strike"]),e.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(Y){Y.classList.remove("vditor-comment--focus")});var s=(0,_.fb)(n,"vditor-comment");if(s){var d=s.getAttribute("data-cmtids").split(" ");if(d.length>1&&s.nextSibling.isSameNode(s.nextElementSibling)){var x=s.nextElementSibling.getAttribute("data-cmtids").split(" ");d.find(function(Y){if(x.includes(Y))return d=[Y],!0})}e.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(Y){Y.getAttribute("data-cmtids").indexOf(d[0])>-1&&Y.classList.add("vditor-comment--focus")})}var L=(0,_.lG)(n,"A");L&&k(e.toolbar.elements,["link"]);var S=(0,_.lG)(n,"TABLE"),A=(0,j.W)(n);(0,_.lG)(n,"CODE")?(0,_.lG)(n,"PRE")?(N(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),k(e.toolbar.elements,["code"])):(N(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),k(e.toolbar.elements,["inline-code"])):A?(N(e.toolbar.elements,["bold"]),k(e.toolbar.elements,["headings"])):S&&N(e.toolbar.elements,["table"]);var I=(0,_.fb)(n,"vditor-toc");if(I)return e.wysiwyg.popover.innerHTML="",$e(I,e),void Ve(e,I);var G=(0,j.S)(n,"BLOCKQUOTE");if(G&&(e.wysiwyg.popover.innerHTML="",ht(t,G,e),mt(t,G,e),$e(G,e),Ve(e,G)),o&&(e.wysiwyg.popover.innerHTML="",ht(t,o,e),mt(t,o,e),$e(o,e),Ve(e,o)),S){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="";var Z=function(){var Y=S.rows.length,Te=S.rows[0].cells.length,lt=parseInt(ve.value,10)||Y,nt=parseInt(De.value,10)||Te;if(lt!==Y||Te!==nt){if(Te!==nt)for(var Rr=nt-Te,_t=0;_t<S.rows.length;_t++)if(Rr>0)for(var Ir=0;Ir<Rr;Ir++)_t===0?S.rows[_t].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):S.rows[_t].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var Tn=Te-1;Tn>=nt;Tn--)S.rows[_t].cells[Tn].remove();if(Y!==lt){var Pr=lt-Y;if(Pr>0){for(var Mn="<tr>",kt=0;kt<nt;kt++)Mn+="<td> </td>";for(var jr=0;jr<Pr;jr++)S.querySelector("tbody")?S.querySelector("tbody").insertAdjacentHTML("beforeend",Mn):S.querySelector("thead").insertAdjacentHTML("afterend",Mn+"</tr>")}else for(kt=Y-1;kt>=lt;kt--)S.rows[kt].remove(),S.rows.length===1&&S.querySelector("tbody").remove()}}},R=function(Y){Vt(S,Y),Y==="right"?(Q.classList.remove("vditor-icon--current"),X.classList.remove("vditor-icon--current"),P.classList.add("vditor-icon--current")):Y==="center"?(Q.classList.remove("vditor-icon--current"),P.classList.remove("vditor-icon--current"),X.classList.add("vditor-icon--current")):(X.classList.remove("vditor-icon--current"),P.classList.remove("vditor-icon--current"),Q.classList.add("vditor-icon--current")),(0,q.Hc)(t),Le(e)},V=(0,_.lG)(n,"TD"),te=(0,_.lG)(n,"TH"),ee="left";V?ee=V.getAttribute("align")||"left":te&&(ee=te.getAttribute("align")||"center");var Q=document.createElement("button");Q.setAttribute("type","button"),Q.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,p.ns)("⇧⌘L")+">"),Q.setAttribute("data-type","left"),Q.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',Q.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(ee==="left"?" vditor-icon--current":""),Q.onclick=function(){R("left")};var X=document.createElement("button");X.setAttribute("type","button"),X.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,p.ns)("⇧⌘C")+">"),X.setAttribute("data-type","center"),X.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',X.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(ee==="center"?" vditor-icon--current":""),X.onclick=function(){R("center")};var P=document.createElement("button");P.setAttribute("type","button"),P.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,p.ns)("⇧⌘R")+">"),P.setAttribute("data-type","right"),P.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',P.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(ee==="right"?" vditor-icon--current":""),P.onclick=function(){R("right")};var re=document.createElement("button");re.setAttribute("type","button"),re.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,p.ns)("⌘=")+">"),re.setAttribute("data-type","insertRow"),re.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',re.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",re.onclick=function(){var Y=getSelection().getRangeAt(0).startContainer,Te=(0,_.lG)(Y,"TD")||(0,_.lG)(Y,"TH");Te&&yr(e,t,Te)};var pe=document.createElement("button");pe.setAttribute("type","button"),pe.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,p.ns)("⇧⌘F")+">"),pe.setAttribute("data-type","insertRow"),pe.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',pe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",pe.onclick=function(){var Y=getSelection().getRangeAt(0).startContainer,Te=(0,_.lG)(Y,"TD")||(0,_.lG)(Y,"TH");Te&&wr(e,t,Te)};var le=document.createElement("button");le.setAttribute("type","button"),le.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,p.ns)("⇧⌘=")+">"),le.setAttribute("data-type","insertColumn"),le.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',le.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",le.onclick=function(){var Y=getSelection().getRangeAt(0).startContainer,Te=(0,_.lG)(Y,"TD")||(0,_.lG)(Y,"TH");Te&&$t(e,S,Te)};var de=document.createElement("button");de.setAttribute("type","button"),de.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,p.ns)("⇧⌘G")+">"),de.setAttribute("data-type","insertColumn"),de.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',de.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",de.onclick=function(){var Y=getSelection().getRangeAt(0).startContainer,Te=(0,_.lG)(Y,"TD")||(0,_.lG)(Y,"TH");Te&&$t(e,S,Te,"beforebegin")};var ue=document.createElement("button");ue.setAttribute("type","button"),ue.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,p.ns)("⌘-")+">"),ue.setAttribute("data-type","deleteRow"),ue.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',ue.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ue.onclick=function(){var Y=getSelection().getRangeAt(0).startContainer,Te=(0,_.lG)(Y,"TD")||(0,_.lG)(Y,"TH");Te&&_r(e,t,Te)};var ae=document.createElement("button");ae.setAttribute("type","button"),ae.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,p.ns)("⇧⌘-")+">"),ae.setAttribute("data-type","deleteColumn"),ae.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',ae.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ae.onclick=function(){var Y=getSelection().getRangeAt(0).startContainer,Te=(0,_.lG)(Y,"TD")||(0,_.lG)(Y,"TH");Te&&kr(e,t,S,Te)},(Ge=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.row),Ge.className="vditor-tooltipped vditor-tooltipped__n";var ve=document.createElement("input");Ge.appendChild(ve),ve.type="number",ve.min="1",ve.className="vditor-input",ve.style.width="42px",ve.style.textAlign="center",ve.setAttribute("placeholder",window.VditorI18n.row),ve.value=S.rows.length.toString(),ve.oninput=function(){Z()},ve.onkeydown=function(Y){if(!Y.isComposing)return Y.key==="Tab"?(De.focus(),De.select(),void Y.preventDefault()):void Fe(e,Y)};var Se=document.createElement("span");Se.setAttribute("aria-label",window.VditorI18n.column),Se.className="vditor-tooltipped vditor-tooltipped__n";var De=document.createElement("input");Se.appendChild(De),De.type="number",De.min="1",De.className="vditor-input",De.style.width="42px",De.style.textAlign="center",De.setAttribute("placeholder",window.VditorI18n.column),De.value=S.rows[0].cells.length.toString(),De.oninput=function(){Z()},De.onkeydown=function(Y){if(!Y.isComposing)return Y.key==="Tab"?(ve.focus(),ve.select(),void Y.preventDefault()):void Fe(e,Y)},ht(t,S,e),mt(t,S,e),$e(S,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",Q),e.wysiwyg.popover.insertAdjacentElement("beforeend",X),e.wysiwyg.popover.insertAdjacentElement("beforeend",P),e.wysiwyg.popover.insertAdjacentElement("beforeend",pe),e.wysiwyg.popover.insertAdjacentElement("beforeend",re),e.wysiwyg.popover.insertAdjacentElement("beforeend",de),e.wysiwyg.popover.insertAdjacentElement("beforeend",le),e.wysiwyg.popover.insertAdjacentElement("beforeend",ue),e.wysiwyg.popover.insertAdjacentElement("beforeend",ae),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ge),e.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),e.wysiwyg.popover.insertAdjacentElement("beforeend",Se),Ve(e,S)}var tt=(0,_.a1)(n,"data-type","link-ref");tt&&or(e,tt);var Pe=(0,_.a1)(n,"data-type","footnotes-ref");if(Pe){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="",(Ge=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,p.ns)("⌥Enter")+">"),Ge.className="vditor-tooltipped vditor-tooltipped__n";var ze=document.createElement("input");Ge.appendChild(ze),ze.className="vditor-input",ze.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,p.ns)("⌥Enter")+">"),ze.style.width="120px",ze.value=Pe.getAttribute("data-footnotes-label"),ze.oninput=function(){ze.value.trim()!==""&&Pe.setAttribute("data-footnotes-label",ze.value)},ze.onkeydown=function(Y){if(!Y.isComposing)return(0,p.yl)(Y)||Y.shiftKey||!Y.altKey||Y.key!=="Enter"?void Fe(e,Y):(t.selectNodeContents(Pe),t.collapse(!1),(0,q.Hc)(t),void Y.preventDefault())},$e(Pe,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ge),Ve(e,Pe)}var Oe=(0,_.fb)(n,"vditor-wysiwyg__block"),bt=!!Oe&&Oe.getAttribute("data-type").indexOf("block")>-1;if(e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(Y){(!Oe||Oe&&bt&&!Oe.contains(Y))&&(Y.previousElementSibling.style.display="none")}),Oe&&bt){if(e.wysiwyg.popover.innerHTML="",ht(t,Oe,e),mt(t,Oe,e),$e(Oe,e),Oe.getAttribute("data-type")==="code-block"){var Kt=document.createElement("span");Kt.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,p.ns)("⌥Enter")+">"),Kt.className="vditor-tooltipped vditor-tooltipped__n";var Ze=document.createElement("input");Kt.appendChild(Ze);var yt=Oe.firstElementChild.firstElementChild;Ze.className="vditor-input",Ze.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,p.ns)("⌥Enter")+">"),Ze.value=yt.className.indexOf("language-")>-1?yt.className.split("-")[1].split(" ")[0]:"",Ze.oninput=function(Y){Ze.value.trim()!==""?yt.className="language-"+Ze.value:(yt.className="",e.hint.recentLanguage=""),Oe.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(Oe.lastElementChild.innerHTML=Oe.firstElementChild.innerHTML,he(Oe.lastElementChild,e)),Le(e),Y.detail===1&&(t.setStart(yt.firstChild,0),t.collapse(!0),(0,q.Hc)(t))},Ze.onkeydown=function(Y){if(!Y.isComposing&&!Fe(e,Y)){if(Y.key==="Escape"&&e.hint.element.style.display==="block")return e.hint.element.style.display="none",void Y.preventDefault();e.hint.select(Y,e),(0,p.yl)(Y)||Y.shiftKey||Y.key!=="Enter"||(t.setStart(yt.firstChild,0),t.collapse(!0),(0,q.Hc)(t),Y.preventDefault(),Y.stopPropagation())}},Ze.onkeyup=function(Y){if(!Y.isComposing&&Y.key!=="Enter"&&Y.key!=="ArrowUp"&&Y.key!=="Escape"&&Y.key!=="ArrowDown"){var Te=[],lt=Ze.value.substring(0,Ze.selectionStart);l.g.CODE_LANGUAGES.forEach(function(nt){nt.indexOf(lt.toLowerCase())>-1&&Te.push({html:nt,value:nt})}),e.hint.genHTML(Te,lt,e),Y.preventDefault()}},e.wysiwyg.popover.insertAdjacentElement("beforeend",Kt)}Ve(e,Oe)}else Oe=void 0;if(A){var Ge;e.wysiwyg.popover.innerHTML="",(Ge=document.createElement("span")).setAttribute("aria-label","ID<"+(0,p.ns)("⌥Enter")+">"),Ge.className="vditor-tooltipped vditor-tooltipped__n";var ot=document.createElement("input");Ge.appendChild(ot),ot.className="vditor-input",ot.setAttribute("placeholder","ID<"+(0,p.ns)("⌥Enter")+">"),ot.style.width="120px",ot.value=A.getAttribute("data-id")||"",ot.oninput=function(){A.setAttribute("data-id",ot.value)},ot.onkeydown=function(Y){if(!Y.isComposing)return(0,p.yl)(Y)||Y.shiftKey||!Y.altKey||Y.key!=="Enter"?void Fe(e,Y):(t.selectNodeContents(A),t.collapse(!1),(0,q.Hc)(t),void Y.preventDefault())},ht(t,A,e),mt(t,A,e),$e(A,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ge),Ve(e,A)}if(L&&mn(e,L),!(G||o||S||Oe||L||tt||Pe||A||I)){var wt=(0,_.a1)(n,"data-block","0");wt&&wt.parentElement.isEqualNode(e.wysiwyg.element)?(e.wysiwyg.popover.innerHTML="",ht(t,wt,e),mt(t,wt,e),$e(wt,e),Ve(e,wt)):e.wysiwyg.popover.style.display="none"}e.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(Y){Y.style.display="none"});var Or=(0,_.a1)(t.startContainer,"data-type","backslash");Or&&(Or.querySelector("span").style.display="inline")}},200)},Ve=function(e,t){var n=t,i=(0,_.lG)(t,"TABLE");i&&(n=i),e.wysiwyg.popover.style.left="0",e.wysiwyg.popover.style.display="block",e.wysiwyg.popover.style.top=Math.max(-8,n.offsetTop-21-e.wysiwyg.element.scrollTop)+"px",e.wysiwyg.popover.style.left=Math.min(n.offsetLeft,e.wysiwyg.element.clientWidth-e.wysiwyg.popover.clientWidth)+"px",e.wysiwyg.popover.setAttribute("data-top",(n.offsetTop-21).toString())},or=function(e,t){e.wysiwyg.popover.innerHTML="";var n=function(){o.value.trim()!==""&&(t.tagName==="IMG"?t.setAttribute("alt",o.value):t.textContent=o.value),d.value.trim()!==""&&t.setAttribute("data-link-label",d.value)},i=document.createElement("span");i.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),i.className="vditor-tooltipped vditor-tooltipped__n";var o=document.createElement("input");i.appendChild(o),o.className="vditor-input",o.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),o.style.width="120px",o.value=t.getAttribute("alt")||t.textContent,o.oninput=function(){n()},o.onkeydown=function(x){Fe(e,x)||Dt(e,t,x,d)};var s=document.createElement("span");s.setAttribute("aria-label",window.VditorI18n.linkRef),s.className="vditor-tooltipped vditor-tooltipped__n";var d=document.createElement("input");s.appendChild(d),d.className="vditor-input",d.setAttribute("placeholder",window.VditorI18n.linkRef),d.value=t.getAttribute("data-link-label"),d.oninput=function(){n()},d.onkeydown=function(x){Fe(e,x)||Dt(e,t,x,o)},$e(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",i),e.wysiwyg.popover.insertAdjacentElement("beforeend",s),Ve(e,t)},ht=function(e,t,n){var i=t.previousElementSibling;if(i&&(t.parentElement.isEqualNode(n.wysiwyg.element)||t.tagName==="LI")){var o=document.createElement("button");o.setAttribute("type","button"),o.setAttribute("data-type","up"),o.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,p.ns)("⇧⌘U")+">"),o.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',o.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",o.onclick=function(){e.insertNode(document.createElement("wbr")),i.insertAdjacentElement("beforebegin",t),(0,q.ib)(n.wysiwyg.element,e),Le(n),at(n),qe(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",o)}},mt=function(e,t,n){var i=t.nextElementSibling;if(i&&(t.parentElement.isEqualNode(n.wysiwyg.element)||t.tagName==="LI")){var o=document.createElement("button");o.setAttribute("type","button"),o.setAttribute("data-type","down"),o.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,p.ns)("⇧⌘D")+">"),o.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',o.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",o.onclick=function(){e.insertNode(document.createElement("wbr")),i.insertAdjacentElement("afterend",t),(0,q.ib)(n.wysiwyg.element,e),Le(n),at(n),qe(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",o)}},$e=function(e,t){var n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("data-type","remove"),n.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,p.ns)("⇧⌘X")+">"),n.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',n.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",n.onclick=function(){var i=(0,q.zh)(t);i.setStartAfter(e),(0,q.Hc)(i),e.remove(),Le(t),at(t),["H1","H2","H3","H4","H5","H6"].includes(e.tagName)&&Ee(t)},t.wysiwyg.popover.insertAdjacentElement("beforeend",n)},Dt=function(e,t,n,i){if(!n.isComposing){if(n.key==="Tab")return i.focus(),i.select(),void n.preventDefault();if(!(0,p.yl)(n)&&!n.shiftKey&&n.altKey&&n.key==="Enter"){var o=(0,q.zh)(e);t.insertAdjacentHTML("afterend",l.g.ZWSP),o.setStartAfter(t.nextSibling),o.collapse(!0),(0,q.Hc)(o),n.preventDefault()}}},mn=function(e,t){e.wysiwyg.popover.innerHTML="";var n=function(){o.value.trim()!==""&&(t.innerHTML=o.value),t.setAttribute("href",d.value),t.setAttribute("title",L.value),Le(e)};t.querySelectorAll("[data-marker]").forEach(function(S){S.removeAttribute("data-marker")});var i=document.createElement("span");i.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),i.className="vditor-tooltipped vditor-tooltipped__n";var o=document.createElement("input");i.appendChild(o),o.className="vditor-input",o.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),o.style.width="120px",o.value=t.innerHTML||"",o.oninput=function(){n()},o.onkeydown=function(S){Fe(e,S)||Dt(e,t,S,d)};var s=document.createElement("span");s.setAttribute("aria-label",window.VditorI18n.link),s.className="vditor-tooltipped vditor-tooltipped__n";var d=document.createElement("input");s.appendChild(d),d.className="vditor-input",d.setAttribute("placeholder",window.VditorI18n.link),d.value=t.getAttribute("href")||"",d.oninput=function(){n()},d.onkeydown=function(S){Fe(e,S)||Dt(e,t,S,L)};var x=document.createElement("span");x.setAttribute("aria-label",window.VditorI18n.tooltipText),x.className="vditor-tooltipped vditor-tooltipped__n";var L=document.createElement("input");x.appendChild(L),L.className="vditor-input",L.setAttribute("placeholder",window.VditorI18n.tooltipText),L.style.width="60px",L.value=t.getAttribute("title")||"",L.oninput=function(){n()},L.onkeydown=function(S){Fe(e,S)||Dt(e,t,S,o)},$e(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",i),e.wysiwyg.popover.insertAdjacentElement("beforeend",s),e.wysiwyg.popover.insertAdjacentElement("beforeend",x),Ve(e,t)},vt=function(e){e.currentMode==="wysiwyg"?at(e):e.currentMode==="ir"&&Tt(e)},ir=function(e,t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var i=e.wysiwyg.element;i.innerHTML=e.lute.Md2VditorDOM(t),i.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(o){he(o,e),o.previousElementSibling.setAttribute("style","display:none")}),Le(e,n)},Ko=function(e,t,n){for(var i=e.startContainer.parentElement,o=!1,s="",d="",x=function(R){var V=nr(R.startContainer),te=tr(R.startContainer),ee=R.startContainer.textContent,Q=R.startOffset,X="",P="";return(ee.substr(0,Q)!==""&&ee.substr(0,Q)!==l.g.ZWSP||V)&&(X=""+V+ee.substr(0,Q)),(ee.substr(Q)!==""&&ee.substr(Q)!==l.g.ZWSP||te)&&(P=""+ee.substr(Q)+te),{afterHTML:P,beforeHTML:X}}(e),L=x.beforeHTML,S=x.afterHTML;i&&!o;){var A=i.tagName;if(A==="STRIKE"&&(A="S"),A==="I"&&(A="EM"),A==="B"&&(A="STRONG"),A==="S"||A==="STRONG"||A==="EM"){var I="",G="",Z="";i.parentElement.getAttribute("data-block")!=="0"&&(G=nr(i),Z=tr(i)),(L||G)&&(L=I=G+"<"+A+">"+L+"</"+A+">"),(n==="bold"&&A==="STRONG"||n==="italic"&&A==="EM"||n==="strikeThrough"&&A==="S")&&(I+=""+s+l.g.ZWSP+"<wbr>"+d,o=!0),(S||Z)&&(I+=S="<"+A+">"+S+"</"+A+">"+Z),i.parentElement.getAttribute("data-block")!=="0"?(i=i.parentElement).innerHTML=I:(i.outerHTML=I,i=i.parentElement),s="<"+A+">"+s,d="</"+A+">"+d}else o=!0}(0,q.ib)(t.wysiwyg.element,e)},Me=function(e,t){var n,i=this;this.element=document.createElement("div"),t.className&&(n=this.element.classList).add.apply(n,t.className.split(" "));var o=t.hotkey?" <"+(0,p.ns)(t.hotkey)+">":"";t.level===2&&(o=t.hotkey?" &lt;"+(0,p.ns)(t.hotkey)+"&gt;":"");var s=t.tip?t.tip+o:""+window.VditorI18n[t.name]+o,d=t.name==="upload"?"div":"button";if(t.level===2)this.element.innerHTML="<"+d+' data-type="'+t.name+'">'+s+"</"+d+">";else{this.element.classList.add("vditor-toolbar__item");var x=document.createElement(d);x.setAttribute("data-type",t.name),x.className="vditor-tooltipped vditor-tooltipped__"+t.tipPosition,x.setAttribute("aria-label",s),x.innerHTML=t.icon,this.element.appendChild(x)}t.prefix&&this.element.children[0].addEventListener((0,p.Le)(),function(L){L.preventDefault(),i.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)||(e.currentMode==="wysiwyg"?function(S,A,I){if(!(S.wysiwyg.composingLock&&I instanceof CustomEvent)){var G=!0,Z=!0;S.wysiwyg.element.querySelector("wbr")&&S.wysiwyg.element.querySelector("wbr").remove();var R=(0,q.zh)(S),V=A.getAttribute("data-type");if(A.classList.contains("vditor-menu--current"))if(V==="strike"&&(V="strikeThrough"),V==="quote"){var te=(0,_.lG)(R.startContainer,"BLOCKQUOTE");te||(te=R.startContainer.childNodes[R.startOffset]),te&&(G=!1,A.classList.remove("vditor-menu--current"),R.insertNode(document.createElement("wbr")),te.outerHTML=te.innerHTML.trim()===""?'<p data-block="0">'+te.innerHTML+"</p>":te.innerHTML,(0,q.ib)(S.wysiwyg.element,R))}else if(V==="inline-code"){var ee=(0,_.lG)(R.startContainer,"CODE");ee||(ee=R.startContainer.childNodes[R.startOffset]),ee&&(ee.outerHTML=ee.innerHTML.replace(l.g.ZWSP,"")+"<wbr>",(0,q.ib)(S.wysiwyg.element,R))}else V==="link"?(R.collapsed&&R.selectNode(R.startContainer.parentElement),document.execCommand("unlink",!1,"")):V==="check"||V==="list"||V==="ordered-list"?(Ut(S,R,V),(0,q.ib)(S.wysiwyg.element,R),G=!1,A.classList.remove("vditor-menu--current")):(G=!1,A.classList.remove("vditor-menu--current"),R.toString()===""?Ko(R,S,V):document.execCommand(V,!1,""));else{S.wysiwyg.element.childNodes.length===0&&(S.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,q.ib)(S.wysiwyg.element,R));var Q=(0,_.F9)(R.startContainer);if(V==="quote"){if(Q||(Q=R.startContainer.childNodes[R.startOffset]),Q){G=!1,A.classList.add("vditor-menu--current"),R.insertNode(document.createElement("wbr"));var X=(0,_.lG)(R.startContainer,"LI");X&&Q.contains(X)?X.innerHTML='<blockquote data-block="0">'+X.innerHTML+"</blockquote>":Q.outerHTML='<blockquote data-block="0">'+Q.outerHTML+"</blockquote>",(0,q.ib)(S.wysiwyg.element,R)}}else if(V==="check"||V==="list"||V==="ordered-list")Ut(S,R,V,!1),(0,q.ib)(S.wysiwyg.element,R),G=!1,w(S.toolbar.elements,["check","list","ordered-list"]),A.classList.add("vditor-menu--current");else if(V==="inline-code"){if(R.toString()==="")(P=document.createElement("code")).textContent=l.g.ZWSP,R.insertNode(P),R.setStart(P.firstChild,1),R.collapse(!0),(0,q.Hc)(R);else if(R.startContainer.nodeType===3){var P=document.createElement("code");R.surroundContents(P),R.insertNode(P),(0,q.Hc)(R)}A.classList.add("vditor-menu--current")}else if(V==="code")(P=document.createElement("div")).className="vditor-wysiwyg__block",P.setAttribute("data-type","code-block"),P.setAttribute("data-block","0"),P.setAttribute("data-marker","```"),R.toString()===""?P.innerHTML=`<pre><code><wbr>
</code></pre>`:(P.innerHTML="<pre><code>"+R.toString()+"<wbr></code></pre>",R.deleteContents()),R.insertNode(P),Q&&(Q.outerHTML=S.lute.SpinVditorDOM(Q.outerHTML)),(0,q.ib)(S.wysiwyg.element,R),S.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(De){he(De,S)}),A.classList.add("vditor-menu--disabled");else if(V==="link"){if(R.toString()===""){var re=document.createElement("a");re.innerText=l.g.ZWSP,R.insertNode(re),R.setStart(re.firstChild,1),R.collapse(!0),mn(S,re);var pe=S.wysiwyg.popover.querySelector("input");pe.value="",pe.focus(),Z=!1}else{(P=document.createElement("a")).setAttribute("href",""),P.innerHTML=R.toString(),R.surroundContents(P),R.insertNode(P),(0,q.Hc)(R),mn(S,P);var le=S.wysiwyg.popover.querySelectorAll("input");le[0].value=P.innerText,le[1].focus()}G=!1,A.classList.add("vditor-menu--current")}else if(V==="table"){var de='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(R.toString().trim()==="")Q&&Q.innerHTML.trim().replace(l.g.ZWSP,"")===""?Q.outerHTML=de:document.execCommand("insertHTML",!1,de),R.selectNode(S.wysiwyg.element.querySelector("wbr").previousSibling),S.wysiwyg.element.querySelector("wbr").remove(),(0,q.Hc)(R);else{de='<table data-block="0"><thead><tr>';var ue=R.toString().split(`
`),ae=ue[0].split(",").length>ue[0].split("	").length?",":"	";ue.forEach(function(De,tt){tt===0?(De.split(ae).forEach(function(Pe,ze){de+=ze===0?"<th>"+Pe+"<wbr></th>":"<th>"+Pe+"</th>"}),de+="</tr></thead>"):(de+=tt===1?"<tbody><tr>":"<tr>",De.split(ae).forEach(function(Pe){de+="<td>"+Pe+"</td>"}),de+="</tr>")}),de+="</tbody></table>",document.execCommand("insertHTML",!1,de),(0,q.ib)(S.wysiwyg.element,R)}G=!1,A.classList.add("vditor-menu--disabled")}else if(V==="line"){if(Q){var ve=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;Q.innerHTML.trim()===""?Q.outerHTML=ve:Q.insertAdjacentHTML("afterend",ve),(0,q.ib)(S.wysiwyg.element,R)}}else if(G=!1,A.classList.add("vditor-menu--current"),V==="strike"&&(V="strikeThrough"),R.toString()!==""||V!=="bold"&&V!=="italic"&&V!=="strikeThrough")document.execCommand(V,!1,"");else{var Se="strong";V==="italic"?Se="em":V==="strikeThrough"&&(Se="s"),(P=document.createElement(Se)).textContent=l.g.ZWSP,R.insertNode(P),P.previousSibling&&P.previousSibling.textContent===l.g.ZWSP&&(P.previousSibling.textContent=""),R.setStart(P.firstChild,1),R.collapse(!0),(0,q.Hc)(R)}}G&&at(S),Z&&Le(S)}}(e,i.element.children[0],L):e.currentMode==="ir"?ai(e,i.element.children[0],t.prefix||"",t.suffix||""):Xo(e,i.element.children[0],t.prefix||"",t.suffix||""))})},Zo=(rt=function(e,t){return rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},rt(e,t)},function(e,t){function n(){this.constructor=e}rt(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),ct=function(e,t,n){var i;if(typeof n!="string"?(M(e,["subToolbar","hint"]),n.preventDefault(),i=h(e)):i=n,e.currentMode!==t||typeof n=="string"){if(e.devtools&&e.devtools.renderEchart(e),e.options.preview.mode==="both"&&t==="sv"?e.preview.element.style.display="block":e.preview.element.style.display="none",C(e.toolbar.elements,l.g.EDIT_TOOLBARS),w(e.toolbar.elements,l.g.EDIT_TOOLBARS),N(e.toolbar.elements,["outdent","indent"]),t==="ir")T(e.toolbar.elements,["both"]),H(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="block",e.lute.SetVditorIR(!0),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!1),e.currentMode="ir",e.ir.element.innerHTML=e.lute.Md2VditorIRDOM(i),et(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),we(e),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(s){he(s,e)}),e.ir.element.querySelectorAll(".vditor-toc").forEach(function(s){(0,B.H)(s,{cdn:e.options.cdn,math:e.options.preview.math})});else if(t==="wysiwyg")T(e.toolbar.elements,["both"]),H(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="block",e.ir.element.parentElement.style.display="none",e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!0),e.lute.SetVditorSV(!1),e.currentMode="wysiwyg",we(e),ir(e,i,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),e.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(s){(0,B.H)(s,{cdn:e.options.cdn,math:e.options.preview.math})}),e.wysiwyg.popover.style.display="none";else if(t==="sv"){H(e.toolbar.elements,["both"]),T(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="none",(e.options.preview.mode==="both"||e.options.preview.mode==="editor")&&(e.sv.element.style.display="block"),e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!0),e.currentMode="sv";var o=cr(i,e);o==="<div data-block='0'></div>"&&(o=""),e.sv.element.innerHTML=o,Re(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),we(e)}e.undo.resetIcon(e),typeof n!="string"&&(e[e.currentMode].element.focus(),vt(e)),Ee(e),Ce(e),e.toolbar.elements["edit-mode"]&&(e.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(s){s.classList.remove("vditor-menu--current")}),e.toolbar.elements["edit-mode"].querySelector('button[data-mode="'+e.currentMode+'"]').classList.add("vditor-menu--current")),e.outline.toggle(e,e.currentMode!=="sv"&&e.options.outline.enable,typeof n!="string")}},Yo=function(e){function t(n,i){var o=e.call(this,n,i)||this,s=document.createElement("div");return s.className="vditor-hint"+(i.level===2?"":" vditor-panel--arrow"),s.innerHTML='<button data-mode="wysiwyg">'+window.VditorI18n.wysiwyg+" &lt;"+(0,p.ns)("⌥⌘7")+`></button>
<button data-mode="ir">`+window.VditorI18n.instantRendering+" &lt;"+(0,p.ns)("⌥⌘8")+`></button>
<button data-mode="sv">`+window.VditorI18n.splitView+" &lt;"+(0,p.ns)("⌥⌘9")+"></button>",o.element.appendChild(s),o._bindEvent(n,s,i),o}return Zo(t,e),t.prototype._bindEvent=function(n,i,o){var s=this.element.children[0];D(n,i,s,o.level),i.children.item(0).addEventListener((0,p.Le)(),function(d){ct(n,"wysiwyg",d),d.preventDefault(),d.stopPropagation()}),i.children.item(1).addEventListener((0,p.Le)(),function(d){ct(n,"ir",d),d.preventDefault(),d.stopPropagation()}),i.children.item(2).addEventListener((0,p.Le)(),function(d){ct(n,"sv",d),d.preventDefault(),d.stopPropagation()})},t}(Me),Nt=function(e,t){return(0,q.Gb)(e,t)?getSelection().toString():""},vn=function(e,t){t.addEventListener("focus",function(){e.options.focus&&e.options.focus(h(e)),M(e,["subToolbar","hint"])})},sr=function(e,t){t.addEventListener("dblclick",function(n){n.target.tagName==="IMG"&&(e.options.image.preview?e.options.image.preview(n.target):e.options.image.isPreview&&(0,se.E)(n.target,e.options.lang,e.options.theme))})},gn=function(e,t){t.addEventListener("blur",function(n){if(e.currentMode==="ir"){var i=e.ir.element.querySelector(".vditor-ir__node--expand");i&&i.classList.remove("vditor-ir__node--expand")}else e.currentMode!=="wysiwyg"||e.wysiwyg.selectPopover.contains(n.relatedTarget)||e.wysiwyg.hideComment();e[e.currentMode].range=(0,q.zh)(e),e.options.blur&&e.options.blur(h(e))})},bn=function(e,t){t.addEventListener("dragstart",function(n){n.dataTransfer.setData(l.g.DROP_EDITOR,l.g.DROP_EDITOR)}),t.addEventListener("drop",function(n){n.dataTransfer.getData(l.g.DROP_EDITOR)?_e(e):(n.dataTransfer.types.includes("Files")||n.dataTransfer.types.includes("text/html"))&&Gt(e,n,{pasteCode:function(i){document.execCommand("insertHTML",!1,i)}})})},yn=function(e,t,n){t.addEventListener("copy",function(i){return n(i,e)})},wn=function(e,t,n){t.addEventListener("cut",function(i){n(i,e),e.options.comment.enable&&e.currentMode==="wysiwyg"&&e.wysiwyg.getComments(e),document.execCommand("delete")})},qe=function(e){if(e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)),e.options.typewriterMode){var t=e[e.currentMode].element,n=(0,q.Ny)(t).top;e.options.height!=="auto"||e.element.classList.contains("vditor--fullscreen")||window.scrollTo(window.scrollX,n+e.element.offsetTop+e.toolbar.element.offsetHeight-window.innerHeight/2+10),(e.options.height!=="auto"||e.element.classList.contains("vditor--fullscreen"))&&(t.scrollTop=n+t.scrollTop-t.clientHeight/2+10)}},_n=function(e,t){t.addEventListener("keydown",function(n){if(!(e.options.hint.extend.length>1||e.toolbar.elements.emoji)||!e.hint.select(n,e)){if(e.options.comment.enable&&e.currentMode==="wysiwyg"&&(n.key==="Backspace"||J("⌘X",n))&&e.wysiwyg.getComments(e),e.currentMode==="sv"){if(function(o,s){var d,x,L,S,A;if(o.sv.composingLock=s.isComposing,s.isComposing||(s.key.indexOf("Arrow")!==-1||s.key==="Meta"||s.key==="Control"||s.key==="Alt"||s.key==="Shift"||s.key==="CapsLock"||s.key==="Escape"||/^F\d{1,2}$/.test(s.key)||o.undo.recordFirstPosition(o,s),s.key!=="Enter"&&s.key!=="Tab"&&s.key!=="Backspace"&&s.key.indexOf("Arrow")===-1&&!(0,p.yl)(s)&&s.key!=="Escape"))return!1;var I=(0,q.zh)(o),G=I.startContainer;I.startContainer.nodeType!==3&&I.startContainer.tagName==="DIV"&&(G=I.startContainer.childNodes[I.startOffset-1]);var Z=(0,_.a1)(G,"data-type","text"),R=(0,_.a1)(G,"data-type","blockquote-marker");if(!R&&I.startOffset===0&&Z&&Z.previousElementSibling&&Z.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(R=Z.previousElementSibling),R&&s.key==="Enter"&&!(0,p.yl)(s)&&!s.altKey&&R.nextElementSibling.textContent.trim()===""&&(0,q.im)(R,o.sv.element,I).start===R.textContent.length)return((d=R.previousElementSibling)===null||d===void 0?void 0:d.getAttribute("data-type"))==="padding"&&R.previousElementSibling.setAttribute("data-action","enter-remove"),R.remove(),Re(o),s.preventDefault(),!0;var V=(0,_.a1)(G,"data-type","li-marker"),te=(0,_.a1)(G,"data-type","task-marker"),ee=V;if(ee||te&&te.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(ee=te),ee||I.startOffset!==0||!Z||!Z.previousElementSibling||Z.previousElementSibling.getAttribute("data-type")!=="li-marker"&&Z.previousElementSibling.getAttribute("data-type")!=="task-marker"||(ee=Z.previousElementSibling),ee){var Q=(0,q.im)(ee,o.sv.element,I).start,X=ee.getAttribute("data-type")==="task-marker",P=ee;if(X&&(P=ee.previousElementSibling.previousElementSibling.previousElementSibling),Q===ee.textContent.length){if(s.key==="Enter"&&!(0,p.yl)(s)&&!s.altKey&&!s.shiftKey&&ee.nextElementSibling.textContent.trim()==="")return((x=P.previousElementSibling)===null||x===void 0?void 0:x.getAttribute("data-type"))==="padding"?(P.previousElementSibling.remove(),ye(o)):(X&&(P.remove(),ee.previousElementSibling.previousElementSibling.remove(),ee.previousElementSibling.remove()),ee.nextElementSibling.remove(),ee.remove(),Re(o)),s.preventDefault(),!0;if(s.key==="Tab")return P.insertAdjacentHTML("beforebegin",'<span data-type="padding">'+P.textContent.replace(/\S/g," ")+"</span>"),/^\d/.test(P.textContent)&&(P.textContent=P.textContent.replace(/^\d{1,}/,"1"),I.selectNodeContents(ee.firstChild),I.collapse(!1)),ye(o),s.preventDefault(),!0}}if(An(o,I,s))return!0;var re=(0,_.a1)(G,"data-block","0"),pe=(0,j.S)(G,"SPAN");if(s.key==="Enter"&&!(0,p.yl)(s)&&!s.altKey&&!s.shiftKey&&re){var le=!1,de=re.textContent.match(/^\n+/);(0,q.im)(re,o.sv.element).start<=(de?de[0].length:0)&&(le=!0);var ue=`
`;if(pe){if(((L=pe.previousElementSibling)===null||L===void 0?void 0:L.getAttribute("data-action"))==="enter-remove")return pe.previousElementSibling.remove(),Re(o),s.preventDefault(),!0;ue+=Jo(pe)}return I.insertNode(document.createTextNode(ue)),I.collapse(!1),re&&re.textContent.trim()!==""&&!le?ye(o):Re(o),s.preventDefault(),!0}if(s.key==="Backspace"&&!(0,p.yl)(s)&&!s.altKey&&!s.shiftKey){if(pe&&((S=pe.previousElementSibling)===null||S===void 0?void 0:S.getAttribute("data-type"))==="newline"&&(0,q.im)(pe,o.sv.element,I).start===1&&pe.getAttribute("data-type").indexOf("code-block-")===-1)return I.setStart(pe,0),I.extractContents(),pe.textContent.trim()!==""?ye(o):Re(o),s.preventDefault(),!0;if(re&&(0,q.im)(re,o.sv.element,I).start===0&&re.previousElementSibling){I.extractContents();var ae=re.previousElementSibling.lastElementChild;return ae.getAttribute("data-type")==="newline"&&(ae.remove(),ae=re.previousElementSibling.lastElementChild),ae.getAttribute("data-type")!=="newline"&&(ae.insertAdjacentHTML("afterend",re.innerHTML),re.remove()),re.textContent.trim()===""||!((A=re.previousElementSibling)===null||A===void 0)&&A.querySelector('[data-type="code-block-open-marker"]')?(ae.getAttribute("data-type")!=="newline"&&(I.selectNodeContents(ae.lastChild),I.collapse(!1)),Re(o)):ye(o),s.preventDefault(),!0}}return!1}(e,n))return}else if(e.currentMode==="wysiwyg"){if(function(o,s){if(o.wysiwyg.composingLock=s.isComposing,s.isComposing)return!1;s.key.indexOf("Arrow")!==-1||s.key==="Meta"||s.key==="Control"||s.key==="Alt"||s.key==="Shift"||s.key==="CapsLock"||s.key==="Escape"||/^F\d{1,2}$/.test(s.key)||o.undo.recordFirstPosition(o,s);var d=(0,q.zh)(o),x=d.startContainer;if(!pr(s,o,x)||(fr(d,o,s),Lr(d),s.key!=="Enter"&&s.key!=="Tab"&&s.key!=="Backspace"&&s.key.indexOf("Arrow")===-1&&!(0,p.yl)(s)&&s.key!=="Escape"&&s.key!=="Delete"))return!1;var L=(0,_.F9)(x),S=(0,_.lG)(x,"P");if(br(s,o,S,d)||gr(d,o,S,s)||Er(o,s,d))return!0;var A=(0,_.fb)(x,"vditor-wysiwyg__block");if(A){if(s.key==="Escape"&&A.children.length===2)return o.wysiwyg.popover.style.display="none",A.firstElementChild.style.display="none",o.wysiwyg.element.blur(),s.preventDefault(),!0;if(!(0,p.yl)(s)&&!s.shiftKey&&s.altKey&&s.key==="Enter"&&A.getAttribute("data-type")==="code-block"){var I=o.wysiwyg.popover.querySelector(".vditor-input");return I.focus(),I.select(),s.preventDefault(),!0}if(A.getAttribute("data-block")==="0"&&(xr(o,s,A.firstElementChild,d)||Ht(o,s,d,A.firstElementChild,A)||A.getAttribute("data-type")!=="yaml-front-matter"&&gt(o,s,d,A.firstElementChild,A)))return!0}if(Cr(o,d,s,S))return!0;var G=(0,_.E2)(x,"BLOCKQUOTE");if(G&&!s.shiftKey&&s.altKey&&s.key==="Enter"){(0,p.yl)(s)?d.setStartBefore(G):d.setStartAfter(G),(0,q.Hc)(d);var Z=document.createElement("p");return Z.setAttribute("data-block","0"),Z.innerHTML=`
`,d.insertNode(Z),d.collapse(!0),(0,q.Hc)(d),Le(o),qe(o),s.preventDefault(),!0}var R,V=(0,j.W)(x);if(V){if(V.tagName==="H6"&&x.textContent.length===d.startOffset&&!(0,p.yl)(s)&&!s.shiftKey&&!s.altKey&&s.key==="Enter"){var te=document.createElement("p");return te.textContent=`
`,te.setAttribute("data-block","0"),x.parentElement.insertAdjacentElement("afterend",te),d.setStart(te,0),(0,q.Hc)(d),Le(o),qe(o),s.preventDefault(),!0}var ee;if(J("⌘=",s))return(ee=parseInt(V.tagName.substr(1),10)-1)>0&&(jt(o,"h"+ee),Le(o)),s.preventDefault(),!0;if(J("⌘-",s))return(ee=parseInt(V.tagName.substr(1),10)+1)<7&&(jt(o,"h"+ee),Le(o)),s.preventDefault(),!0;s.key!=="Backspace"||(0,p.yl)(s)||s.shiftKey||s.altKey||V.textContent.length!==1||hn(o)}if(Sr(o,d,s))return!0;if(s.altKey&&s.key==="Enter"&&!(0,p.yl)(s)&&!s.shiftKey){var Q=(0,_.lG)(x,"A"),X=(0,_.a1)(x,"data-type","link-ref"),P=(0,_.a1)(x,"data-type","footnotes-ref");if(Q||X||P||V&&V.tagName.length===2){var re=o.wysiwyg.popover.querySelector("input");re.focus(),re.select()}}if(Fe(o,s))return!0;if(J("⇧⌘U",s)&&(R=o.wysiwyg.popover.querySelector('[data-type="up"]'))||J("⇧⌘D",s)&&(R=o.wysiwyg.popover.querySelector('[data-type="down"]')))return R.click(),s.preventDefault(),!0;if(An(o,d,s))return!0;if(!(0,p.yl)(s)&&s.shiftKey&&!s.altKey&&s.key==="Enter"&&x.parentElement.tagName!=="LI"&&x.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(x.parentElement.tagName)?d.insertNode(document.createTextNode(`
`+l.g.ZWSP)):d.insertNode(document.createTextNode(`
`)),d.collapse(!1),(0,q.Hc)(d),Le(o),qe(o),s.preventDefault(),!0;if(s.key==="Backspace"&&!(0,p.yl)(s)&&!s.shiftKey&&!s.altKey&&d.toString()===""){if(Ar(o,d,s,S))return!0;if(L){if(L.previousElementSibling&&L.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&L.previousElementSibling.getAttribute("data-block")==="0"&&L.tagName!=="UL"&&L.tagName!=="OL"){var pe=(0,q.im)(L,o.wysiwyg.element,d).start;if(pe===0&&d.startOffset===0||pe===1&&L.innerText.startsWith(l.g.ZWSP))return Mt(L.previousElementSibling.lastElementChild,o,!1),L.innerHTML.trim().replace(l.g.ZWSP,"")===""&&(L.remove(),Le(o)),s.preventDefault(),!0}var le=d.startOffset;if(d.toString()===""&&x.nodeType===3&&x.textContent.charAt(le-2)===`
`&&x.textContent.charAt(le-1)!==l.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(x.parentElement.tagName))return x.textContent=x.textContent.substring(0,le-1)+l.g.ZWSP,d.setStart(x,le),d.collapse(!0),Le(o),s.preventDefault(),!0;x.textContent===l.g.ZWSP&&d.startOffset===1&&!x.previousSibling&&function(ue){for(var ae=ue.startContainer.nextSibling;ae&&ae.textContent==="";)ae=ae.nextSibling;return!(!ae||ae.nodeType===3||ae.tagName!=="CODE"&&ae.getAttribute("data-type")!=="math-inline"&&ae.getAttribute("data-type")!=="html-entity"&&ae.getAttribute("data-type")!=="html-inline")}(d)&&(x.textContent=""),L.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(ue){ue.firstElementChild.style.display="inline",ue.lastElementChild.style.display="none"}),L.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(ue){ue.firstElementChild.style.display="inline",ue.lastElementChild.style.display="none"})}}if((0,p.vU)()&&d.startOffset===1&&x.textContent.indexOf(l.g.ZWSP)>-1&&x.previousSibling&&x.previousSibling.nodeType!==3&&x.previousSibling.tagName==="CODE"&&(s.key==="Backspace"||s.key==="ArrowLeft"))return d.selectNodeContents(x.previousSibling),d.collapse(!1),s.preventDefault(),!0;if(Tr(s,L,d))return s.preventDefault(),!0;if(hr(d,s.key),s.key==="ArrowDown"){var de=x.nextSibling;de&&de.nodeType!==3&&de.getAttribute("data-type")==="math-inline"&&d.setStartAfter(de)}return!(!L||!oe(L,o,s,d)||(s.preventDefault(),0))}(e,n))return}else if(e.currentMode==="ir"&&function(o,s){if(o.ir.composingLock=s.isComposing,s.isComposing)return!1;s.key.indexOf("Arrow")!==-1||s.key==="Meta"||s.key==="Control"||s.key==="Alt"||s.key==="Shift"||s.key==="CapsLock"||s.key==="Escape"||/^F\d{1,2}$/.test(s.key)||o.undo.recordFirstPosition(o,s);var d=(0,q.zh)(o),x=d.startContainer;if(!pr(s,o,x)||(fr(d,o,s),Lr(d),s.key!=="Enter"&&s.key!=="Tab"&&s.key!=="Backspace"&&s.key.indexOf("Arrow")===-1&&!(0,p.yl)(s)&&s.key!=="Escape"&&s.key!=="Delete"))return!1;var L=(0,_.a1)(x,"data-newline","1");if(!(0,p.yl)(s)&&!s.altKey&&!s.shiftKey&&s.key==="Enter"&&L&&d.startOffset<L.textContent.length){var S=L.previousElementSibling;S&&(d.insertNode(document.createTextNode(S.textContent)),d.collapse(!1));var A=L.nextSibling;A&&(d.insertNode(document.createTextNode(A.textContent)),d.collapse(!0))}var I=(0,_.lG)(x,"P");if(br(s,o,I,d)||gr(d,o,I,s)||Cr(o,d,s,I))return!0;var G=(0,_.fb)(x,"vditor-ir__marker--pre");if(G&&G.tagName==="PRE"){var Z=G.firstChild;if(xr(o,s,G,d)||(Z.getAttribute("data-type")==="math-block"||Z.getAttribute("data-type")==="html-block")&&gt(o,s,d,Z,G.parentElement)||Ht(o,s,d,Z,G.parentElement))return!0}var R=(0,_.a1)(x,"data-type","code-block-info");if(R){if(s.key==="Enter"||s.key==="Tab")return d.selectNodeContents(R.nextElementSibling.firstChild),d.collapse(!0),s.preventDefault(),M(o,["hint"]),!0;if(s.key==="Backspace"){var V=(0,q.im)(R,o.ir.element).start;V===1&&d.setStart(x,0),V===2&&(o.hint.recentLanguage="")}if(gt(o,s,d,R,R.parentElement))return M(o,["hint"]),!0}var te=(0,_.lG)(x,"TD")||(0,_.lG)(x,"TH");if(s.key.indexOf("Arrow")>-1&&te){var ee=ii(te);if(ee&&gt(o,s,d,te,ee))return!0;var Q=si(te);if(Q&&Ht(o,s,d,te,Q))return!0}if(Er(o,s,d)||Sr(o,d,s)||An(o,d,s))return!0;var X=(0,j.W)(x);if(X){var P;if(J("⌘=",s))return(P=X.querySelector(".vditor-ir__marker--heading"))&&P.textContent.trim().length>1&&qt(o,P.textContent.substr(1)),s.preventDefault(),!0;if(J("⌘-",s))return(P=X.querySelector(".vditor-ir__marker--heading"))&&P.textContent.trim().length<6&&qt(o,P.textContent.trim()+"# "),s.preventDefault(),!0}var re=(0,_.F9)(x);if(s.key==="Backspace"&&!(0,p.yl)(s)&&!s.shiftKey&&!s.altKey&&d.toString()===""){if(Ar(o,d,s,I))return!0;if(re&&re.previousElementSibling&&re.tagName!=="UL"&&re.tagName!=="OL"&&(re.previousElementSibling.getAttribute("data-type")==="code-block"||re.previousElementSibling.getAttribute("data-type")==="math-block")){var pe=(0,q.im)(re,o.ir.element,d).start;if(pe===0||pe===1&&re.innerText.startsWith(l.g.ZWSP))return d.selectNodeContents(re.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),d.collapse(!1),W(d,o),re.textContent.trim().replace(l.g.ZWSP,"")===""&&(re.remove(),et(o)),s.preventDefault(),!0}if(X){var le=X.firstElementChild.textContent.length;(0,q.im)(X,o.ir.element).start===le&&(d.setStart(X.firstElementChild.firstChild,le-1),d.collapse(!0),(0,q.Hc)(d))}}return!((s.key!=="ArrowUp"&&s.key!=="ArrowDown"||!re||(re.querySelectorAll(".vditor-ir__node").forEach(function(de){de.contains(x)||de.classList.add("vditor-ir__node--hidden")}),!Tr(s,re,d)))&&(hr(d,s.key),!re||!oe(re,o,s,d)||(s.preventDefault(),0)))}(e,n))return;if(e.options.ctrlEnter&&J("⌘Enter",n))return e.options.ctrlEnter(h(e)),void n.preventDefault();if(J("⌘Z",n)&&!e.toolbar.elements.undo)return e.undo.undo(e),void n.preventDefault();if(J("⌘Y",n)&&!e.toolbar.elements.redo)return e.undo.redo(e),void n.preventDefault();if(n.key==="Escape")return e.hint.element.style.display==="block"?e.hint.element.style.display="none":e.options.esc&&!n.isComposing&&e.options.esc(h(e)),void n.preventDefault();if((0,p.yl)(n)&&n.altKey&&!n.shiftKey&&/^Digit[1-6]$/.test(n.code)){if(e.currentMode==="wysiwyg"){var i=n.code.replace("Digit","H");(0,_.lG)(getSelection().getRangeAt(0).startContainer,i)?hn(e):jt(e,i),Le(e)}else e.currentMode==="sv"?lr(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" "):e.currentMode==="ir"&&qt(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" ");return n.preventDefault(),!0}if((0,p.yl)(n)&&n.altKey&&!n.shiftKey&&/^Digit[7-9]$/.test(n.code))return n.code==="Digit7"?ct(e,"wysiwyg",n):n.code==="Digit8"?ct(e,"ir",n):n.code==="Digit9"&&ct(e,"sv",n),!0;e.options.toolbar.find(function(o){return!o.hotkey||o.toolbar?!!o.toolbar&&!!o.toolbar.find(function(s){return!!s.hotkey&&(J(s.hotkey,n)?(e.toolbar.elements[s.name].children[0].dispatchEvent(new CustomEvent((0,p.Le)())),n.preventDefault(),!0):void 0)}):J(o.hotkey,n)?(e.toolbar.elements[o.name].children[0].dispatchEvent(new CustomEvent((0,p.Le)())),n.preventDefault(),!0):void 0})}})},kn=function(e,t){t.addEventListener("selectstart",function(n){t.onmouseup=function(){setTimeout(function(){var i=Nt(e[e.currentMode].element);i.trim()?(e.currentMode==="wysiwyg"&&e.options.comment.enable&&((0,_.a1)(n.target,"data-type","footnotes-block")||(0,_.a1)(n.target,"data-type","link-ref-defs-block")?e.wysiwyg.hideComment():e.wysiwyg.showComment()),e.options.select&&e.options.select(i)):e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.wysiwyg.hideComment()})}})},ar=function(e,t){var n=(0,q.zh)(e);n.extractContents(),n.insertNode(document.createTextNode(Lute.Caret)),n.insertNode(document.createTextNode(t));var i=(0,_.a1)(n.startContainer,"data-block","0");i||(i=e.sv.element);var o=e.lute.SpinVditorSVDOM(i.textContent);o=o.indexOf('data-type="footnotes-link"')>-1||o.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+o+"</div>":"<div data-block='0'>"+o.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",i.isEqualNode(e.sv.element)?i.innerHTML=o:i.outerHTML=o,(0,q.ib)(e.sv.element,n),qe(e)},Bt=function(e,t,n){n===void 0&&(n=!0);var i=e;for(i.nodeType===3&&(i=i.parentElement);i;){if(i.getAttribute("data-type")===t)return i;i=n?i.previousElementSibling:i.nextElementSibling}return!1},cr=function(e,t){z("SpinVditorSVDOM",e,"argument",t.options.debugger);var n=t.lute.SpinVditorSVDOM(e);return e=n.indexOf('data-type="footnotes-link"')>-1||n.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+n+"</div>":"<div data-block='0'>"+n.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",z("SpinVditorSVDOM",e,"result",t.options.debugger),e},Jo=function(e){var t=e.getAttribute("data-type"),n=e.previousElementSibling,i=t&&t!=="text"&&t!=="table"&&t!=="heading-marker"&&t!=="newline"&&t!=="yaml-front-matter-open-marker"&&t!=="yaml-front-matter-close-marker"&&t!=="code-block-info"&&t!=="code-block-close-marker"&&t!=="code-block-open-marker"?e.textContent:"",o=!1;for(t==="newline"&&(o=!0);n&&!o;){var s=n.getAttribute("data-type");if(s==="li-marker"||s==="blockquote-marker"||s==="task-marker"||s==="padding"){var d=n.textContent;if(s!=="li-marker"||t!=="code-block-open-marker"&&t!=="code-block-info")if(t==="code-block-close-marker"&&n.nextElementSibling.isSameNode(e)){var x=Bt(e,"code-block-open-marker");x&&x.previousElementSibling&&(n=x.previousElementSibling,i=d+i)}else i=d+i;else i=d.replace(/\S/g," ")+i}else s==="newline"&&(o=!0);n=n.previousElementSibling}return i},Re=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),e.preview.render(e);var n=h(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,p.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),clearTimeout(e.sv.processTimeoutId),e.sv.processTimeoutId=window.setTimeout(function(){t.enableAddUndoStack&&!e.sv.composingLock&&e.undo.addToUndoStack(e)},e.options.undoDelay)},lr=function(e,t){var n=(0,q.zh)(e),i=(0,j.S)(n.startContainer,"SPAN");i&&i.textContent.trim()!==""&&(t=`
`+t),n.collapse(!0),document.execCommand("insertHTML",!1,t)},Xo=function(e,t,n,i){var o=(0,q.zh)(e),s=t.getAttribute("data-type");e.sv.element.childNodes.length===0&&(e.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,q.ib)(e.sv.element,o));var d=(0,_.F9)(o.startContainer),x=(0,j.S)(o.startContainer,"SPAN");if(d){if(s==="link"){var L=void 0;return L=o.toString()===""?""+n+Lute.Caret+i:""+n+o.toString()+i.replace(")",Lute.Caret+")"),void document.execCommand("insertHTML",!1,L)}if(s==="italic"||s==="bold"||s==="strike"||s==="inline-code"||s==="code"||s==="table"||s==="line")return L=void 0,L=o.toString()===""?""+n+Lute.Caret+(s==="code"?"":i):""+n+o.toString()+Lute.Caret+(s==="code"?"":i),s==="table"||s==="code"&&x&&x.textContent!==""?L=`

`+L:s==="line"&&(L=`

`+n+`
`+Lute.Caret),void document.execCommand("insertHTML",!1,L);if((s==="check"||s==="list"||s==="ordered-list"||s==="quote")&&x){var S="* ";s==="check"?S="* [ ] ":s==="ordered-list"?S="1. ":s==="quote"&&(S="> ");var A=Bt(x,"newline");return A?A.insertAdjacentText("afterend",S):d.insertAdjacentText("afterbegin",S),void ye(e)}(0,q.ib)(e.sv.element,o),Re(e)}},ur=function(e){switch(e.currentMode){case"ir":return e.ir.element;case"wysiwyg":return e.wysiwyg.element;case"sv":return e.sv.element}},dr=function(e,t){e.options.upload.setHeaders&&(e.options.upload.headers=e.options.upload.setHeaders()),e.options.upload.headers&&Object.keys(e.options.upload.headers).forEach(function(n){t.setRequestHeader(n,e.options.upload.headers[n])})},Qo=function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function d(S){try{L(i.next(S))}catch(A){s(A)}}function x(S){try{L(i.throw(S))}catch(A){s(A)}}function L(S){var A;S.done?o(S.value):(A=S.value,A instanceof n?A:new n(function(I){I(A)})).then(d,x)}L((i=i.apply(e,t||[])).next())})},ei=function(e,t){var n,i,o,s,d={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function x(L){return function(S){return function(A){if(n)throw new TypeError("Generator is already executing.");for(;d;)try{if(n=1,i&&(o=2&A[0]?i.return:A[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,A[1])).done)return o;switch(i=0,o&&(A=[2&A[0],o.value]),A[0]){case 0:case 1:o=A;break;case 4:return d.label++,{value:A[1],done:!1};case 5:d.label++,i=A[1],A=[0];continue;case 7:A=d.ops.pop(),d.trys.pop();continue;default:if(o=d.trys,!((o=o.length>0&&o[o.length-1])||A[0]!==6&&A[0]!==2)){d=0;continue}if(A[0]===3&&(!o||A[1]>o[0]&&A[1]<o[3])){d.label=A[1];break}if(A[0]===6&&d.label<o[1]){d.label=o[1],o=A;break}if(o&&d.label<o[2]){d.label=o[2],d.ops.push(A);break}o[2]&&d.ops.pop(),d.trys.pop();continue}A=t.call(e,d)}catch(I){A=[6,I],i=0}finally{n=o=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([L,S])}}},ti=function(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"},En=function(e,t,n){return Qo(void 0,void 0,void 0,function(){var i,o,s,d,x,L,S,A,I,G,Z,R,V,te;return ei(this,function(ee){switch(ee.label){case 0:for(i=[],o=e.options.upload.multiple===!0?t.length:1,R=0;R<o;R++)(s=t[R])instanceof DataTransferItem&&(s=s.getAsFile()),i.push(s);return e.options.upload.handler?[4,e.options.upload.handler(i)]:[3,2];case 1:return d=ee.sent(),n&&(n.value=""),typeof d=="string"?(e.tip.show(d),[2]):[2];case 2:return e.options.upload.url&&e.upload?e.options.upload.file?[4,e.options.upload.file(i)]:[3,4]:(n&&(n.value=""),e.tip.show("please config: options.upload.url"),[2]);case 3:i=ee.sent(),ee.label=4;case 4:if(e.options.upload.validate&&typeof(d=e.options.upload.validate(i))=="string")return e.tip.show(d),[2];if(x=ur(e),e.upload.range=(0,q.zh)(e),L=function(Q,X){Q.tip.hide();for(var P=[],re="",pe="",le=(Q.options.lang,Q.options,function(ae,ve){var Se=X[ve],De=!0;Se.name||(re+="<li>"+window.VditorI18n.nameEmpty+"</li>",De=!1),Se.size>Q.options.upload.max&&(re+="<li>"+Se.name+" "+window.VditorI18n.over+" "+Q.options.upload.max/1024/1024+"M</li>",De=!1);var tt=Se.name.lastIndexOf("."),Pe=Se.name.substr(tt),ze=Q.options.upload.filename(Se.name.substr(0,tt))+Pe;Q.options.upload.accept&&(Q.options.upload.accept.split(",").some(function(Oe){var bt=Oe.trim();if(bt.indexOf(".")===0){if(Pe.toLowerCase()===bt.toLowerCase())return!0}else if(Se.type.split("/")[0]===bt.split("/")[0])return!0;return!1})||(re+="<li>"+Se.name+" "+window.VditorI18n.fileTypeError+"</li>",De=!1)),De&&(P.push(Se),pe+="<li>"+ze+" "+window.VditorI18n.uploading+"</li>")}),de=X.length,ue=0;ue<de;ue++)le(0,ue);return Q.tip.show("<ul>"+re+pe+"</ul>"),P}(e,i),L.length===0)return n&&(n.value=""),[2];for(S=new FormData,A=e.options.upload.extraData,I=0,G=Object.keys(A);I<G.length;I++)Z=G[I],S.append(Z,A[Z]);for(R=0,V=L.length;R<V;R++)S.append(e.options.upload.fieldName,L[R]);return(te=new XMLHttpRequest).open("POST",e.options.upload.url),e.options.upload.token&&te.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(te.withCredentials=!0),dr(e,te),e.upload.isUploading=!0,x.setAttribute("contenteditable","false"),te.onreadystatechange=function(){if(te.readyState===XMLHttpRequest.DONE){if(e.upload.isUploading=!1,x.setAttribute("contenteditable","true"),te.status>=200&&te.status<300)if(e.options.upload.success)e.options.upload.success(x,te.responseText);else{var Q=te.responseText;e.options.upload.format&&(Q=e.options.upload.format(t,te.responseText)),function(X,P){ur(P).focus();var re=JSON.parse(X),pe="";re.code===1&&(pe=""+re.msg),re.data.errFiles&&re.data.errFiles.length>0&&(pe="<ul><li>"+pe+"</li>",re.data.errFiles.forEach(function(de){var ue=de.lastIndexOf("."),ae=P.options.upload.filename(de.substr(0,ue))+de.substr(ue);pe+="<li>"+ae+" "+window.VditorI18n.uploadError+"</li>"}),pe+="</ul>"),pe?P.tip.show(pe):P.tip.hide();var le="";Object.keys(re.data.succMap).forEach(function(de){var ue=re.data.succMap[de],ae=de.lastIndexOf("."),ve=de.substr(ae),Se=P.options.upload.filename(de.substr(0,ae))+ve;(ve=ve.toLowerCase()).indexOf(".wav")===0||ve.indexOf(".mp3")===0||ve.indexOf(".ogg")===0?P.currentMode==="wysiwyg"?le+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`+ue+'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="'+ue+`"></audio></pre></div>
`:P.currentMode==="ir"?le+='<audio controls="controls" src="'+ue+`"></audio>
`:le+="["+Se+"]("+ue+`)
`:ve.indexOf(".apng")===0||ve.indexOf(".bmp")===0||ve.indexOf(".gif")===0||ve.indexOf(".ico")===0||ve.indexOf(".cur")===0||ve.indexOf(".jpg")===0||ve.indexOf(".jpeg")===0||ve.indexOf(".jfif")===0||ve.indexOf(".pjp")===0||ve.indexOf(".pjpeg")===0||ve.indexOf(".png")===0||ve.indexOf(".svg")===0||ve.indexOf(".webp")===0?P.currentMode==="wysiwyg"?le+='<img alt="'+Se+'" src="'+ue+`">
`:le+="!["+Se+"]("+ue+`)
`:P.currentMode==="wysiwyg"?le+='<a href="'+ue+'">'+Se+`</a>
`:le+="["+Se+"]("+ue+`)
`}),(0,q.Hc)(P.upload.range),document.execCommand("insertHTML",!1,le),P.upload.range=getSelection().getRangeAt(0).cloneRange()}(Q,e)}else e.options.upload.error?e.options.upload.error(te.responseText):e.tip.show(te.responseText);n&&(n.value=""),e.upload.element.style.display="none"}},te.upload.onprogress=function(Q){if(Q.lengthComputable){var X=Q.loaded/Q.total*100;e.upload.element.style.display="block",e.upload.element.style.width=X+"%"}},te.send(S),[2]}})})},Ft=function(e,t,n){var i,o=(0,_.F9)(t.startContainer);if(o||(o=e.wysiwyg.element),n&&n.inputType!=="formatItalic"&&n.inputType!=="deleteByDrag"&&n.inputType!=="insertFromDrop"&&n.inputType!=="formatBold"&&n.inputType!=="formatRemove"&&n.inputType!=="formatStrikeThrough"&&n.inputType!=="insertUnorderedList"&&n.inputType!=="insertOrderedList"&&n.inputType!=="formatOutdent"&&n.inputType!=="formatIndent"&&n.inputType!==""||!n){var s=function(X){for(var P=X.previousSibling;P;){if(P.nodeType!==3&&P.tagName==="A"&&!P.previousSibling&&P.innerHTML.replace(l.g.ZWSP,"")===""&&P.nextSibling)return P;P=P.previousSibling}return!1}(t.startContainer);s&&s.remove(),e.wysiwyg.element.querySelectorAll("wbr").forEach(function(X){X.remove()}),t.insertNode(document.createElement("wbr")),o.querySelectorAll("[style]").forEach(function(X){X.removeAttribute("style")}),o.querySelectorAll(".vditor-comment").forEach(function(X){X.textContent.trim()===""&&(X.classList.remove("vditor-comment","vditor-comment--focus"),X.removeAttribute("data-cmtids"))}),(i=o.previousElementSibling)===null||i===void 0||i.querySelectorAll(".vditor-comment").forEach(function(X){X.textContent.trim()===""&&(X.classList.remove("vditor-comment","vditor-comment--focus"),X.removeAttribute("data-cmtids"))});var d="";o.getAttribute("data-type")==="link-ref-defs-block"&&(o=e.wysiwyg.element);var x,L=o.isEqualNode(e.wysiwyg.element),S=(0,_.a1)(o,"data-type","footnotes-block");if(L)d=o.innerHTML;else{var A=(0,_.O9)(t.startContainer);if(A&&!S){var I=(0,j.S)(t.startContainer,"BLOCKQUOTE");o=I?(0,_.F9)(t.startContainer)||o:A}if(S&&(o=S),d=o.outerHTML,o.tagName==="UL"||o.tagName==="OL"){var G=o.previousElementSibling,Z=o.nextElementSibling;!G||G.tagName!=="UL"&&G.tagName!=="OL"||(d=G.outerHTML+d,G.remove()),!Z||Z.tagName!=="UL"&&Z.tagName!=="OL"||(d+=Z.outerHTML,Z.remove()),d=d.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}o.innerText.startsWith("```")||(e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(X){X&&!o.isEqualNode(X)&&(d+=X.outerHTML,X.remove())}),e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(X){X&&!o.isEqualNode(X)&&(d+=X.outerHTML,X.remove())}))}if((d=d.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""))==='<p data-block="0">```<wbr></p>'&&e.hint.recentLanguage&&(d='<p data-block="0">```<wbr></p>'.replace("```","```"+e.hint.recentLanguage)),z("SpinVditorDOM",d,"argument",e.options.debugger),d=e.lute.SpinVditorDOM(d),z("SpinVditorDOM",d,"result",e.options.debugger),L)o.innerHTML=d;else if(o.outerHTML=d,S){var R=(0,_.E2)(e.wysiwyg.element.querySelector("wbr"),"LI");if(R){var V=e.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+R.getAttribute("data-marker")+'"]');V&&V.setAttribute("aria-label",R.textContent.trim().substr(0,24))}}var te,ee=e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");ee.forEach(function(X,P){P===0?x=X:(x.insertAdjacentHTML("beforeend",X.innerHTML),X.remove())}),ee.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",ee[0]);var Q=e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");Q.forEach(function(X,P){P===0?te=X:(te.insertAdjacentHTML("beforeend",X.innerHTML),X.remove())}),Q.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",Q[0]),(0,q.ib)(e.wysiwyg.element,t),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(X){he(X,e)}),n&&(n.inputType==="deleteContentBackward"||n.inputType==="deleteContentForward")&&e.options.comment.enable&&(e.wysiwyg.triggerRemoveComment(e),e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)))}Ee(e),Le(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},ni=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ri=function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function d(S){try{L(i.next(S))}catch(A){s(A)}}function x(S){try{L(i.throw(S))}catch(A){s(A)}}function L(S){var A;S.done?o(S.value):(A=S.value,A instanceof n?A:new n(function(I){I(A)})).then(d,x)}L((i=i.apply(e,t||[])).next())})},oi=function(e,t){var n,i,o,s,d={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function x(L){return function(S){return function(A){if(n)throw new TypeError("Generator is already executing.");for(;d;)try{if(n=1,i&&(o=2&A[0]?i.return:A[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,A[1])).done)return o;switch(i=0,o&&(A=[2&A[0],o.value]),A[0]){case 0:case 1:o=A;break;case 4:return d.label++,{value:A[1],done:!1};case 5:d.label++,i=A[1],A=[0];continue;case 7:A=d.ops.pop(),d.trys.pop();continue;default:if(o=d.trys,!((o=o.length>0&&o[o.length-1])||A[0]!==6&&A[0]!==2)){d=0;continue}if(A[0]===3&&(!o||A[1]>o[0]&&A[1]<o[3])){d.label=A[1];break}if(A[0]===6&&d.label<o[1]){d.label=o[1],o=A;break}if(o&&d.label<o[2]){d.label=o[2],d.ops.push(A);break}o[2]&&d.ops.pop(),d.trys.pop();continue}A=t.call(e,d)}catch(I){A=[6,I],i=0}finally{n=o=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([L,S])}}},pr=function(e,t,n){if(e.keyCode===229&&e.code===""&&e.key==="Unidentified"&&t.currentMode!=="sv"){var i=(0,_.F9)(n);if(i&&i.textContent.trim()==="")return t[t.currentMode].composingLock=!0,!1}return!0},fr=function(e,t,n){if(!(n.key==="Enter"||n.key==="Tab"||n.key==="Backspace"||n.key.indexOf("Arrow")>-1||(0,p.yl)(n)||n.key==="Escape"||n.shiftKey||n.altKey)){var i=(0,_.lG)(e.startContainer,"P")||(0,_.lG)(e.startContainer,"LI");if(i&&(0,q.im)(i,t[t.currentMode].element,e).start===0){i.nodeValue=i.nodeValue.replace(/\u2006/g,"");var o=document.createTextNode(l.g.ZWSP);e.insertNode(o),e.setStartAfter(o)}}},hr=function(e,t){if(t==="ArrowDown"||t==="ArrowUp"){var n=(0,_.a1)(e.startContainer,"data-type","math-inline")||(0,_.a1)(e.startContainer,"data-type","html-entity")||(0,_.a1)(e.startContainer,"data-type","html-inline");n&&(t==="ArrowDown"&&e.setStartAfter(n.parentElement),t==="ArrowUp"&&e.setStartBefore(n.parentElement))}},zt=function(e,t){var n=(0,q.zh)(e),i=(0,_.F9)(n.startContainer);i&&(i.insertAdjacentHTML(t,'<p data-block="0">'+l.g.ZWSP+`<wbr>
</p>`),(0,q.ib)(e[e.currentMode].element,n),vt(e),_e(e))},ii=function(e){var t=(0,_.lG)(e,"TABLE");return!(!t||!t.rows[0].cells[0].isSameNode(e))&&t},si=function(e){var t=(0,_.lG)(e,"TABLE");return!(!t||!t.lastElementChild.lastElementChild.lastElementChild.isSameNode(e))&&t},mr=function(e,t,n){n===void 0&&(n=!0);var i=e.previousElementSibling;return i||(i=e.parentElement.previousElementSibling?e.parentElement.previousElementSibling.lastElementChild:e.parentElement.parentElement.tagName==="TBODY"&&e.parentElement.parentElement.previousElementSibling?e.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:null),i&&(t.selectNodeContents(i),n||t.collapse(!1),(0,q.Hc)(t)),i},Ht=function(e,t,n,i,o){var s=(0,q.im)(i,e[e.currentMode].element,n);if(t.key==="ArrowDown"&&i.textContent.trimRight().substr(s.start).indexOf(`
`)===-1||t.key==="ArrowRight"&&s.start>=i.textContent.trimRight().length){var d=o.nextElementSibling;return!d||d&&(d.tagName==="TABLE"||d.getAttribute("data-type"))?(o.insertAdjacentHTML("afterend",'<p data-block="0">'+l.g.ZWSP+"<wbr></p>"),(0,q.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(d),n.collapse(!0),(0,q.Hc)(n)),t.preventDefault(),!0}return!1},gt=function(e,t,n,i,o){var s=(0,q.im)(i,e[e.currentMode].element,n);if(t.key==="ArrowUp"&&i.textContent.substr(0,s.start).indexOf(`
`)===-1||(t.key==="ArrowLeft"||t.key==="Backspace"&&n.toString()==="")&&s.start===0){var d=o.previousElementSibling;return!d||d&&(d.tagName==="TABLE"||d.getAttribute("data-type"))?(o.insertAdjacentHTML("beforebegin",'<p data-block="0">'+l.g.ZWSP+"<wbr></p>"),(0,q.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(d),n.collapse(!1),(0,q.Hc)(n)),t.preventDefault(),!0}return!1},Ut=function(e,t,n,i){i===void 0&&(i=!0);var o=(0,_.lG)(t.startContainer,"LI");if(e[e.currentMode].element.querySelectorAll("wbr").forEach(function(A){A.remove()}),t.insertNode(document.createElement("wbr")),i&&o){for(var s="",d=0;d<o.parentElement.childElementCount;d++){var x=o.parentElement.children[d].querySelector("input");x&&x.remove(),s+='<p data-block="0">'+o.parentElement.children[d].innerHTML.trimLeft()+"</p>"}o.parentElement.insertAdjacentHTML("beforebegin",s),o.parentElement.remove()}else if(o)if(n==="check")o.parentElement.querySelectorAll("li").forEach(function(A){A.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'+(A.textContent.indexOf(" ")===0?"":" ")),A.classList.add("vditor-task")});else{o.querySelector("input")&&o.parentElement.querySelectorAll("li").forEach(function(A){A.querySelector("input").remove(),A.classList.remove("vditor-task")});var L=void 0;n==="list"?(L=document.createElement("ul")).setAttribute("data-marker","*"):(L=document.createElement("ol")).setAttribute("data-marker","1."),L.setAttribute("data-block","0"),L.setAttribute("data-tight",o.parentElement.getAttribute("data-tight")),L.innerHTML=o.parentElement.innerHTML,o.parentElement.parentNode.replaceChild(L,o.parentElement)}else{var S=(0,_.a1)(t.startContainer,"data-block","0");S||(e[e.currentMode].element.querySelector("wbr").remove(),(S=e[e.currentMode].element.querySelector("p")).innerHTML="<wbr>"),n==="check"?(S.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '+S.innerHTML+"</li></ul>"),S.remove()):n==="list"?(S.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'+S.innerHTML+"</li></ul>"),S.remove()):n==="ordered-list"&&(S.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'+S.innerHTML+"</li></ol>"),S.remove())}},vr=function(e,t,n){var i=t.previousElementSibling;if(t&&i){var o=[t];Array.from(n.cloneContents().children).forEach(function(L,S){L.nodeType!==3&&t&&L.textContent.trim()!==""&&t.getAttribute("data-node-id")===L.getAttribute("data-node-id")&&(S!==0&&o.push(t),t=t.nextElementSibling)}),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(L){L.remove()}),n.insertNode(document.createElement("wbr"));var s=i.parentElement,d="";o.forEach(function(L){var S=L.getAttribute("data-marker");S.length!==1&&(S="1"+S.slice(-1)),d+='<li data-node-id="'+L.getAttribute("data-node-id")+'" data-marker="'+S+'">'+L.innerHTML+"</li>",L.remove()}),i.insertAdjacentHTML("beforeend","<"+s.tagName+' data-block="0">'+d+"</"+s.tagName+">"),e.currentMode==="wysiwyg"?s.outerHTML=e.lute.SpinVditorDOM(s.outerHTML):s.outerHTML=e.lute.SpinVditorIRDOM(s.outerHTML),(0,q.ib)(e[e.currentMode].element,n);var x=(0,_.O9)(n.startContainer);x&&x.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach(function(L){he(L,e),e.currentMode==="wysiwyg"&&L.previousElementSibling.setAttribute("style","display:none")}),_e(e),vt(e)}else e[e.currentMode].element.focus()},xn=function(e,t,n,i){var o=(0,_.lG)(t.parentElement,"LI");if(o){e[e.currentMode].element.querySelectorAll("wbr").forEach(function(I){I.remove()}),n.insertNode(document.createElement("wbr"));var s=t.parentElement,d=s.cloneNode(),x=[t];Array.from(n.cloneContents().children).forEach(function(I,G){I.nodeType!==3&&t&&I.textContent.trim()!==""&&t.getAttribute("data-node-id")===I.getAttribute("data-node-id")&&(G!==0&&x.push(t),t=t.nextElementSibling)});var L=!1,S="";s.querySelectorAll("li").forEach(function(I){L&&(S+=I.outerHTML,I.nextElementSibling||I.previousElementSibling?I.remove():I.parentElement.remove()),I.isSameNode(x[x.length-1])&&(L=!0)}),x.reverse().forEach(function(I){o.insertAdjacentElement("afterend",I)}),S&&(d.innerHTML=S,x[0].insertAdjacentElement("beforeend",d)),e.currentMode==="wysiwyg"?i.outerHTML=e.lute.SpinVditorDOM(i.outerHTML):i.outerHTML=e.lute.SpinVditorIRDOM(i.outerHTML),(0,q.ib)(e[e.currentMode].element,n);var A=(0,_.O9)(n.startContainer);A&&A.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach(function(I){he(I,e),e.currentMode==="wysiwyg"&&I.previousElementSibling.setAttribute("style","display:none")}),_e(e),vt(e)}else e[e.currentMode].element.focus()},Vt=function(e,t){for(var n=getSelection().getRangeAt(0).startContainer.parentElement,i=e.rows[0].cells.length,o=e.rows.length,s=0,d=0;d<o;d++)for(var x=0;x<i;x++)if(e.rows[d].cells[x].isSameNode(n)){s=x;break}for(var L=0;L<o;L++)e.rows[L].cells[s].setAttribute("align",t)},Cn=function(e){var t=e.trimRight().split(`
`).pop();return t!==""&&(t.replace(/ |-/g,"")===""||t.replace(/ |_/g,"")===""||t.replace(/ |\*/g,"")==="")&&t.replace(/ /g,"").length>2&&!(t.indexOf("-")>-1&&t.trimLeft().indexOf(" ")===-1&&e.trimRight().split(`
`).length>1)&&t.indexOf("    ")!==0&&t.indexOf("	")!==0},Sn=function(e){var t=e.trimRight().split(`
`);return(e=t.pop()).indexOf("    ")!==0&&e.indexOf("	")!==0&&(e=e.trimLeft())!==""&&t.length!==0&&(e.replace(/-/g,"")===""||e.replace(/=/g,"")==="")},_e=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),e.currentMode==="wysiwyg"?Le(e,t):e.currentMode==="ir"?et(e,t):e.currentMode==="sv"&&Re(e,t)},gr=function(e,t,n,i){var o,s=e.startContainer,d=(0,_.lG)(s,"LI");if(d){if(!(0,p.yl)(i)&&!i.altKey&&i.key==="Enter"&&!i.shiftKey&&n&&d.contains(n)&&n.nextElementSibling)return d&&!d.textContent.endsWith(`
`)&&d.insertAdjacentText("beforeend",`
`),e.insertNode(document.createTextNode(`

`)),e.collapse(!1),_e(t),i.preventDefault(),!0;if(!((0,p.yl)(i)||i.shiftKey||i.altKey||i.key!=="Backspace"||d.previousElementSibling||e.toString()!==""||(0,q.im)(d,t[t.currentMode].element,e).start!==0))return d.nextElementSibling?(d.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+d.innerHTML+"</p>"),d.remove()):d.parentElement.outerHTML='<p data-block="0"><wbr>'+d.innerHTML+"</p>",(0,q.ib)(t[t.currentMode].element,e),_e(t),i.preventDefault(),!0;if(!(0,p.yl)(i)&&!i.shiftKey&&!i.altKey&&i.key==="Backspace"&&d.textContent.trim().replace(l.g.ZWSP,"")===""&&e.toString()===""&&((o=d.previousElementSibling)===null||o===void 0?void 0:o.tagName)==="LI")return d.previousElementSibling.insertAdjacentText("beforeend",`

`),e.selectNodeContents(d.previousElementSibling),e.collapse(!1),d.remove(),(0,q.ib)(t[t.currentMode].element,e),_e(t),i.preventDefault(),!0;if(!(0,p.yl)(i)&&!i.altKey&&i.key==="Tab"){var x=!1;if((e.startOffset===0&&(s.nodeType===3&&!s.previousSibling||s.nodeType!==3&&s.nodeName==="LI")||d.classList.contains("vditor-task")&&e.startOffset===1&&s.previousSibling.nodeType!==3&&s.previousSibling.tagName==="INPUT")&&(x=!0),x||e.toString()!=="")return i.shiftKey?xn(t,d,e,d.parentElement):vr(t,d,e),i.preventDefault(),!0}}return!1},An=function(e,t,n){if(e.options.tab&&n.key==="Tab")return n.shiftKey||(t.toString()===""?(t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1)):(t.extractContents(),t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1))),(0,q.Hc)(t),_e(e),n.preventDefault(),!0},br=function(e,t,n,i){if(n){if(!(0,p.yl)(e)&&!e.altKey&&e.key==="Enter"){var o=String.raw(er||(er=ni(["",""],["",""])),n.textContent).replace(/\\\|/g,"").trim(),s=o.split("|");if(o.startsWith("|")&&o.endsWith("|")&&s.length>3){var d=s.map(function(){return"---"}).join("|");return d=n.textContent+`
`+d.substring(3,d.length-3)+`
|<wbr>`,n.outerHTML=t.lute.SpinVditorDOM(d),(0,q.ib)(t[t.currentMode].element,i),_e(t),qe(t),e.preventDefault(),!0}if(Cn(n.innerHTML)&&n.previousElementSibling){var x="",L=n.innerHTML.trimRight().split(`
`);return L.length>1&&(L.pop(),x='<p data-block="0">'+L.join(`
`)+"</p>"),n.insertAdjacentHTML("afterend",x+`<hr data-block="0"><p data-block="0"><wbr>
</p>`),n.remove(),(0,q.ib)(t[t.currentMode].element,i),_e(t),qe(t),e.preventDefault(),!0}if(Sn(n.innerHTML))return t.currentMode==="wysiwyg"?n.outerHTML=t.lute.SpinVditorDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`):n.outerHTML=t.lute.SpinVditorIRDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,q.ib)(t[t.currentMode].element,i),_e(t),qe(t),e.preventDefault(),!0}if(i.collapsed&&n.previousElementSibling&&e.key==="Backspace"&&!(0,p.yl)(e)&&!e.altKey&&!e.shiftKey&&n.textContent.trimRight().split(`
`).length>1&&(0,q.im)(n,t[t.currentMode].element,i).start===0){var S=(0,_.DX)(n.previousElementSibling);return S.textContent.endsWith(`
`)||(S.textContent=S.textContent+`
`),S.parentElement.insertAdjacentHTML("beforeend","<wbr>"+n.innerHTML),n.remove(),(0,q.ib)(t[t.currentMode].element,i),!1}return!1}},yr=function(e,t,n){for(var i="",o=0;o<n.parentElement.childElementCount;o++)i+='<td align="'+n.parentElement.children[o].getAttribute("align")+'"> </td>';n.tagName==="TH"?n.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>"+i+"</tr></tbody>"):n.parentElement.insertAdjacentHTML("afterend","<tr>"+i+"</tr>"),_e(e)},wr=function(e,t,n){for(var i="",o=0;o<n.parentElement.childElementCount;o++)n.tagName==="TH"?i+='<th align="'+n.parentElement.children[o].getAttribute("align")+'"> </th>':i+='<td align="'+n.parentElement.children[o].getAttribute("align")+'"> </td>';if(n.tagName==="TH"){n.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>"+i+"</tr></thead>"),t.insertNode(document.createElement("wbr"));var s=n.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");n.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",s),n.parentElement.parentElement.remove(),(0,q.ib)(e.ir.element,t)}else n.parentElement.insertAdjacentHTML("beforebegin","<tr>"+i+"</tr>");_e(e)},$t=function(e,t,n,i){i===void 0&&(i="afterend");for(var o=0,s=n.previousElementSibling;s;)o++,s=s.previousElementSibling;for(var d=0;d<t.rows.length;d++)d===0?t.rows[d].cells[o].insertAdjacentHTML(i,"<th> </th>"):t.rows[d].cells[o].insertAdjacentHTML(i,"<td> </td>");_e(e)},_r=function(e,t,n){if(n.tagName==="TD"){var i=n.parentElement.parentElement;n.parentElement.previousElementSibling?t.selectNodeContents(n.parentElement.previousElementSibling.lastElementChild):t.selectNodeContents(i.previousElementSibling.lastElementChild.lastElementChild),i.childElementCount===1?i.remove():n.parentElement.remove(),t.collapse(!1),(0,q.Hc)(t),_e(e)}},kr=function(e,t,n,i){for(var o=0,s=i.previousElementSibling;s;)o++,s=s.previousElementSibling;(i.previousElementSibling||i.nextElementSibling)&&(t.selectNodeContents(i.previousElementSibling||i.nextElementSibling),t.collapse(!0));for(var d=0;d<n.rows.length;d++){var x=n.rows[d].cells;if(x.length===1){n.remove(),vt(e);break}x[o].remove()}(0,q.Hc)(t),_e(e)},Er=function(e,t,n){var i=n.startContainer,o=(0,_.lG)(i,"TD")||(0,_.lG)(i,"TH");if(o){if(!(0,p.yl)(t)&&!t.altKey&&t.key==="Enter"){o.lastElementChild&&(!o.lastElementChild||o.lastElementChild.isSameNode(o.lastChild)&&o.lastElementChild.tagName==="BR")||o.insertAdjacentHTML("beforeend","<br>");var s=document.createElement("br");return n.insertNode(s),n.setStartAfter(s),_e(e),qe(e),t.preventDefault(),!0}if(t.key==="Tab")return t.shiftKey?(mr(o,n),t.preventDefault(),!0):((A=o.nextElementSibling)||(A=o.parentElement.nextElementSibling?o.parentElement.nextElementSibling.firstElementChild:o.parentElement.parentElement.tagName==="THEAD"&&o.parentElement.parentElement.nextElementSibling?o.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:null),A&&(n.selectNodeContents(A),(0,q.Hc)(n)),t.preventDefault(),!0);var d=o.parentElement.parentElement.parentElement;if(t.key==="ArrowUp"){if(t.preventDefault(),o.tagName==="TH")return d.previousElementSibling?(n.selectNodeContents(d.previousElementSibling),n.collapse(!1),(0,q.Hc)(n)):zt(e,"beforebegin"),!0;for(var x=0,L=o.parentElement;x<L.cells.length&&!L.cells[x].isSameNode(o);x++);var S=L.previousElementSibling;return S||(S=L.parentElement.previousElementSibling.firstChild),n.selectNodeContents(S.cells[x]),n.collapse(!1),(0,q.Hc)(n),!0}if(t.key==="ArrowDown"){var A;if(t.preventDefault(),!(L=o.parentElement).nextElementSibling&&o.tagName==="TD")return d.nextElementSibling?(n.selectNodeContents(d.nextElementSibling),n.collapse(!0),(0,q.Hc)(n)):zt(e,"afterend"),!0;for(x=0;x<L.cells.length&&!L.cells[x].isSameNode(o);x++);return(A=L.nextElementSibling)||(A=L.parentElement.nextElementSibling.firstChild),n.selectNodeContents(A.cells[x]),n.collapse(!0),(0,q.Hc)(n),!0}if(e.currentMode==="wysiwyg"&&!(0,p.yl)(t)&&t.key==="Enter"&&!t.shiftKey&&t.altKey){var I=e.wysiwyg.popover.querySelector(".vditor-input");return I.focus(),I.select(),t.preventDefault(),!0}if(!(0,p.yl)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Backspace"&&n.startOffset===0&&n.toString()==="")return!mr(o,n,!1)&&d&&(d.textContent.trim()===""?(d.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,q.ib)(e[e.currentMode].element,n)):(n.setStartBefore(d),n.collapse(!0)),_e(e)),t.preventDefault(),!0;if(J("⇧⌘F",t))return wr(e,n,o),t.preventDefault(),!0;if(J("⌘=",t))return yr(e,n,o),t.preventDefault(),!0;if(J("⇧⌘G",t))return $t(e,d,o,"beforebegin"),t.preventDefault(),!0;if(J("⇧⌘=",t))return $t(e,d,o),t.preventDefault(),!0;if(J("⌘-",t))return _r(e,n,o),t.preventDefault(),!0;if(J("⇧⌘-",t))return kr(e,n,d,o),t.preventDefault(),!0;if(J("⇧⌘L",t)){if(e.currentMode==="ir")return Vt(d,"left"),_e(e),t.preventDefault(),!0;if(G=e.wysiwyg.popover.querySelector('[data-type="left"]'))return G.click(),t.preventDefault(),!0}if(J("⇧⌘C",t)){if(e.currentMode==="ir")return Vt(d,"center"),_e(e),t.preventDefault(),!0;if(G=e.wysiwyg.popover.querySelector('[data-type="center"]'))return G.click(),t.preventDefault(),!0}if(J("⇧⌘R",t)){if(e.currentMode==="ir")return Vt(d,"right"),_e(e),t.preventDefault(),!0;var G;if(G=e.wysiwyg.popover.querySelector('[data-type="right"]'))return G.click(),t.preventDefault(),!0}}return!1},xr=function(e,t,n,i){if(n.tagName==="PRE"&&J("⌘A",t))return i.selectNodeContents(n.firstElementChild),t.preventDefault(),!0;if(e.options.tab&&t.key==="Tab"&&!t.shiftKey&&i.toString()==="")return i.insertNode(document.createTextNode(e.options.tab)),i.collapse(!1),_e(e),t.preventDefault(),!0;if(t.key==="Backspace"&&!(0,p.yl)(t)&&!t.shiftKey&&!t.altKey){var o=(0,q.im)(n,e[e.currentMode].element,i);if((o.start===0||o.start===1&&n.innerText===`
`)&&i.toString()==="")return n.parentElement.outerHTML='<p data-block="0"><wbr>'+n.firstElementChild.innerHTML+"</p>",(0,q.ib)(e[e.currentMode].element,i),_e(e),t.preventDefault(),!0}return!(0,p.yl)(t)&&!t.altKey&&t.key==="Enter"&&(n.firstElementChild.textContent.endsWith(`
`)||n.firstElementChild.insertAdjacentText("beforeend",`
`),i.extractContents(),i.insertNode(document.createTextNode(`
`)),i.collapse(!1),(0,q.Hc)(i),(0,p.vU)()||(e.currentMode==="wysiwyg"?Ft(e,i):ke(e,i)),qe(e),t.preventDefault(),!0)},Cr=function(e,t,n,i){var o=t.startContainer,s=(0,_.lG)(o,"BLOCKQUOTE");if(s&&t.toString()===""){if(n.key==="Backspace"&&!(0,p.yl)(n)&&!n.shiftKey&&!n.altKey&&(0,q.im)(s,e[e.currentMode].element,t).start===0)return t.insertNode(document.createElement("wbr")),s.outerHTML=s.innerHTML,(0,q.ib)(e[e.currentMode].element,t),_e(e),n.preventDefault(),!0;if(i&&n.key==="Enter"&&!(0,p.yl)(n)&&!n.shiftKey&&!n.altKey&&i.parentElement.tagName==="BLOCKQUOTE"){var d=!1;if(i.innerHTML.replace(l.g.ZWSP,"")===`
`||i.innerHTML.replace(l.g.ZWSP,"")===""?(d=!0,i.remove()):i.innerHTML.endsWith(`

`)&&(0,q.im)(i,e[e.currentMode].element,t).start===i.textContent.length-1&&(i.innerHTML=i.innerHTML.substr(0,i.innerHTML.length-2),d=!0),d)return s.insertAdjacentHTML("afterend",'<p data-block="0">'+l.g.ZWSP+`<wbr>
</p>`),(0,q.ib)(e[e.currentMode].element,t),_e(e),n.preventDefault(),!0}var x=(0,_.F9)(o);if(e.currentMode==="wysiwyg"&&x&&J("⇧⌘;",n))return t.insertNode(document.createElement("wbr")),x.outerHTML='<blockquote data-block="0">'+x.outerHTML+"</blockquote>",(0,q.ib)(e.wysiwyg.element,t),Le(e),n.preventDefault(),!0;if(Ht(e,n,t,s,s)||gt(e,n,t,s,s))return!0}return!1},Sr=function(e,t,n){var i=t.startContainer,o=(0,_.fb)(i,"vditor-task");if(o){if(J("⇧⌘J",n)){var s=o.firstElementChild;return s.checked?s.removeAttribute("checked"):s.setAttribute("checked","checked"),_e(e),n.preventDefault(),!0}if(n.key==="Backspace"&&!(0,p.yl)(n)&&!n.shiftKey&&!n.altKey&&t.toString()===""&&t.startOffset===1&&(i.nodeType===3&&i.previousSibling&&i.previousSibling.tagName==="INPUT"||i.nodeType!==3)){var d=o.previousElementSibling;return o.querySelector("input").remove(),d?((0,_.DX)(d).parentElement.insertAdjacentHTML("beforeend","<wbr>"+o.innerHTML.trim()),o.remove()):(o.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+(o.innerHTML.trim()||`
`)+"</p>"),o.nextElementSibling?o.remove():o.parentElement.remove()),(0,q.ib)(e[e.currentMode].element,t),_e(e),n.preventDefault(),!0}if(n.key==="Enter"&&!(0,p.yl)(n)&&!n.shiftKey&&!n.altKey){if(o.textContent.trim()==="")if((0,_.fb)(o.parentElement,"vditor-task")){var x=(0,_.O9)(i);x&&xn(e,o,t,x)}else if(o.nextElementSibling){var L="",S="",A=!1;Array.from(o.parentElement.children).forEach(function(R){o.isSameNode(R)?A=!0:A?L+=R.outerHTML:S+=R.outerHTML});var I=o.parentElement.tagName,G=o.parentElement.tagName==="OL"?"":' data-marker="'+o.parentElement.getAttribute("data-marker")+'"',Z="";S&&(Z=o.parentElement.tagName==="UL"?"":' start="1"',S="<"+I+' data-tight="true"'+G+' data-block="0">'+S+"</"+I+">"),o.parentElement.outerHTML=S+`<p data-block="0"><wbr>
</p><`+I+`
 data-tight="true"`+G+' data-block="0"'+Z+">"+L+"</"+I+">"}else o.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),o.parentElement.querySelectorAll("li").length===1?o.parentElement.remove():o.remove();else i.nodeType!==3&&t.startOffset===0&&i.firstChild.tagName==="INPUT"?t.setStart(i.childNodes[1],1):(t.setEndAfter(o.lastChild),o.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'+o.getAttribute("data-marker")+'"><input type="checkbox"> <wbr></li>'),document.querySelector("wbr").after(t.extractContents()));return(0,q.ib)(e[e.currentMode].element,t),_e(e),qe(e),n.preventDefault(),!0}}return!1},Ar=function(e,t,n,i){if(t.startContainer.nodeType!==3){var o=t.startContainer.children[t.startOffset];if(o&&o.tagName==="HR")return t.selectNodeContents(o.previousElementSibling),t.collapse(!1),n.preventDefault(),!0}if(i){var s=i.previousElementSibling;if(s&&(0,q.im)(i,e[e.currentMode].element,t).start===0&&((0,p.vU)()&&s.tagName==="HR"||s.tagName==="TABLE")){if(s.tagName==="TABLE"){var d=s.lastElementChild.lastElementChild.lastElementChild;d.innerHTML=d.innerHTML.trimLeft()+"<wbr>"+i.textContent.trim(),i.remove()}else s.remove();return(0,q.ib)(e[e.currentMode].element,t),_e(e),n.preventDefault(),!0}}return!1},Lr=function(e){(0,p.vU)()&&e.startContainer.nodeType!==3&&e.startContainer.tagName==="HR"&&e.setStartBefore(e.startContainer)},Tr=function(e,t,n){var i,o;if(!(0,p.vU)())return!1;if(e.key==="ArrowUp"&&t&&((i=t.previousElementSibling)===null||i===void 0?void 0:i.tagName)==="TABLE"){var s=t.previousElementSibling;return n.selectNodeContents(s.rows[s.rows.length-1].lastElementChild),n.collapse(!1),e.preventDefault(),!0}return!(e.key!=="ArrowDown"||!t||((o=t.nextElementSibling)===null||o===void 0?void 0:o.tagName)!=="TABLE")&&(n.selectNodeContents(t.nextElementSibling.rows[0].cells[0]),n.collapse(!0),e.preventDefault(),!0)},Gt=function(e,t,n){return ri(void 0,void 0,void 0,function(){var i,o,s,d,x,L,S,A,I,G,Z,R,V,te,ee,Q;return oi(this,function(X){switch(X.label){case 0:return e[e.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(t.stopPropagation(),t.preventDefault(),"clipboardData"in t?(i=t.clipboardData.getData("text/html"),o=t.clipboardData.getData("text/plain"),s=t.clipboardData.files):(i=t.dataTransfer.getData("text/html"),o=t.dataTransfer.getData("text/plain"),t.dataTransfer.types.includes("Files")&&(s=t.dataTransfer.items)),d={},x=function(P,re){if(!re)return["",Lute.WalkContinue];var pe=P.TokensStr();if(P.__internal_object__.Parent.Type===34&&pe&&pe.indexOf("file://")===-1&&e.options.upload.linkToImgUrl){var le=new XMLHttpRequest;le.open("POST",e.options.upload.linkToImgUrl),e.options.upload.token&&le.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(le.withCredentials=!0),dr(e,le),le.setRequestHeader("Content-Type","application/json; charset=utf-8"),le.onreadystatechange=function(){if(le.readyState===XMLHttpRequest.DONE){if(le.status===200){var de=le.responseText;e.options.upload.linkToImgFormat&&(de=e.options.upload.linkToImgFormat(le.responseText));var ue=JSON.parse(de);if(ue.code!==0)return void e.tip.show(ue.msg);var ae=ue.data.originalURL;if(e.currentMode==="sv")e.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(Se){Se.textContent===ae&&(Se.textContent=ue.data.url)});else{var ve=e[e.currentMode].element.querySelector('img[src="'+ae+'"]');ve.src=ue.data.url,e.currentMode==="ir"&&(ve.previousElementSibling.previousElementSibling.innerHTML=ue.data.url)}_e(e)}else e.tip.show(le.responseText);e.options.upload.linkToImgCallback&&e.options.upload.linkToImgCallback(le.responseText)}},le.send(JSON.stringify({url:pe}))}return e.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'+Lute.EscapeHTMLStr(pe)+"</span>",Lute.WalkContinue]:e.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'+Lute.EscapeHTMLStr(pe)+"</span>",Lute.WalkContinue]},i.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<a href="'+o+'">'+o+"</a>"&&i.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<!--StartFragment--><a href="'+o+'">'+o+"</a><!--EndFragment-->"||(i=""),(L=new DOMParser().parseFromString(i,"text/html")).body&&(i=L.body.innerHTML),i=Lute.Sanitize(i),e.wysiwyg.getComments(e),S=e[e.currentMode].element.scrollHeight,A=function(P,re,pe){pe===void 0&&(pe="sv");var le=document.createElement("div");le.innerHTML=P;var de=!1;le.childElementCount===1&&le.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(de=!0);var ue=le.querySelectorAll("pre");if(le.childElementCount===1&&ue.length===1&&ue[0].className!=="vditor-wysiwyg"&&ue[0].className!=="vditor-sv"&&(de=!0),P.indexOf(`
<p class="p1">`)===0&&(de=!0),le.childElementCount===1&&le.firstElementChild.tagName==="TABLE"&&le.querySelector(".line-number")&&le.querySelector(".line-content")&&(de=!0),de){var ae=re||P;return/\n/.test(ae)||ue.length===1?pe==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'+ae.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"<wbr></code></pre></div>":"\n```\n"+ae.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":pe==="wysiwyg"?"<code>"+ae.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</code><wbr>":"`"+ae+"`"}return!1}(i,o,e.currentMode),(I=e.currentMode==="sv"?(0,_.a1)(t.target,"data-type","code-block"):(0,_.lG)(t.target,"CODE"))?(e.currentMode==="sv"?document.execCommand("insertHTML",!1,o.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(G=(0,q.im)(t.target,e[e.currentMode].element),I.parentElement.tagName!=="PRE"&&(o+=l.g.ZWSP),I.textContent=I.textContent.substring(0,G.start)+o+I.textContent.substring(G.end),(0,q.$j)(G.start+o.length,G.start+o.length,I.parentElement),!((Q=I.parentElement)===null||Q===void 0)&&Q.nextElementSibling.classList.contains("vditor-"+e.currentMode+"__preview")&&(I.parentElement.nextElementSibling.innerHTML=I.outerHTML,he(I.parentElement.nextElementSibling,e))),[3,8]):[3,1]);case 1:return A?(n.pasteCode(A),[3,8]):[3,2];case 2:return i.trim()===""?[3,3]:((Z=document.createElement("div")).innerHTML=i,Z.querySelectorAll("[style]").forEach(function(P){P.removeAttribute("style")}),Z.querySelectorAll(".vditor-copy").forEach(function(P){P.remove()}),e.currentMode==="ir"?(d.HTML2VditorIRDOM={renderLinkDest:x},e.lute.SetJSRenderers({renderers:d}),(0,q.oC)(e.lute.HTML2VditorIRDOM(Z.innerHTML),e)):e.currentMode==="wysiwyg"?(d.HTML2VditorDOM={renderLinkDest:x},e.lute.SetJSRenderers({renderers:d}),(0,q.oC)(e.lute.HTML2VditorDOM(Z.innerHTML),e)):(d.Md2VditorSVDOM={renderLinkDest:x},e.lute.SetJSRenderers({renderers:d}),ar(e,e.lute.HTML2Md(Z.innerHTML).trimRight())),e.outline.render(e),[3,8]);case 3:return s.length>0?e.options.upload.url||e.options.upload.handler?[4,En(e,s)]:[3,5]:[3,7];case 4:return X.sent(),[3,6];case 5:R=new FileReader,"clipboardData"in t?(s=t.clipboardData.files,V=s[0]):t.dataTransfer.types.includes("Files")&&(s=t.dataTransfer.items,V=s[0].getAsFile()),V&&V.type.startsWith("image")&&(R.readAsDataURL(V),R.onload=function(){var P="";e.currentMode==="wysiwyg"?P+='<img alt="'+V.name+'" src="'+R.result.toString()+`">
`:P+="!["+V.name+"]("+R.result.toString()+`)
`,document.execCommand("insertHTML",!1,P)}),X.label=6;case 6:return[3,8];case 7:o.trim()!==""&&s.length===0&&(e.currentMode==="ir"?(d.Md2VditorIRDOM={renderLinkDest:x},e.lute.SetJSRenderers({renderers:d}),(0,q.oC)(e.lute.Md2VditorIRDOM(o),e)):e.currentMode==="wysiwyg"?(d.Md2VditorDOM={renderLinkDest:x},e.lute.SetJSRenderers({renderers:d}),(0,q.oC)(e.lute.Md2VditorDOM(o),e)):(d.Md2VditorSVDOM={renderLinkDest:x},e.lute.SetJSRenderers({renderers:d}),ar(e,o)),e.outline.render(e)),X.label=8;case 8:return e.currentMode!=="sv"&&((te=(0,_.F9)((0,q.zh)(e).startContainer))&&(ee=(0,q.zh)(e),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(P){P.remove()}),ee.insertNode(document.createElement("wbr")),e.currentMode==="wysiwyg"?te.outerHTML=e.lute.SpinVditorDOM(te.outerHTML):te.outerHTML=e.lute.SpinVditorIRDOM(te.outerHTML),(0,q.ib)(e[e.currentMode].element,ee)),e[e.currentMode].element.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach(function(P){he(P,e)})),e.wysiwyg.triggerRemoveComment(e),_e(e),e[e.currentMode].element.scrollHeight-S>Math.min(e[e.currentMode].element.clientHeight,window.innerHeight)/2&&qe(e),[2]}})})},Mr=function(e){e.hint.render(e);var t=(0,q.zh)(e).startContainer,n=(0,_.a1)(t,"data-type","code-block-info");if(n)if(n.textContent.replace(l.g.ZWSP,"")===""&&e.hint.recentLanguage)n.textContent=l.g.ZWSP+e.hint.recentLanguage,(0,q.zh)(e).selectNodeContents(n);else{var i=[],o=n.textContent.substring(0,(0,q.im)(n,e.ir.element).start).replace(l.g.ZWSP,"");l.g.CODE_LANGUAGES.forEach(function(s){s.indexOf(o.toLowerCase())>-1&&i.push({html:s,value:s})}),e.hint.genHTML(i,o,e)}},et=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&Mr(e),clearTimeout(e.ir.processTimeoutId),e.ir.processTimeoutId=window.setTimeout(function(){if(!e.ir.composingLock){var n=h(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,p.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},qt=function(e,t){var n=(0,q.zh)(e),i=(0,_.F9)(n.startContainer)||n.startContainer;if(i){var o=i.querySelector(".vditor-ir__marker--heading");o?o.innerHTML=t:(i.insertAdjacentText("afterbegin",t),n.selectNodeContents(i),n.collapse(!1)),ke(e,n.cloneRange()),Tt(e)}},Wt=function(e,t,n){var i=(0,_.a1)(e.startContainer,"data-type",n);if(i){i.firstElementChild.remove(),i.lastElementChild.remove(),e.insertNode(document.createElement("wbr"));var o=document.createElement("div");o.innerHTML=t.lute.SpinVditorIRDOM(i.outerHTML),i.outerHTML=o.firstElementChild.innerHTML.trim()}},ai=function(e,t,n,i){var o=(0,q.zh)(e),s=t.getAttribute("data-type"),d=o.startContainer;d.nodeType===3&&(d=d.parentElement);var x=!0;if(t.classList.contains("vditor-menu--current"))if(s==="quote"){var L=(0,_.lG)(d,"BLOCKQUOTE");L&&(o.insertNode(document.createElement("wbr")),L.outerHTML=L.innerHTML.trim()===""?'<p data-block="0">'+L.innerHTML+"</p>":L.innerHTML)}else if(s==="link"){var S=(0,_.a1)(o.startContainer,"data-type","a");if(S){var A=(0,_.fb)(o.startContainer,"vditor-ir__link");A?(o.insertNode(document.createElement("wbr")),S.outerHTML=A.innerHTML):S.outerHTML=S.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else s==="italic"?Wt(o,e,"em"):s==="bold"?Wt(o,e,"strong"):s==="strike"?Wt(o,e,"s"):s==="inline-code"?Wt(o,e,"code"):s!=="check"&&s!=="list"&&s!=="ordered-list"||(Ut(e,o,s),x=!1,t.classList.remove("vditor-menu--current"));else{e.ir.element.childNodes.length===0&&(e.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,q.ib)(e.ir.element,o));var I=(0,_.F9)(o.startContainer);if(s==="line"){if(I){var G=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;I.innerHTML.trim()===""?I.outerHTML=G:I.insertAdjacentHTML("afterend",G)}}else if(s==="quote")I&&(o.insertNode(document.createElement("wbr")),I.outerHTML='<blockquote data-block="0">'+I.outerHTML+"</blockquote>",x=!1,t.classList.add("vditor-menu--current"));else if(s==="link"){var Z=void 0;Z=o.toString()===""?n+"<wbr>"+i:""+n+o.toString()+i.replace(")","<wbr>)"),document.execCommand("insertHTML",!1,Z),x=!1,t.classList.add("vditor-menu--current")}else if(s==="italic"||s==="bold"||s==="strike"||s==="inline-code"||s==="code"||s==="table"){Z=void 0,o.toString()===""?Z=n+"<wbr>"+i:(Z=s==="code"||s==="table"?""+n+o.toString()+"<wbr>"+i:""+n+o.toString()+i+"<wbr>",o.deleteContents()),s!=="table"&&s!=="code"||(Z=`
`+Z+`

`);var R=document.createElement("span");R.innerHTML=Z,o.insertNode(R),ke(e,o),s==="table"&&(o.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,q.Hc)(o))}else s!=="check"&&s!=="list"&&s!=="ordered-list"||(Ut(e,o,s,!1),x=!1,w(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current"))}(0,q.ib)(e.ir.element,o),et(e),x&&Tt(e)},ci=function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function d(S){try{L(i.next(S))}catch(A){s(A)}}function x(S){try{L(i.throw(S))}catch(A){s(A)}}function L(S){var A;S.done?o(S.value):(A=S.value,A instanceof n?A:new n(function(I){I(A)})).then(d,x)}L((i=i.apply(e,t||[])).next())})},li=function(e,t){var n,i,o,s,d={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function x(L){return function(S){return function(A){if(n)throw new TypeError("Generator is already executing.");for(;d;)try{if(n=1,i&&(o=2&A[0]?i.return:A[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,A[1])).done)return o;switch(i=0,o&&(A=[2&A[0],o.value]),A[0]){case 0:case 1:o=A;break;case 4:return d.label++,{value:A[1],done:!1};case 5:d.label++,i=A[1],A=[0];continue;case 7:A=d.ops.pop(),d.trys.pop();continue;default:if(o=d.trys,!((o=o.length>0&&o[o.length-1])||A[0]!==6&&A[0]!==2)){d=0;continue}if(A[0]===3&&(!o||A[1]>o[0]&&A[1]<o[3])){d.label=A[1];break}if(A[0]===6&&d.label<o[1]){d.label=o[1],o=A;break}if(o&&d.label<o[2]){d.label=o[2],d.ops.push(A);break}o[2]&&d.ops.pop(),d.trys.pop();continue}A=t.call(e,d)}catch(I){A=[6,I],i=0}finally{n=o=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([L,S])}}},ui=function(){function e(t){var n=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(i,o){n.element.style.display="none";var s=decodeURIComponent(i.getAttribute("data-value")),d=window.getSelection().getRangeAt(0);if(o.currentMode==="ir"){var x=(0,_.a1)(d.startContainer,"data-type","code-block-info");if(x)return x.textContent=l.g.ZWSP+s.trimRight(),d.selectNodeContents(x),d.collapse(!1),et(o),x.parentElement.querySelectorAll("code").forEach(function(I){I.className="language-"+s.trimRight()}),he(x.parentElement.querySelector(".vditor-ir__preview"),o),void(n.recentLanguage=s.trimRight())}if(o.currentMode==="wysiwyg"&&d.startContainer.nodeType!==3){var L=d.startContainer,S=void 0;if((S=L.classList.contains("vditor-input")?L:L.firstElementChild)&&S.classList.contains("vditor-input"))return S.value=s.trimRight(),d.selectNodeContents(S),d.collapse(!1),S.dispatchEvent(new CustomEvent("input",{detail:1})),void(n.recentLanguage=s.trimRight())}if(d.setStart(d.startContainer,n.lastIndex),d.deleteContents(),o.options.hint.parse?o.currentMode==="sv"?(0,q.oC)(o.lute.SpinVditorSVDOM(s),o):o.currentMode==="wysiwyg"?(0,q.oC)(o.lute.SpinVditorDOM(s),o):(0,q.oC)(o.lute.SpinVditorIRDOM(s),o):(0,q.oC)(s,o),n.splitChar===":"&&s.indexOf(":")>-1&&o.currentMode!=="sv"&&d.insertNode(document.createTextNode(" ")),d.collapse(!1),(0,q.Hc)(d),o.currentMode==="wysiwyg")(A=(0,_.fb)(d.startContainer,"vditor-wysiwyg__block"))&&A.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(A.lastElementChild.innerHTML=A.firstElementChild.innerHTML,he(A.lastElementChild,o));else if(o.currentMode==="ir"){var A;(A=(0,_.fb)(d.startContainer,"vditor-ir__marker--pre"))&&A.nextElementSibling.classList.contains("vditor-ir__preview")&&(A.nextElementSibling.innerHTML=A.innerHTML,he(A.nextElementSibling,o))}_e(o)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",t.push({key:":"})}return e.prototype.render=function(t){var n=this;if(window.getSelection().focusNode){var i,o=getSelection().getRangeAt(0);i=o.startContainer.textContent.substring(0,o.startOffset)||"";var s=this.getKey(i,t.options.hint.extend);if(s===void 0)this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var d=s===""?t.options.hint.emoji:t.lute.GetEmojis(),x=[];Object.keys(d).forEach(function(L){L.indexOf(s.toLowerCase())===0&&(d[L].indexOf(".")>-1?x.push({html:'<img src="'+d[L]+'" title=":'+L+':"/> :'+L+":",value:":"+L+":"}):x.push({html:'<span class="vditor-hint__emoji">'+d[L]+"</span>"+L,value:d[L]}))}),this.genHTML(x,s,t)}else t.options.hint.extend.forEach(function(L){L.key===n.splitChar&&(clearTimeout(n.timeId),n.timeId=window.setTimeout(function(){return ci(n,void 0,void 0,function(){var S;return li(this,function(A){switch(A.label){case 0:return S=this.genHTML,[4,L.hint(s)];case 1:return S.apply(this,[A.sent(),s,t]),[2]}})})},t.options.hint.delay))})}},e.prototype.genHTML=function(t,n,i){var o=this;if(t.length!==0){var s=i[i.currentMode].element,d=(0,q.Ny)(s),x=d.left+(i.options.outline.position==="left"?i.outline.element.offsetWidth:0),L=d.top,S="";t.forEach(function(I,G){if(!(G>7)){var Z=I.html;if(n!==""){var R=Z.lastIndexOf(">")+1,V=Z.substr(R),te=V.toLowerCase().indexOf(n.toLowerCase());te>-1&&(V=V.substring(0,te)+"<b>"+V.substring(te,te+n.length)+"</b>"+V.substring(te+n.length),Z=Z.substr(0,R)+V)}S+='<button data-value="'+encodeURIComponent(I.value)+` "
`+(G===0?"class='vditor-hint--current'":"")+"> "+Z+"</button>"}}),this.element.innerHTML=S;var A=parseInt(document.defaultView.getComputedStyle(s,null).getPropertyValue("line-height"),10);this.element.style.top=L+(A||22)+"px",this.element.style.left=x+"px",this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(I){I.addEventListener("click",function(G){o.fillEmoji(I,i),G.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top=L-this.element.offsetHeight+"px"),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")}else this.element.style.display="none"},e.prototype.select=function(t,n){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var i=this.element.querySelector(".vditor-hint--current");if(t.key==="ArrowDown")return t.preventDefault(),t.stopPropagation(),i.removeAttribute("class"),i.nextElementSibling?i.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(t.key==="ArrowUp"){if(t.preventDefault(),t.stopPropagation(),i.removeAttribute("class"),i.previousElementSibling)i.previousElementSibling.className="vditor-hint--current";else{var o=this.element.children.length;this.element.children[o-1].className="vditor-hint--current"}return!0}return!((0,p.yl)(t)||t.shiftKey||t.altKey||t.key!=="Enter"||t.isComposing)&&(t.preventDefault(),t.stopPropagation(),this.fillEmoji(i,n),!0)},e.prototype.getKey=function(t,n){var i,o=this;if(this.lastIndex=-1,this.splitChar="",n.forEach(function(L){var S=t.lastIndexOf(L.key);o.lastIndex<S&&(o.splitChar=L.key,o.lastIndex=S)}),this.lastIndex===-1)return i;var s=t.split(this.splitChar),d=s[s.length-1];if(s.length>1&&d.trim()===d)if(s.length===2&&s[0]===""&&s[1].length<32)i=s[1];else{var x=s[s.length-2].slice(-1);(0,c.X)(x)===" "&&d.length<32&&(i=d)}return i},e}(),di=function(){function e(t){this.composingLock=!1;var n=document.createElement("div");n.className="vditor-ir",n.innerHTML='<pre class="vditor-reset" placeholder="'+t.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>`,this.element=n.firstElementChild,this.bindEvent(t),vn(t,this.element),sr(t,this.element),gn(t,this.element),_n(t,this.element),kn(t,this.element),bn(t,this.element),yn(t,this.element,this.copy),wn(t,this.element,this.copy)}return e.prototype.copy=function(t,n){var i=getSelection().getRangeAt(0);if(i.toString()!==""){t.stopPropagation(),t.preventDefault();var o=document.createElement("div");o.appendChild(i.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorIRDOM2Md(o.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(i){Gt(t,i,{pasteCode:function(o){document.execCommand("insertHTML",!1,o)}})}),this.element.addEventListener("compositionstart",function(i){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){(0,p.vU)()||ke(t,getSelection().getRangeAt(0).cloneRange()),n.composingLock=!1}),this.element.addEventListener("input",function(i){if(i.inputType!=="deleteByDrag"&&i.inputType!=="insertFromDrop")return n.preventInput?(n.preventInput=!1,void et(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void(n.composingLock||i.data==="‘"||i.data==="“"||i.data==="《"||ke(t,getSelection().getRangeAt(0).cloneRange(),!1,i))}),this.element.addEventListener("click",function(i){if(i.target.tagName==="INPUT")return i.target.checked?i.target.setAttribute("checked","checked"):i.target.removeAttribute("checked"),n.preventInput=!0,void et(t);var o=(0,q.zh)(t),s=(0,_.fb)(i.target,"vditor-ir__preview");if(s||(s=(0,_.fb)(o.startContainer,"vditor-ir__preview")),s&&(s.previousElementSibling.firstElementChild?o.selectNodeContents(s.previousElementSibling.firstElementChild):o.selectNodeContents(s.previousElementSibling),o.collapse(!0),(0,q.Hc)(o),qe(t)),i.target.tagName==="IMG"){var d=i.target.parentElement.querySelector(".vditor-ir__marker--link");d&&(o.selectNode(d),(0,q.Hc)(o))}var x=(0,_.a1)(i.target,"data-type","a");if(!x||x.classList.contains("vditor-ir__node--expand")){if(i.target.isEqualNode(n.element)&&n.element.lastElementChild&&o.collapsed){var L=n.element.lastElementChild.getBoundingClientRect();i.y>L.top+L.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(l.g.ZWSP,"")===""?(o.selectNodeContents(n.element.lastElementChild),o.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+l.g.ZWSP+"<wbr></p>"),(0,q.ib)(n.element,o)))}o.toString()===""?W(o,t):setTimeout(function(){W((0,q.zh)(t),t)}),He(i,t),Tt(t)}else t.options.link.click?t.options.link.click(x.querySelector(":scope > .vditor-ir__marker--link")):t.options.link.isOpen&&window.open(x.querySelector(":scope > .vditor-ir__marker--link").textContent)}),this.element.addEventListener("keyup",function(i){if(!i.isComposing&&!(0,p.yl)(i))if(i.key==="Enter"&&qe(t),Tt(t),i.key!=="Backspace"&&i.key!=="Delete"||t.ir.element.innerHTML===""||t.ir.element.childNodes.length!==1||!t.ir.element.firstElementChild||t.ir.element.firstElementChild.tagName!=="P"||t.ir.element.firstElementChild.childElementCount!==0||t.ir.element.textContent!==""&&t.ir.element.textContent!==`
`){var o=(0,q.zh)(t);i.key==="Backspace"?((0,p.vU)()&&o.startContainer.textContent===`
`&&o.startOffset===1&&(o.startContainer.textContent="",W(o,t)),n.element.querySelectorAll(".language-math").forEach(function(d){var x=d.querySelector("br");x&&x.remove()})):i.key.indexOf("Arrow")>-1?(i.key!=="ArrowLeft"&&i.key!=="ArrowRight"||Mr(t),W(o,t)):i.keyCode===229&&i.code===""&&i.key==="Unidentified"&&W(o,t);var s=(0,_.fb)(o.startContainer,"vditor-ir__preview");if(s){if(i.key==="ArrowUp"||i.key==="ArrowLeft")return s.previousElementSibling.firstElementChild?o.selectNodeContents(s.previousElementSibling.firstElementChild):o.selectNodeContents(s.previousElementSibling),o.collapse(!1),i.preventDefault(),!0;if(s.tagName==="SPAN"&&(i.key==="ArrowDown"||i.key==="ArrowRight"))return s.parentElement.getAttribute("data-type")==="html-entity"?(s.parentElement.insertAdjacentText("afterend",l.g.ZWSP),o.setStart(s.parentElement.nextSibling,1)):o.selectNodeContents(s.parentElement.lastElementChild),o.collapse(!1),i.preventDefault(),!0}}else t.ir.element.innerHTML=""})},e}(),Dr=function(e){return e.currentMode==="sv"?e.lute.Md2HTML(h(e)):e.currentMode==="wysiwyg"?e.lute.VditorDOM2HTML(e.wysiwyg.element.innerHTML):e.currentMode==="ir"?e.lute.VditorIRDOM2HTML(e.ir.element.innerHTML):void 0},pi=b(895),Nr=b(818),fi=function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'+t+`</div>
<div class="vditor-outline__content"></div>`}return e.prototype.render=function(t){return t.preview.element.style.display==="block"?(0,Nr.k)(t.preview.element.lastElementChild,this.element.lastElementChild,t):(0,Nr.k)(t[t.currentMode].element,this.element.lastElementChild,t)},e.prototype.toggle=function(t,n,i){var o;n===void 0&&(n=!0),i===void 0&&(i=!0);var s=(o=t.toolbar.elements.outline)===null||o===void 0?void 0:o.firstElementChild;if(n&&window.innerWidth>=l.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(t),s==null||s.classList.add("vditor-menu--current")):(this.element.style.display="none",s==null||s.classList.remove("vditor-menu--current")),i&&getSelection().rangeCount>0){var d=getSelection().getRangeAt(0);t[t.currentMode].element.contains(d.startContainer)&&(0,q.Hc)(d)}we(t)},e}(),hi=b(554),mi=function(){function e(t){var n=this;this.element=document.createElement("div"),this.element.className="vditor-preview";var i=document.createElement("div");i.className="vditor-reset",t.options.classes.preview&&i.classList.add(t.options.classes.preview),i.style.maxWidth=t.options.preview.maxWidth+"px",i.addEventListener("copy",function(S){if(S.target.tagName!=="TEXTAREA"){var A=document.createElement("div");A.className="vditor-reset",A.appendChild(getSelection().getRangeAt(0).cloneContents()),n.copyToX(t,A),S.preventDefault()}}),i.addEventListener("click",function(S){var A=(0,_.lG)(S.target,"SPAN");if(A&&(0,_.fb)(A,"vditor-toc")){var I=i.querySelector("#"+A.getAttribute("data-target-id"));I&&(n.element.scrollTop=I.offsetTop)}else{if(S.target.tagName==="A")return t.options.link.click?t.options.link.click(S.target):t.options.link.isOpen&&window.open(S.target.getAttribute("href")),void S.preventDefault();S.target.tagName==="IMG"&&(t.options.image.preview?t.options.image.preview(S.target):t.options.image.isPreview&&(0,se.E)(S.target,t.options.lang,t.options.theme))}});var o=t.options.preview.actions,s=document.createElement("div");s.className="vditor-preview__action";for(var d=[],x=0;x<o.length;x++){var L=o[x];if(typeof L!="object")switch(L){case"desktop":d.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":d.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":d.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":d.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到公众号"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":d.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到知乎"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>')}else d.push('<button type="button" data-type="'+L.key+'" class="'+L.className+'"'+(L.tooltip?' aria-label="'+L.tooltip+'"':"")+'">'+L.text+"</button>")}s.innerHTML=d.join(""),o.length===0&&(s.style.display="none"),this.element.appendChild(s),this.element.appendChild(i),s.addEventListener((0,p.Le)(),function(S){var A=(0,j.S)(S.target,"BUTTON");if(A){var I=A.getAttribute("data-type"),G=o.find(function(Z){return(Z==null?void 0:Z.key)===I});G?G.click(I):I!=="mp-wechat"&&I!=="zhihu"?(i.style.width=I==="desktop"?"auto":I==="tablet"?"780px":"360px",i.scrollWidth>i.parentElement.clientWidth&&(i.style.width="auto"),n.render(t),s.querySelectorAll("button").forEach(function(Z){Z.classList.remove("vditor-preview__action--current")}),A.classList.add("vditor-preview__action--current")):n.copyToX(t,n.element.lastElementChild.cloneNode(!0),I)}})}return e.prototype.render=function(t,n){var i=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display!=="none")if(n)this.element.lastElementChild.innerHTML=n;else if(h(t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")!==""){var o=new Date().getTime(),s=h(t);this.mdTimeoutId=window.setTimeout(function(){if(t.options.preview.url){var d=new XMLHttpRequest;d.open("POST",t.options.preview.url),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE)if(d.status===200){var L=JSON.parse(d.responseText);if(L.code!==0)return void t.tip.show(L.msg);t.options.preview.transform&&(L.data=t.options.preview.transform(L.data)),i.element.lastElementChild.innerHTML=L.data,i.afterRender(t,o)}else{var S=t.lute.Md2HTML(s);t.options.preview.transform&&(S=t.options.preview.transform(S)),i.element.lastElementChild.innerHTML=S,i.afterRender(t,o)}},d.send(JSON.stringify({markdownText:s}))}else{var x=t.lute.Md2HTML(s);t.options.preview.transform&&(x=t.options.preview.transform(x)),i.element.lastElementChild.innerHTML=x,i.afterRender(t,o)}},t.options.preview.delay)}else this.element.lastElementChild.innerHTML="";else this.element.getAttribute("data-type")==="renderPerformance"&&t.tip.hide()},e.prototype.afterRender=function(t,n){t.options.preview.parse&&t.options.preview.parse(this.element);var i=new Date().getTime()-n;new Date().getTime()-n>2600?(t.tip.show(window.VditorI18n.performanceTip.replace("${x}",i.toString())),t.preview.element.setAttribute("data-type","renderPerformance")):t.preview.element.getAttribute("data-type")==="renderPerformance"&&(t.tip.hide(),t.preview.element.removeAttribute("data-type"));var o=t.preview.element.querySelector(".vditor-comment--focus");o&&o.classList.remove("vditor-comment--focus"),(0,ie.O)(t.preview.element.lastElementChild),(0,O.s)(t.options.preview.hljs,t.preview.element.lastElementChild,t.options.cdn),(0,U.i)(t.preview.element.lastElementChild,t.options.cdn,t.options.theme),(0,$.K)(t.preview.element.lastElementChild,t.options.cdn,t.options.theme),(0,fe.P)(t.preview.element.lastElementChild,t.options.cdn),(0,ne.v)(t.preview.element.lastElementChild,t.options.cdn),(0,F.p)(t.preview.element.lastElementChild,t.options.cdn,t.options.theme),(0,ce.P)(t.preview.element.lastElementChild,t.options.cdn,t.options.theme),(0,me.B)(t.preview.element.lastElementChild,t.options.cdn),(0,K.Q)(t.preview.element.lastElementChild,t.options.cdn),(0,hi.Y)(t.preview.element.lastElementChild);var s=t.preview.element,d=t.outline.render(t);d===""&&(d="[ToC]"),s.querySelectorAll('[data-type="toc-block"]').forEach(function(x){x.innerHTML=d,(0,B.H)(x,{cdn:t.options.cdn,math:t.options.preview.math})}),(0,B.H)(t.preview.element.lastElementChild,{cdn:t.options.cdn,math:t.options.preview.math})},e.prototype.copyToX=function(t,n,i){i===void 0&&(i="mp-wechat"),i!=="zhihu"?n.querySelectorAll(".katex-html .base").forEach(function(s){s.style.display="initial"}):n.querySelectorAll(".language-math").forEach(function(s){s.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'+s.getAttribute("data-math")+'\\" style="display: block; margin: 0 auto; max-width: 100%;">'}),n.style.backgroundColor="#fff",n.querySelectorAll("code").forEach(function(s){s.style.backgroundImage="none"}),this.element.append(n);var o=n.ownerDocument.createRange();o.selectNode(n),(0,q.Hc)(o),document.execCommand("copy"),this.element.lastElementChild.remove(),t.tip.show("已复制，可到"+(i==="zhihu"?"知乎":"微信公众号平台")+"进行粘贴")},e}(),vi=function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--"+t.options.resize.position,this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(t)}return e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("mousedown",function(i){var o=document,s=i.clientY,d=t.element.offsetHeight,x=63+t.element.querySelector(".vditor-toolbar").clientHeight;o.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),n.element.classList.add("vditor-resize--selected"),o.onmousemove=function(L){t.options.resize.position==="top"?t.element.style.height=Math.max(x,d+(s-L.clientY))+"px":t.element.style.height=Math.max(x,d+(L.clientY-s))+"px",t.options.typewriterMode&&(t.sv.element.style.paddingBottom=t.sv.element.parentElement.offsetHeight/2+"px")},o.onmouseup=function(){t.options.resize.after&&t.options.resize.after(t.element.offsetHeight-d),window.captureEvents&&window.captureEvents(),o.onmousemove=null,o.onmouseup=null,o.ondragstart=null,o.onselectstart=null,o.onselect=null,n.element.classList.remove("vditor-resize--selected")}})},e}(),gi=function(){function e(t){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",t.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(t),vn(t,this.element),gn(t,this.element),_n(t,this.element),kn(t,this.element),bn(t,this.element),yn(t,this.element,this.copy),wn(t,this.element,this.copy)}return e.prototype.copy=function(t,n){t.stopPropagation(),t.preventDefault(),t.clipboardData.setData("text/plain",Nt(n[n.currentMode].element))},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(i){Gt(t,i,{pasteCode:function(o){document.execCommand("insertHTML",!1,o)}})}),this.element.addEventListener("scroll",function(){if(t.preview.element.style.display==="block"){var i=n.element.scrollTop,o=n.element.clientHeight,s=n.element.scrollHeight-parseFloat(n.element.style.paddingBottom||"0"),d=t.preview.element;d.scrollTop=i/o>.5?(i+o)*d.scrollHeight/s-o:i*d.scrollHeight/s}}),this.element.addEventListener("compositionstart",function(i){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){(0,p.vU)()||ye(t,i),n.composingLock=!1}),this.element.addEventListener("input",function(i){if(i.inputType!=="deleteByDrag"&&i.inputType!=="insertFromDrop"&&!n.composingLock&&i.data!=="‘"&&i.data!=="“"&&i.data!=="《")return n.preventInput?(n.preventInput=!1,void Re(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void ye(t,i)}),this.element.addEventListener("keyup",function(i){i.isComposing||(0,p.yl)(i)||(i.key!=="Backspace"&&i.key!=="Delete"||t.sv.element.innerHTML===""||t.sv.element.childNodes.length!==1||!t.sv.element.firstElementChild||t.sv.element.firstElementChild.tagName!=="DIV"||t.sv.element.firstElementChild.childElementCount!==2||t.sv.element.firstElementChild.textContent!==""&&t.sv.element.textContent!==`
`?i.key==="Enter"&&qe(t):t.sv.element.innerHTML="")})},e}(),bi=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return e.prototype.show=function(t,n){var i=this;n===void 0&&(n=6e3),this.element.className="vditor-tip vditor-tip--show",n===0?(this.element.innerHTML='<div class="vditor-tip__content">'+t+`
<div class="vditor-tip__close">X</div></div>`,this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){i.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'+t+"</div>",setTimeout(function(){i.hide()},n)),this.element.removeAttribute("style"),setTimeout(function(){i.element.getBoundingClientRect().top<46&&(i.element.style.position="fixed",i.element.style.top="46px")},150)},e.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},e}(),Ln=function(e,t){if(t.options.preview.mode!==e){switch(t.options.preview.mode=e,e){case"both":t.sv.element.style.display="block",t.preview.element.style.display="block",t.preview.render(t),k(t.toolbar.elements,["both"]);break;case"editor":t.sv.element.style.display="block",t.preview.element.style.display="none",w(t.toolbar.elements,["both"])}t.devtools&&t.devtools.renderEchart(t)}},yi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),wi=function(e){function t(n,i){var o=e.call(this,n,i)||this;return n.options.preview.mode==="both"&&o.element.children[0].classList.add("vditor-menu--current"),o.element.children[0].addEventListener((0,p.Le)(),function(s){o.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)||(s.preventDefault(),n.currentMode==="sv"&&(n.options.preview.mode==="both"?Ln("editor",n):Ln("both",n)))}),o}return yi(t,e),t}(Me),_i=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"},Hr=b(312),ki=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ei=function(e){function t(n,i){var o=e.call(this,n,i)||this,s=o.element.children[0],d=document.createElement("div");d.className="vditor-hint"+(i.level===2?"":" vditor-panel--arrow");var x="";return l.g.CODE_THEME.forEach(function(L){x+="<button>"+L+"</button>"}),d.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+x+"</div>",d.addEventListener((0,p.Le)(),function(L){L.target.tagName==="BUTTON"&&(M(n,["subToolbar"]),n.options.preview.hljs.style=L.target.textContent,(0,Hr.Y)(L.target.textContent,n.options.cdn),L.preventDefault(),L.stopPropagation())}),o.element.appendChild(d),D(n,d,s,i.level),o}return ki(t,e),t}(Me),xi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ci=function(e){function t(n,i){var o=e.call(this,n,i)||this,s=o.element.children[0],d=document.createElement("div");d.className="vditor-hint"+(i.level===2?"":" vditor-panel--arrow");var x="";return Object.keys(n.options.preview.theme.list).forEach(function(L){x+='<button data-type="'+L+'">'+n.options.preview.theme.list[L]+"</button>"}),d.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+x+"</div>",d.addEventListener((0,p.Le)(),function(L){L.target.tagName==="BUTTON"&&(M(n,["subToolbar"]),n.options.preview.theme.current=L.target.getAttribute("data-type"),(0,be.Z)(n.options.preview.theme.current,n.options.preview.theme.path),L.preventDefault(),L.stopPropagation())}),o.element.appendChild(d),D(n,d,s,i.level),o}return xi(t,e),t}(Me),Si=function(){function e(t){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(t,"")}return e.prototype.render=function(t,n){var i=n.endsWith(`
`)?n.length-1:n.length;if(t.options.counter.type==="text"&&t[t.currentMode]){var o=t[t.currentMode].element.cloneNode(!0);o.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(s){s.remove()}),i=o.textContent.length}typeof t.options.counter.max=="number"?(i>t.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML=i+"/"+t.options.counter.max):this.element.innerHTML=""+i,this.element.setAttribute("aria-label",t.options.counter.type),t.options.counter.after&&t.options.counter.after(i,{enable:t.options.counter.enable,max:t.options.counter.max,type:t.options.counter.type})},e}(),Ai=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Li=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o.element.children[0].innerHTML=i.icon,o.element.children[0].addEventListener((0,p.Le)(),function(s){s.preventDefault(),s.currentTarget.classList.contains(l.g.CLASS_MENU_DISABLED)||i.click(s,n)}),o}return Ai(t,e),t}(Me),Ti=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mi=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o.element.firstElementChild.addEventListener((0,p.Le)(),function(s){var d=o.element.firstElementChild;d.classList.contains(l.g.CLASS_MENU_DISABLED)||(s.preventDefault(),d.classList.contains("vditor-menu--current")?(d.classList.remove("vditor-menu--current"),n.devtools.element.style.display="none",we(n)):(d.classList.add("vditor-menu--current"),n.devtools.element.style.display="block",we(n),n.devtools.renderEchart(n)))}),o}return Ti(t,e),t}(Me),Di=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"},Ni=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hi=function(e){function t(n,i){var o=e.call(this,n,i)||this,s=document.createElement("div");s.className="vditor-panel vditor-panel--arrow";var d="";return Object.keys(n.options.hint.emoji).forEach(function(x){var L=n.options.hint.emoji[x];L.indexOf(".")>-1?d+='<button data-value=":'+x+': " data-key=":'+x+`:"><img
data-value=":`+x+': " data-key=":'+x+':" class="vditor-emojis__icon" src="'+L+'"/></button>':d+='<button data-value="'+L+` "
 data-key="`+x+'"><span class="vditor-emojis__icon">'+L+"</span></button>"}),s.innerHTML='<div class="vditor-emojis" style="max-height: '+(n.options.height==="auto"?"auto":n.options.height-80)+'px">'+d+`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`+(n.options.hint.emojiTail||"")+`</span>
</div>`,o.element.appendChild(s),D(n,s,o.element.firstElementChild,i.level),o.bindEvent(n),o}return Ni(t,e),t.prototype.bindEvent=function(n){var i=this;this.element.lastElementChild.addEventListener((0,p.Le)(),function(o){var s=(0,j.S)(o.target,"BUTTON");if(s){o.preventDefault();var d=s.getAttribute("data-value"),x=(0,q.zh)(n),L=d;if(n.currentMode==="wysiwyg"?L=n.lute.SpinVditorDOM(d):n.currentMode==="ir"&&(L=n.lute.SpinVditorIRDOM(d)),d.indexOf(":")>-1&&n.currentMode!=="sv"){var S=document.createElement("div");S.innerHTML=L,L=S.firstElementChild.firstElementChild.outerHTML+" ",(0,q.oC)(L,n)}else x.extractContents(),x.insertNode(document.createTextNode(d));x.collapse(!1),(0,q.Hc)(x),i.element.lastElementChild.style.display="none",_e(n)}}),this.element.lastElementChild.addEventListener("mouseover",function(o){var s=(0,j.S)(o.target,"BUTTON");s&&(i.element.querySelector(".vditor-emojis__tip").innerHTML=s.getAttribute("data-key"))})},t}(Me),qr=function(e,t,n){var i=document.createElement("a");"download"in i?(i.download=n,i.style.display="none",i.href=URL.createObjectURL(new Blob([t])),document.body.appendChild(i),i.click(),i.remove()):e.tip.show(window.VditorI18n.downloadTip,0)},qi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oi=function(e){function t(n,i){var o=e.call(this,n,i)||this,s=o.element.children[0],d=document.createElement("div");return d.className="vditor-hint"+(i.level===2?"":" vditor-panel--arrow"),d.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,d.addEventListener((0,p.Le)(),function(x){var L=x.target;if(L.tagName==="BUTTON"){switch(L.getAttribute("data-type")){case"markdown":(function(S){var A=h(S);qr(S,A,A.substr(0,10)+".md")})(n);break;case"pdf":(function(S){S.tip.show(window.VditorI18n.generate,3800);var A=document.querySelector("#vditorExportIframe");A.contentDocument.open(),A.contentDocument.write('<link rel="stylesheet" href="'+S.options.cdn+`/dist/index.css"/>
<script src="`+S.options.cdn+`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    markdown: {
      theme: "`+S.options.preview.theme+`"
    },
    hljs: {
      style: "`+S.options.preview.hljs.style+`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`),A.contentDocument.close(),setTimeout(function(){A.contentWindow.postMessage(h(S),"*")},200)})(n);break;case"html":(function(S){var A=Dr(S),I='<html><head><link rel="stylesheet" type="text/css" href="'+S.options.cdn+`/dist/index.css"/>
<script src="`+S.options.cdn+"/dist/js/i18n/"+S.options.lang+`.js"><\/script>
<script src="`+S.options.cdn+`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`+A+`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`+S.options.preview.theme.current+"', '"+S.options.preview.theme.path+`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`+JSON.stringify(S.options.preview.hljs)+", previewElement, '"+S.options.cdn+`');
    Vditor.mathRender(previewElement, {
        cdn: '`+S.options.cdn+`',
        math: `+JSON.stringify(S.options.preview.math)+`,
    });
    Vditor.mermaidRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.markmapRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.flowchartRender(previewElement, '`+S.options.cdn+`');
    Vditor.graphvizRender(previewElement, '`+S.options.cdn+`');
    Vditor.chartRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.mindmapRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.abcRender(previewElement, '`+S.options.cdn+`');
    Vditor.mediaRender(previewElement);
    Vditor.speechRender(previewElement);
<\/script>
<script src="`+S.options.cdn+"/dist/js/icons/"+S.options.icon+'.js"><\/script></body></html>';qr(S,I,A.substr(0,10)+".html")})(n)}M(n,["subToolbar"]),x.preventDefault(),x.stopPropagation()}}),o.element.appendChild(d),D(n,d,s,i.level),o}return qi(t,e),t}(Me),Ri=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ii=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o._bindEvent(n,i),o}return Ri(t,e),t.prototype._bindEvent=function(n,i){this.element.children[0].addEventListener((0,p.Le)(),function(o){o.preventDefault(),n.element.className.includes("vditor--fullscreen")?(i.level||(this.innerHTML=i.icon),n.element.style.zIndex="",document.body.style.overflow="",n.element.classList.remove("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(s){var d=n.toolbar.elements[s].firstChild;d&&(d.className=d.className.replace("__s","__n"))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__s","__n"))):(i.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),n.element.style.zIndex=n.options.fullscreen.index.toString(),document.body.style.overflow="hidden",n.element.classList.add("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(s){var d=n.toolbar.elements[s].firstChild;d&&(d.className=d.className.replace("__n","__s"))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__n","__s"))),n.devtools&&n.devtools.renderEchart(n),i.click&&i.click(o,n),we(n),Ce(n)})},t}(Me),Pi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ji=function(e){function t(n,i){var o=e.call(this,n,i)||this,s=document.createElement("div");return s.className="vditor-hint vditor-panel--arrow",s.innerHTML='<button data-tag="h1" data-value="# ">'+window.VditorI18n.heading1+" "+(0,p.ns)("&lt;⌥⌘1>")+`</button>
<button data-tag="h2" data-value="## ">`+window.VditorI18n.heading2+" &lt;"+(0,p.ns)("⌥⌘2")+`></button>
<button data-tag="h3" data-value="### ">`+window.VditorI18n.heading3+" &lt;"+(0,p.ns)("⌥⌘3")+`></button>
<button data-tag="h4" data-value="#### ">`+window.VditorI18n.heading4+" &lt;"+(0,p.ns)("⌥⌘4")+`></button>
<button data-tag="h5" data-value="##### ">`+window.VditorI18n.heading5+" &lt;"+(0,p.ns)("⌥⌘5")+`></button>
<button data-tag="h6" data-value="###### ">`+window.VditorI18n.heading6+" &lt;"+(0,p.ns)("⌥⌘6")+"></button>",o.element.appendChild(s),o._bindEvent(n,s),o}return Pi(t,e),t.prototype._bindEvent=function(n,i){var o=this.element.children[0];o.addEventListener((0,p.Le)(),function(d){d.preventDefault(),o.classList.contains(l.g.CLASS_MENU_DISABLED)||(o.blur(),o.classList.contains("vditor-menu--current")?(n.currentMode==="wysiwyg"?(hn(n),Le(n)):n.currentMode==="ir"&&qt(n,""),o.classList.remove("vditor-menu--current")):(M(n,["subToolbar"]),i.style.display="block"))});for(var s=0;s<6;s++)i.children.item(s).addEventListener((0,p.Le)(),function(d){d.preventDefault(),n.currentMode==="wysiwyg"?(jt(n,d.target.getAttribute("data-tag")),Le(n),o.classList.add("vditor-menu--current")):n.currentMode==="ir"?(qt(n,d.target.getAttribute("data-value")),o.classList.add("vditor-menu--current")):lr(n,d.target.getAttribute("data-value")),i.style.display="none"})},t}(Me),Bi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fi=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o.element.children[0].addEventListener((0,p.Le)(),function(s){s.preventDefault(),n.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown 使用指南</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">语法速查手册</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">基础语法</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">扩展语法</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">键盘快捷键</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor 支持</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">官方讨论区</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">开发手册</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">演示地址</a></li>
    </ul>
</div></div>`,0)}),o}return Bi(t,e),t}(Me),zi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ui=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o.element.children[0].addEventListener((0,p.Le)(),function(s){if(s.preventDefault(),!o.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)&&n.currentMode!=="sv"){var d=(0,q.zh)(n),x=(0,_.lG)(d.startContainer,"LI");x&&vr(n,x,d)}}),o}return zi(t,e),t}(Me),Vi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),$i=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o.element.children[0].addEventListener((0,p.Le)(),function(s){s.preventDefault(),n.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>下一代的 Markdown 编辑器，为未来而构建</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor 是一款浏览器端的 Markdown 编辑器，支持所见即所得、即时渲染（类似 Typora）和分屏预览模式。
        它使用 TypeScript 实现，支持原生 JavaScript 以及 Vue、React、Angular 和 Svelte 等框架。
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        项目地址：<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        开源协议：MIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        组件版本：Vditor v`+l.H+" / Lute v"+Lute.Version+`
        </li>
        <li>
        赞助捐赠：<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`,0)}),o}return Vi(t,e),t}(Me),Gi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wi=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o.element.children[0].addEventListener((0,p.Le)(),function(s){s.preventDefault(),o.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)||n.currentMode==="sv"||zt(n,"afterend")}),o}return Gi(t,e),t}(Me),Ki=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zi=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o.element.children[0].addEventListener((0,p.Le)(),function(s){s.preventDefault(),o.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)||n.currentMode==="sv"||zt(n,"beforebegin")}),o}return Ki(t,e),t}(Me),Yi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ji=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o.element.children[0].addEventListener((0,p.Le)(),function(s){if(s.preventDefault(),!o.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)&&n.currentMode!=="sv"){var d=(0,q.zh)(n),x=(0,_.lG)(d.startContainer,"LI");x&&xn(n,x,d,x.parentElement)}}),o}return Yi(t,e),t}(Me),Xi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qi=function(e){function t(n,i){var o=e.call(this,n,i)||this;return n.options.outline&&o.element.firstElementChild.classList.add("vditor-menu--current"),o.element.children[0].addEventListener((0,p.Le)(),function(s){s.preventDefault(),n.toolbar.elements.outline.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)||(n.options.outline.enable=!o.element.firstElementChild.classList.contains("vditor-menu--current"),n.outline.toggle(n,n.options.outline.enable))}),o}return Xi(t,e),t}(Me),es=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ts=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o._bindEvent(n),o}return es(t,e),t.prototype._bindEvent=function(n){var i=this;this.element.children[0].addEventListener((0,p.Le)(),function(o){o.preventDefault();var s=i.element.firstElementChild;if(!s.classList.contains(l.g.CLASS_MENU_DISABLED)){var d=l.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);s.classList.contains("vditor-menu--current")?(s.classList.remove("vditor-menu--current"),n.currentMode==="sv"?(n.sv.element.style.display="block",n.options.preview.mode==="both"?n.preview.element.style.display="block":n.preview.element.style.display="none"):(n[n.currentMode].element.parentElement.style.display="block",n.preview.element.style.display="none"),C(n.toolbar.elements,d),n.outline.render(n)):(N(n.toolbar.elements,d),n.preview.element.style.display="block",n.currentMode==="sv"?n.sv.element.style.display="none":n[n.currentMode].element.parentElement.style.display="none",n.preview.render(n),s.classList.add("vditor-menu--current"),M(n,["subToolbar","hint","popover"]),setTimeout(function(){n.outline.render(n)},n.options.preview.delay+10)),we(n)}})},t}(Me),ns=function(){function e(t){var n;if(this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0,typeof AudioContext<"u")n=new AudioContext;else{if(!webkitAudioContext)return;n=new webkitAudioContext}this.DEFAULT_SAMPLE_RATE=n.sampleRate;var i=n.createGain();n.createMediaStreamSource(t).connect(i),this.recorder=n.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,i.connect(this.recorder),this.recorder.connect(n.destination),this.readyFlag=!0}return e.prototype.cloneChannelData=function(t,n){this.leftChannel.push(new Float32Array(t)),this.rightChannel.push(new Float32Array(n)),this.recordingLength+=2048},e.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},e.prototype.stopRecording=function(){this.isRecording=!1},e.prototype.buildWavFileBlob=function(){for(var t=this.mergeBuffers(this.leftChannel),n=this.mergeBuffers(this.rightChannel),i=new Float32Array(t.length),o=0;o<t.length;++o)i[o]=.5*(t[o]+n[o]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(i=this.downSampleBuffer(i,this.SAMPLE_RATE));var s=44+2*i.length,d=new ArrayBuffer(s),x=new DataView(d);this.writeUTFBytes(x,0,"RIFF"),x.setUint32(4,s,!0),this.writeUTFBytes(x,8,"WAVE"),this.writeUTFBytes(x,12,"fmt "),x.setUint32(16,16,!0),x.setUint16(20,1,!0),x.setUint16(22,1,!0),x.setUint32(24,this.SAMPLE_RATE,!0),x.setUint32(28,2*this.SAMPLE_RATE,!0),x.setUint16(32,2,!0),x.setUint16(34,16,!0);var L=2*i.length;this.writeUTFBytes(x,36,"data"),x.setUint32(40,L,!0);for(var S=i.length,A=44,I=0;I<S;I++)x.setInt16(A,32767*i[I],!0),A+=2;return new Blob([x],{type:"audio/wav"})},e.prototype.downSampleBuffer=function(t,n){if(n===this.DEFAULT_SAMPLE_RATE||n>this.DEFAULT_SAMPLE_RATE)return t;for(var i=this.DEFAULT_SAMPLE_RATE/n,o=Math.round(t.length/i),s=new Float32Array(o),d=0,x=0;d<s.length;){for(var L=Math.round((d+1)*i),S=0,A=0,I=x;I<L&&I<t.length;I++)S+=t[I],A++;s[d]=S/A,d++,x=L}return s},e.prototype.mergeBuffers=function(t){for(var n=new Float32Array(this.recordingLength),i=0,o=t.length,s=0;s<o;++s){var d=t[s];n.set(d,i),i+=d.length}return n},e.prototype.writeUTFBytes=function(t,n,i){for(var o=i.length,s=0;s<o;s++)t.setUint8(n+s,i.charCodeAt(s))},e}(),rs=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),os=function(e){function t(n,i){var o=e.call(this,n,i)||this;return o._bindEvent(n),o}return rs(t,e),t.prototype._bindEvent=function(n){var i,o=this;this.element.children[0].addEventListener((0,p.Le)(),function(s){if(s.preventDefault(),!o.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)){var d=n[n.currentMode].element;if(i)if(i.isRecording){i.stopRecording(),n.tip.hide();var x=new File([i.buildWavFileBlob()],"record"+new Date().getTime()+".wav",{type:"video/webm"});En(n,[x]),o.element.children[0].classList.remove("vditor-menu--current")}else n.tip.show(window.VditorI18n.recording),d.setAttribute("contenteditable","false"),i.startRecordingNewWavFile(),o.element.children[0].classList.add("vditor-menu--current");else navigator.mediaDevices.getUserMedia({audio:!0}).then(function(L){(i=new ns(L)).recorder.onaudioprocess=function(S){if(i.isRecording){var A=S.inputBuffer.getChannelData(0),I=S.inputBuffer.getChannelData(1);i.cloneChannelData(A,I)}},i.startRecordingNewWavFile(),n.tip.show(window.VditorI18n.recording),d.setAttribute("contenteditable","false"),o.element.children[0].classList.add("vditor-menu--current")}).catch(function(){n.tip.show(window.VditorI18n["record-tip"])})}})},t}(Me),is=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ss=function(e){function t(n,i){var o=e.call(this,n,i)||this;return N({redo:o.element},["redo"]),o.element.children[0].addEventListener((0,p.Le)(),function(s){s.preventDefault(),o.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)||n.undo.redo(n)}),o}return is(t,e),t}(Me),as=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),cs=function(e){function t(n,i){var o=e.call(this,n,i)||this;return N({undo:o.element},["undo"]),o.element.children[0].addEventListener((0,p.Le)(),function(s){s.preventDefault(),o.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED)||n.undo.undo(n)}),o}return as(t,e),t}(Me),ls=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),us=function(e){function t(n,i){var o=e.call(this,n,i)||this,s='<input type="file"';return n.options.upload.multiple&&(s+=' multiple="multiple"'),n.options.upload.accept&&(s+=' accept="'+n.options.upload.accept+'"'),o.element.children[0].innerHTML=""+(i.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>')+s+">",o._bindEvent(n),o}return ls(t,e),t.prototype._bindEvent=function(n){var i=this;this.element.children[0].addEventListener((0,p.Le)(),function(o){if(i.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED))return o.stopPropagation(),void o.preventDefault()}),this.element.querySelector("input").addEventListener("change",function(o){if(i.element.firstElementChild.classList.contains(l.g.CLASS_MENU_DISABLED))return o.stopPropagation(),void o.preventDefault();o.target.files.length!==0&&En(n,o.target.files,o.target)})},t}(Me),ds=function(){function e(t){var n=this,i=t.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",i.toolbar.forEach(function(o,s){var d=n.genItem(t,o,s);if(n.element.appendChild(d),o.toolbar){var x=document.createElement("div");x.className="vditor-hint vditor-panel--arrow",x.addEventListener((0,p.Le)(),function(L){x.style.display="none"}),o.toolbar.forEach(function(L,S){L.level=2,x.appendChild(n.genItem(t,L,s+S))}),d.appendChild(x),D(t,x,d.children[0])}}),t.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),t.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),t.options.counter.enable&&(t.counter=new Si(t),this.element.appendChild(t.counter.element))}return e.prototype.genItem=function(t,n,i){var o;switch(n.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":o=new Me(t,n);break;case"emoji":o=new Hi(t,n);break;case"headings":o=new ji(t,n);break;case"|":o=new Di;break;case"br":o=new _i;break;case"undo":o=new cs(t,n);break;case"redo":o=new ss(t,n);break;case"help":o=new Fi(t,n);break;case"both":o=new wi(t,n);break;case"preview":o=new ts(t,n);break;case"fullscreen":o=new Ii(t,n);break;case"upload":o=new us(t,n);break;case"record":o=new os(t,n);break;case"info":o=new $i(t,n);break;case"edit-mode":o=new Yo(t,n);break;case"devtools":o=new Mi(t,n);break;case"outdent":o=new Ji(t,n);break;case"indent":o=new Ui(t,n);break;case"outline":o=new Qi(t,n);break;case"insert-after":o=new Wi(t,n);break;case"insert-before":o=new Zi(t,n);break;case"code-theme":o=new Ei(t,n);break;case"content-theme":o=new Ci(t,n);break;case"export":o=new Oi(t,n);break;default:o=new Li(t,n)}if(o){var s=n.name;return s!=="br"&&s!=="|"||(s+=i),this.elements[s]=o.element,o.element}},e}(),ps=b(760),fs=function(){function e(){this.stackSize=50,this.resetStack(),this.dmp=new ps}return e.prototype.clearStack=function(t){this.resetStack(),this.resetIcon(t)},e.prototype.resetIcon=function(t){t.toolbar&&(this[t.currentMode].undoStack.length>1?C(t.toolbar.elements,["undo"]):N(t.toolbar.elements,["undo"]),this[t.currentMode].redoStack.length!==0?C(t.toolbar.elements,["redo"]):N(t.toolbar.elements,["redo"]))},e.prototype.undo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[t.currentMode].undoStack.length<2)){var n=this[t.currentMode].undoStack.pop();n&&(this[t.currentMode].redoStack.push(n),this.renderDiff(n,t),this[t.currentMode].hasUndo=!0,M(t,["hint"]))}},e.prototype.redo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"){var n=this[t.currentMode].redoStack.pop();n&&(this[t.currentMode].undoStack.push(n),this.renderDiff(n,t,!0))}},e.prototype.recordFirstPosition=function(t,n){if(getSelection().rangeCount!==0&&!(this[t.currentMode].undoStack.length!==1||this[t.currentMode].undoStack[0].length===0||this[t.currentMode].redoStack.length>0||(0,p.vU)()&&n.key==="Backspace"||(0,p.G6)())){var i=this.addCaret(t);i.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[t.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[t.currentMode].undoStack[0][0].diffs[0][1]=i,this[t.currentMode].lastText=i)}},e.prototype.addToUndoStack=function(t){var n=this.addCaret(t,!0),i=this.dmp.diff_main(n,this[t.currentMode].lastText,!0),o=this.dmp.patch_make(n,this[t.currentMode].lastText,i);o.length===0&&this[t.currentMode].undoStack.length>0||(this[t.currentMode].lastText=n,this[t.currentMode].undoStack.push(o),this[t.currentMode].undoStack.length>this.stackSize&&this[t.currentMode].undoStack.shift(),this[t.currentMode].hasUndo&&(this[t.currentMode].redoStack=[],this[t.currentMode].hasUndo=!1,N(t.toolbar.elements,["redo"])),this[t.currentMode].undoStack.length>1&&C(t.toolbar.elements,["undo"]))},e.prototype.renderDiff=function(t,n,i){var o;if(i===void 0&&(i=!1),i){var s=this.dmp.patch_deepCopy(t).reverse();s.forEach(function(x){x.diffs.forEach(function(L){L[0]=-L[0]})}),o=this.dmp.patch_apply(s,this[n.currentMode].lastText)[0]}else o=this.dmp.patch_apply(t,this[n.currentMode].lastText)[0];if(this[n.currentMode].lastText=o,n[n.currentMode].element.innerHTML=o,n.currentMode!=="sv"&&n[n.currentMode].element.querySelectorAll(".vditor-"+n.currentMode+"__preview[data-render='2']").forEach(function(x){he(x,n)}),n[n.currentMode].element.querySelector("wbr"))(0,q.ib)(n[n.currentMode].element,n[n.currentMode].element.ownerDocument.createRange()),qe(n);else{var d=getSelection().getRangeAt(0);d.setEndBefore(n[n.currentMode].element),d.collapse(!1)}Ee(n),_e(n,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),vt(n),n[n.currentMode].element.querySelectorAll(".vditor-"+n.currentMode+"__preview[data-render='2']").forEach(function(x){he(x,n)}),this[n.currentMode].undoStack.length>1?C(n.toolbar.elements,["undo"]):N(n.toolbar.elements,["undo"]),this[n.currentMode].redoStack.length!==0?C(n.toolbar.elements,["redo"]):N(n.toolbar.elements,["redo"])},e.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},e.prototype.addCaret=function(t,n){var i;if(n===void 0&&(n=!1),getSelection().rangeCount!==0&&!t[t.currentMode].element.querySelector("wbr")){var o=getSelection().getRangeAt(0);if(t[t.currentMode].element.contains(o.startContainer)){i=o.cloneRange();var s=document.createElement("span");s.className="vditor-wbr",o.insertNode(s)}}t.ir.element.cloneNode(!0).querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='1']").forEach(function(x){(x.firstElementChild.classList.contains("language-echarts")||x.firstElementChild.classList.contains("language-plantuml")||x.firstElementChild.classList.contains("language-mindmap"))&&(x.firstElementChild.removeAttribute("_echarts_instance_"),x.firstElementChild.removeAttribute("data-processed"),x.firstElementChild.innerHTML=x.previousElementSibling.firstElementChild.innerHTML,x.setAttribute("data-render","2")),x.firstElementChild.classList.contains("language-math")&&(x.setAttribute("data-render","2"),x.firstElementChild.textContent=x.firstElementChild.getAttribute("data-math"),x.firstElementChild.removeAttribute("data-math"))});var d=t[t.currentMode].element.innerHTML;return t[t.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(x){x.remove()}),n&&i&&(0,q.Hc)(i),d.replace('<span class="vditor-wbr"></span>',"<wbr>")},e}(),hs=b(640),ms=function(){function e(t){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:l.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"👍","-1":"👎",confused:"😕",eyes:"👀️",heart:"❤️",rocket:"🚀️",smile:"😄",tada:"🎉️"},emojiPath:l.g.CDN+"/dist/images/emoji",extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:l.g.HLJS_OPTIONS,markdown:l.g.MARKDOWN_OPTIONS,math:l.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:l.g.THEME_OPTIONS},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(n){return n.replace(/\W/g,"")},linkToImgUrl:"",max:10485760,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=t}return e.prototype.merge=function(){var t,n,i;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((n=(t=this.options.preview)===null||t===void 0?void 0:t.theme)===null||n===void 0)&&n.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((i=this.options.hint)===null||i===void 0)&&i.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment));var o=(0,hs.T)(this.defaultOptions,this.options);if(o.cache.enable&&!o.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return o},e.prototype.mergeToolbar=function(t){var n=this,i=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"⌘E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"⌘H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"⌘B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"⌘I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"⌘D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"⌘K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"⌘L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"⌘O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"⌘J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"⇧⌘I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"⇧⌘O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"⌘;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"⇧⌘H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"⌘U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"⌘G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"⇧⌘B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"⇧⌘E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"⌘M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"⌘Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"⌘Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"⌘'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"⌘P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],o=[];return t.forEach(function(s){var d=s;i.forEach(function(x){typeof s=="string"&&x.name===s&&(d=x),typeof s=="object"&&x.name===s.name&&(d=Object.assign({},x,s))}),s.toolbar&&(d.toolbar=n.mergeToolbar(s.toolbar)),o.push(d)}),o},e}(),vs=function(){function e(t){var n=this;this.composingLock=!1,this.commentIds=[];var i=document.createElement("div");i.className="vditor-wysiwyg",i.innerHTML='<pre class="vditor-reset" placeholder="'+t.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`+window.VditorI18n.comment+`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`,this.element=i.firstElementChild,this.popover=i.firstElementChild.nextElementSibling,this.selectPopover=i.lastElementChild,this.bindEvent(t),vn(t,this.element),sr(t,this.element),gn(t,this.element),_n(t,this.element),kn(t,this.element),bn(t,this.element),yn(t,this.element,this.copy),wn(t,this.element,this.copy),t.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var o,s,d=Lute.NewNodeID(),x=getSelection().getRangeAt(0),L=x.cloneRange(),S=x.extractContents(),A=!1,I=!1;S.childNodes.forEach(function(R,V){var te=!1;if(R.nodeType===3?te=!0:R.classList.contains("vditor-comment")?R.classList.contains("vditor-comment")&&R.setAttribute("data-cmtids",R.getAttribute("data-cmtids")+" "+d):te=!0,te)if(R.nodeType!==3&&R.getAttribute("data-block")==="0"&&V===0&&L.startOffset>0)R.innerHTML='<span class="vditor-comment" data-cmtids="'+d+'">'+R.innerHTML+"</span>",o=R;else if(R.nodeType!==3&&R.getAttribute("data-block")==="0"&&V===S.childNodes.length-1&&L.endOffset<L.endContainer.textContent.length)R.innerHTML='<span class="vditor-comment" data-cmtids="'+d+'">'+R.innerHTML+"</span>",s=R;else if(R.nodeType!==3&&R.getAttribute("data-block")==="0")V===0?A=!0:V===S.childNodes.length-1&&(I=!0),R.innerHTML='<span class="vditor-comment" data-cmtids="'+d+'">'+R.innerHTML+"</span>";else{var ee=document.createElement("span");ee.classList.add("vditor-comment"),ee.setAttribute("data-cmtids",d),R.parentNode.insertBefore(ee,R),ee.appendChild(R)}});var G=(0,_.F9)(L.startContainer);G&&(o?(G.insertAdjacentHTML("beforeend",o.innerHTML),o.remove()):G.textContent.trim().replace(l.g.ZWSP,"")===""&&A&&G.remove());var Z=(0,_.F9)(L.endContainer);Z&&(s?(Z.insertAdjacentHTML("afterbegin",s.innerHTML),s.remove()):Z.textContent.trim().replace(l.g.ZWSP,"")===""&&I&&Z.remove()),x.insertNode(S),t.options.comment.add(d,x.toString(),n.getComments(t,!0)),Le(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),n.hideComment()})}return e.prototype.getComments=function(t,n){var i=this;if(n===void 0&&(n=!1),t.currentMode!=="wysiwyg"||!t.options.comment.enable)return[];this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(s){i.commentIds=i.commentIds.concat(s.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var o=[];return n?(this.commentIds.forEach(function(s){o.push({id:s,top:i.element.querySelector('.vditor-comment[data-cmtids="'+s+'"]').offsetTop})}),o):void 0},e.prototype.triggerRemoveComment=function(t){var n,i,o;if(t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.wysiwyg.commentIds.length>0){var s=JSON.parse(JSON.stringify(this.commentIds));this.getComments(t);var d=(n=s,i=this.commentIds,o=new Set(i),n.filter(function(x){return!o.has(x)}));d.length>0&&t.options.comment.remove(d)}},e.prototype.showComment=function(){var t=(0,q.Ny)(this.element);this.selectPopover.setAttribute("style","left:"+t.left+"px;display:block;top:"+Math.max(-8,t.top-21)+"px")},e.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},e.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},e.prototype.copy=function(t,n){var i=getSelection().getRangeAt(0);if(i.toString()!==""){t.stopPropagation(),t.preventDefault();var o=(0,_.lG)(i.startContainer,"CODE"),s=(0,_.lG)(i.endContainer,"CODE");if(o&&s&&s.isSameNode(o)){var d="";return d=o.parentElement.tagName==="PRE"?i.toString():"`"+i.toString()+"`",t.clipboardData.setData("text/plain",d),void t.clipboardData.setData("text/html","")}var x=(0,_.lG)(i.startContainer,"A"),L=(0,_.lG)(i.endContainer,"A");if(x&&L&&L.isSameNode(x)){var S=x.getAttribute("title")||"";return S&&(S=' "'+S+'"'),t.clipboardData.setData("text/plain","["+i.toString()+"]("+x.getAttribute("href")+S+")"),void t.clipboardData.setData("text/html","")}var A=document.createElement("div");A.appendChild(i.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorDOM2Md(A.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(M(t,["hint"]),n.popover.style.display==="block"&&n.selectPopover.style.display==="block"){var i=parseInt(n.popover.getAttribute("data-top"),10);if(t.options.height==="auto"){if(t.options.toolbarConfig.pin){var o=Math.max(i,window.scrollY-t.element.offsetTop-8)+"px";n.popover.style.display==="block"&&(n.popover.style.top=o),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=o)}}else if(t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0){var s=Math.max(window.scrollY-t.element.offsetTop-8,Math.min(i-t.wysiwyg.element.scrollTop,n.element.clientHeight-21))+"px";n.popover.style.display==="block"&&(n.popover.style.top=s),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=s)}}}),this.element.addEventListener("scroll",function(){if(M(t,["hint"]),t.options.comment&&t.options.comment.enable&&t.options.comment.scroll&&t.options.comment.scroll(t.wysiwyg.element.scrollTop),n.popover.style.display==="block"){var i=parseInt(n.popover.getAttribute("data-top"),10)-t.wysiwyg.element.scrollTop,o=-8;t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0&&(o=window.scrollY-t.element.offsetTop+o);var s=Math.max(o,Math.min(i,n.element.clientHeight-21))+"px";n.popover.style.top=s,n.selectPopover.style.top=s}}),this.element.addEventListener("paste",function(i){Gt(t,i,{pasteCode:function(o){var s=(0,q.zh)(t),d=document.createElement("template");d.innerHTML=o,s.insertNode(d.content.cloneNode(!0));var x=(0,_.a1)(s.startContainer,"data-block","0");x?x.outerHTML=t.lute.SpinVditorDOM(x.outerHTML):t.wysiwyg.element.innerHTML=t.lute.SpinVditorDOM(t.wysiwyg.element.innerHTML),(0,q.ib)(t.wysiwyg.element,s)}})}),this.element.addEventListener("compositionstart",function(){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){var o=(0,j.W)(getSelection().getRangeAt(0).startContainer);o&&o.textContent===""?Ee(t):((0,p.vU)()||Ft(t,getSelection().getRangeAt(0).cloneRange(),i),n.composingLock=!1)}),this.element.addEventListener("input",function(i){if(i.inputType!=="deleteByDrag"&&i.inputType!=="insertFromDrop"){if(n.preventInput)return n.preventInput=!1,void Le(t);if(n.composingLock||i.data==="‘"||i.data==="“"||i.data==="《")Le(t);else{var o=getSelection().getRangeAt(0),s=(0,_.F9)(o.startContainer);if(s||(rr(t,o),s=(0,_.F9)(o.startContainer)),s){for(var d=(0,q.im)(s,t.wysiwyg.element,o).start,x=!0,L=d-1;L>s.textContent.substr(0,d).lastIndexOf(`
`);L--)if(s.textContent.charAt(L)!==" "&&s.textContent.charAt(L)!=="	"){x=!1;break}d===0&&(x=!1);var S=!0;for(L=d-1;L<s.textContent.length;L++)if(s.textContent.charAt(L)!==" "&&s.textContent.charAt(L)!==`
`){S=!1;break}var A=(0,j.W)(getSelection().getRangeAt(0).startContainer);A&&A.textContent===""&&(Ee(t),A.remove()),x&&s.getAttribute("data-type")!=="code-block"||S||Sn(s.innerHTML)||Cn(s.innerHTML)&&s.previousElementSibling?typeof t.options.input=="function"&&t.options.input(h(t)):Ft(t,o,i)}}}}),this.element.addEventListener("click",function(i){if(i.target.tagName==="INPUT"){var o=i.target;return o.checked?o.setAttribute("checked","checked"):o.removeAttribute("checked"),n.preventInput=!0,void Le(t)}if(i.target.tagName!=="IMG"||i.target.parentElement.classList.contains("vditor-wysiwyg__preview")){if(i.target.tagName==="A")return t.options.link.click?t.options.link.click(i.target):t.options.link.isOpen&&window.open(i.target.getAttribute("href")),void i.preventDefault();var s=(0,q.zh)(t);if(i.target.isEqualNode(n.element)&&n.element.lastElementChild&&s.collapsed){var d=n.element.lastElementChild.getBoundingClientRect();i.y>d.top+d.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(l.g.ZWSP,"")===""?(s.selectNodeContents(n.element.lastElementChild),s.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+l.g.ZWSP+"<wbr></p>"),(0,q.ib)(n.element,s)))}at(t);var x=(0,_.fb)(i.target,"vditor-wysiwyg__preview");x||(x=(0,_.fb)((0,q.zh)(t).startContainer,"vditor-wysiwyg__preview")),x&&Mt(x,t),He(i,t)}else i.target.getAttribute("data-type")==="link-ref"?or(t,i.target):function(L,S){var A=L.target;S.wysiwyg.popover.innerHTML="";var I=function(){A.setAttribute("src",Z.value),A.setAttribute("alt",V.value),A.setAttribute("title",ee.value)},G=document.createElement("span");G.setAttribute("aria-label",window.VditorI18n.imageURL),G.className="vditor-tooltipped vditor-tooltipped__n";var Z=document.createElement("input");G.appendChild(Z),Z.className="vditor-input",Z.setAttribute("placeholder",window.VditorI18n.imageURL),Z.value=A.getAttribute("src")||"",Z.oninput=function(){I()},Z.onkeydown=function(Q){Fe(S,Q)};var R=document.createElement("span");R.setAttribute("aria-label",window.VditorI18n.alternateText),R.className="vditor-tooltipped vditor-tooltipped__n";var V=document.createElement("input");R.appendChild(V),V.className="vditor-input",V.setAttribute("placeholder",window.VditorI18n.alternateText),V.style.width="52px",V.value=A.getAttribute("alt")||"",V.oninput=function(){I()},V.onkeydown=function(Q){Fe(S,Q)};var te=document.createElement("span");te.setAttribute("aria-label",window.VditorI18n.title),te.className="vditor-tooltipped vditor-tooltipped__n";var ee=document.createElement("input");te.appendChild(ee),ee.className="vditor-input",ee.setAttribute("placeholder",window.VditorI18n.title),ee.value=A.getAttribute("title")||"",ee.oninput=function(){I()},ee.onkeydown=function(Q){Fe(S,Q)},$e(A,S),S.wysiwyg.popover.insertAdjacentElement("beforeend",G),S.wysiwyg.popover.insertAdjacentElement("beforeend",R),S.wysiwyg.popover.insertAdjacentElement("beforeend",te),Ve(S,A)}(i,t)}),this.element.addEventListener("keyup",function(i){if(!i.isComposing&&!(0,p.yl)(i)){i.key==="Enter"&&qe(t),i.key!=="Backspace"&&i.key!=="Delete"||t.wysiwyg.element.innerHTML===""||t.wysiwyg.element.childNodes.length!==1||!t.wysiwyg.element.firstElementChild||t.wysiwyg.element.firstElementChild.tagName!=="P"||t.wysiwyg.element.firstElementChild.childElementCount!==0||t.wysiwyg.element.textContent!==""&&t.wysiwyg.element.textContent!==`
`||(t.wysiwyg.element.innerHTML="");var o=(0,q.zh)(t);if(i.key==="Backspace"&&(0,p.vU)()&&o.startContainer.textContent===`
`&&o.startOffset===1&&(o.startContainer.textContent=""),rr(t,o),at(t),i.key==="ArrowDown"||i.key==="ArrowRight"||i.key==="Backspace"||i.key==="ArrowLeft"||i.key==="ArrowUp"){i.key!=="ArrowLeft"&&i.key!=="ArrowRight"||t.hint.render(t);var s=(0,_.fb)(o.startContainer,"vditor-wysiwyg__preview");if(!s&&o.startContainer.nodeType!==3&&o.startOffset>0&&(x=o.startContainer).classList.contains("vditor-wysiwyg__block")&&(s=x.lastElementChild),s)if(s.previousElementSibling.style.display!=="none"){var d=s.previousElementSibling;if(d.tagName==="PRE"&&(d=d.firstElementChild),i.key==="ArrowDown"||i.key==="ArrowRight"){var x,L=function(A){for(var I=A;I&&!I.nextSibling;)I=I.parentElement;return I.nextSibling}(x=s.parentElement);if(L&&L.nodeType!==3){var S=L.querySelector(".vditor-wysiwyg__preview");if(S)return void Mt(S,t)}if(L.nodeType===3){for(;L.textContent.length===0&&L.nextSibling;)L=L.nextSibling;o.setStart(L,1)}else o.setStart(L.firstChild,0)}else o.selectNodeContents(d),o.collapse(!1)}else i.key==="ArrowDown"||i.key==="ArrowRight"?Mt(s,t):Mt(s,t,!1)}}})},e}(),gs=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();const bs=function(e){function t(n,i){var o=e.call(this)||this;o.version=l.H,typeof n=="string"&&(i?i.cache?i.cache.id||(i.cache.id="vditor"+n):i.cache={id:"vditor"+n}:i={cache:{id:"vditor"+n}},n=document.getElementById(n));var s=new ms(i).merge();if(s.i18n)window.VditorI18n=s.i18n,o.init(n,s);else{if(!["en_US","ja_JP","ko_KR","ru_RU","zh_CN","zh_TW"].includes(s.lang))throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");var d="vditorI18nScript",x=d+s.lang;document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach(function(L){L.id!==x&&document.head.removeChild(L)}),(0,f.G)(s.cdn+"/dist/js/i18n/"+s.lang+".js",x).then(function(){o.init(n,s)})}return o}return gs(t,e),t.prototype.setTheme=function(n,i,o,s){this.vditor.options.theme=n,Ae(this.vditor),i&&(this.vditor.options.preview.theme.current=i,(0,be.Z)(i,s||this.vditor.options.preview.theme.path)),o&&(this.vditor.options.preview.hljs.style=o,(0,Hr.Y)(o,this.vditor.options.cdn))},t.prototype.getValue=function(){return h(this.vditor)},t.prototype.getCurrentMode=function(){return this.vditor.currentMode},t.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},t.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},t.prototype.disabled=function(){M(this.vditor,["subToolbar","hint","popover"]),N(this.vditor.toolbar.elements,l.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},t.prototype.enable=function(){C(this.vditor.toolbar.elements,l.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},t.prototype.getSelection=function(){return this.vditor.currentMode==="wysiwyg"?Nt(this.vditor.wysiwyg.element):this.vditor.currentMode==="sv"?Nt(this.vditor.sv.element):this.vditor.currentMode==="ir"?Nt(this.vditor.ir.element):void 0},t.prototype.renderPreview=function(n){this.vditor.preview.render(this.vditor,n)},t.prototype.getCursorPosition=function(){return(0,q.Ny)(this.vditor[this.vditor.currentMode].element)},t.prototype.isUploading=function(){return this.vditor.upload.isUploading},t.prototype.clearCache=function(){localStorage.removeItem(this.vditor.options.cache.id)},t.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},t.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},t.prototype.html2md=function(n){return this.vditor.lute.HTML2Md(n)},t.prototype.exportJSON=function(n){return this.vditor.lute.RenderJSON(n)},t.prototype.getHTML=function(){return Dr(this.vditor)},t.prototype.tip=function(n,i){this.vditor.tip.show(n,i)},t.prototype.setPreviewMode=function(n){Ln(n,this.vditor)},t.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},t.prototype.updateValue=function(n){document.execCommand("insertHTML",!1,n)},t.prototype.insertValue=function(n,i){i===void 0&&(i=!0);var o=(0,q.zh)(this.vditor);o.collapse(!0);var s=document.createElement("template");s.innerHTML=n,o.insertNode(s.content.cloneNode(!0)),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,i&&ye(this.vditor)):this.vditor.currentMode==="wysiwyg"?(this.vditor.wysiwyg.preventInput=!0,i&&Ft(this.vditor,getSelection().getRangeAt(0))):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,i&&ke(this.vditor,getSelection().getRangeAt(0),!0))},t.prototype.setValue=function(n,i){var o=this;i===void 0&&(i=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>"+this.vditor.lute.SpinVditorSVDOM(n)+"</div>",Re(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?ir(this.vditor,n,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(n),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(s){he(s,o.vditor)}),et(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),n||(M(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),i&&this.clearStack()},t.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},t.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var n=document.getElementById("vditorIconScript");n&&n.remove(),this.clearCache(),ge(),this.vditor.wysiwyg.unbindListener()},t.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},t.prototype.hlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var i=function(o){o.classList.remove("vditor-comment--hover"),n.forEach(function(s){o.getAttribute("data-cmtids").indexOf(s)>-1&&o.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(o){i(o)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(o){i(o)})}},t.prototype.unHlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var i=function(o){n.forEach(function(s){o.getAttribute("data-cmtids").indexOf(s)>-1&&o.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(o){i(o)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(o){i(o)})}},t.prototype.removeCommentIds=function(n){var i=this;if(this.vditor.currentMode==="wysiwyg"){var o=function(s,d){var x=s.getAttribute("data-cmtids").split(" ");x.find(function(L,S){if(L===d)return x.splice(S,1),!0}),x.length===0?(s.outerHTML=s.innerHTML,(0,q.zh)(i.vditor).collapse(!0)):s.setAttribute("data-cmtids",x.join(" "))};n.forEach(function(s){i.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(d){o(d,s)}),i.vditor.preview.element.style.display!=="none"&&i.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(d){o(d,s)})}),Le(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},t.prototype.init=function(n,i){var o=this;this.vditor={currentMode:i.mode,element:n,hint:new ui(i.hint.extend),lute:void 0,options:i,originalInnerHTML:n.innerHTML,outline:new fi(window.VditorI18n.outline),tip:new bi},this.vditor.sv=new gi(this.vditor),this.vditor.undo=new fs,this.vditor.wysiwyg=new vs(this.vditor),this.vditor.ir=new di(this.vditor),this.vditor.toolbar=new ds(this.vditor),i.resize.enable&&(this.vditor.resize=new vi(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new y),(i.upload.url||i.upload.handler)&&(this.vditor.upload=new ti),(0,f.G)(i._lutePath||i.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){o.vditor.lute=(0,pi.X)({autoSpace:o.vditor.options.preview.markdown.autoSpace,codeBlockPreview:o.vditor.options.preview.markdown.codeBlockPreview,emojiSite:o.vditor.options.hint.emojiPath,emojis:o.vditor.options.hint.emoji,fixTermTypo:o.vditor.options.preview.markdown.fixTermTypo,footnotes:o.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:o.vditor.options.preview.math.inlineDigit,linkBase:o.vditor.options.preview.markdown.linkBase,linkPrefix:o.vditor.options.preview.markdown.linkPrefix,listStyle:o.vditor.options.preview.markdown.listStyle,mark:o.vditor.options.preview.markdown.mark,mathBlockPreview:o.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:o.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:o.vditor.options.preview.markdown.sanitize,toc:o.vditor.options.preview.markdown.toc}),o.vditor.preview=new mi(o.vditor),function(s){s.element.innerHTML="",s.element.classList.add("vditor"),s.options.rtl&&s.element.setAttribute("dir","rtl"),Ae(s),(0,be.Z)(s.options.preview.theme.current,s.options.preview.theme.path),typeof s.options.height=="number"?s.element.style.height=s.options.height+"px":s.element.style.height=s.options.height,typeof s.options.minHeight=="number"&&(s.element.style.minHeight=s.options.minHeight+"px"),typeof s.options.width=="number"?s.element.style.width=s.options.width+"px":s.element.style.width=s.options.width,s.element.appendChild(s.toolbar.element);var d=document.createElement("div");if(d.className="vditor-content",s.options.outline.position==="left"&&d.appendChild(s.outline.element),d.appendChild(s.wysiwyg.element.parentElement),d.appendChild(s.sv.element),d.appendChild(s.ir.element.parentElement),d.appendChild(s.preview.element),s.toolbar.elements.devtools&&d.appendChild(s.devtools.element),s.options.outline.position==="right"&&(s.outline.element.classList.add("vditor-outline--right"),d.appendChild(s.outline.element)),s.upload&&d.appendChild(s.upload.element),s.options.resize.enable&&d.appendChild(s.resize.element),d.appendChild(s.hint.element),d.appendChild(s.tip.element),s.element.appendChild(d),d.addEventListener("click",function(){M(s,["subToolbar"])}),s.toolbar.elements.export&&s.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),ct(s,s.options.mode,Wo(s)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&window.visualViewport!==void 0){var x=!1,L=function(S){x||(x=!0,requestAnimationFrame(function(){x=!1;var A=s.toolbar.element;A.style.transform="none",A.getBoundingClientRect().top<0&&(A.style.transform="translate(0, "+-A.getBoundingClientRect().top+"px)")}))};window.visualViewport.addEventListener("scroll",L),window.visualViewport.addEventListener("resize",L)}}(o.vditor),i.after&&i.after(),i.icon&&(0,f.J)(i.cdn+"/dist/js/icons/"+i.icon+".js","vditorIconScript")})},t}(m.default)})(),g=g.default})()})})($o);var m6=$o.exports;const v6=rn(m6);const g6={class:"wrapper-comments"},b6=Ne("div",{class:"title"},[Ot(" 评论一番 "),Ne("span",null,"基于 GitHub Issues")],-1),y6={key:0,class:"no-login"},w6=["href"],_6={key:0,class:"cell"},k6={class:"meta"},E6=["href"],x6=["src","alt"],C6=["href"],S6={class:"content"},A6={class:"reply"},L6={class:"meta"},T6=["href"],M6=["src","alt"],D6=["href"],N6=["innerHTML"],H6={key:2,id:"vditor"},q6={key:4,class:"to-gitee"},O6=["href"],R6={__name:"Issue",setup(u){st.extend(fa),st.locale("zh-cn");let r;const a=new h6,{page:v}=Ct(),b=Xt(null),g=Xt(null),E=Xt(!1),m=async()=>{try{const y=await Js();if(!y||!y.data||(g.value=y.data.find(({title:w})=>v.value.relativePath.indexOf(w)>-1||w.indexOf(v.value.title)>-1),!g.value||!g.value.number))return;const{data:p}=await Fr(g.value.number)||{};g.value.c_list=p.map(w=>({...w,body:a.render(w.body)}))}catch{E.value=!0}},l=async y=>{if(g.value&&g.value.number){await Xs(g.value.number,y);const{data:p}=await Fr(g.value.number)||{};g.value.c_list=p.map(w=>({...w,body:a.render(w.body)}))}else{const p=v.value.title;await Qs(p,y),m()}},c=()=>{const y=r==null?void 0:r.getValue();!y||y===`
`?Vs("输入评论内容才能发表啊！"):(l(y),r==null||r.setValue(""))};So(async()=>{b.value=Gs(Ws)});const h=Vn(()=>g.value&&(g.value.body||g.value.c_list.length)),f=Vn(()=>b.value&&JSON.stringify(_s(b.value))!=="{}"&&!E.value);return Un(v,()=>{Ks(Zs,v.value.relativePath||"/"),m()},{immediate:!0}),Un(f,y=>{y&&ws(()=>{r=new v6("vditor",{toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","table","|","undo","redo","fullscreen","|"],hint:{emoji:{nice:"👍",bad:"👎",stare:"👀️",tada:"🎉️",laugh:"🤣",love:"🥰",heart:"❤️"}}})})}),(y,p)=>{const w=Ao("ClientOnly");return Ie(),Be("div",g6,[b6,je(f)?it("",!0):(Ie(),Be("div",y6,[Je(w,null,{default:dt(()=>[Ot(" 请 "),Ne("a",{href:je(Ys)()},"登录你的 GitHub 账号",8,w6),Ot(" 后发表评论 ")]),_:1})])),je(h)?(Ie(),Be(Qt,{key:1},[g.value.body?(Ie(),Be("div",_6,[Ne("div",k6,[Ne("a",{class:"avatar",href:g.value.user.html_url},[Ne("img",{src:g.value.user.avatar_url,alt:g.value.user.name},null,8,x6)],8,E6),Ne("a",{class:"name",href:g.value.user.html_url},We(g.value.user.name),9,C6),Ne("span",null,We(je(st)(g.value.created_at).format("YYYY-MM-DD HH:mm:ss"))+" / "+We(je(st)(g.value.created_at).fromNow())+" 发起话题",1),Ne("em",null,"#"+We(g.value.number),1),Ne("em",null,We(g.value.state),1)]),Ne("div",S6,We(g.value.body),1)])):it("",!0),Ne("div",A6,[(Ie(!0),Be(Qt,null,Co(g.value.c_list,k=>(Ie(),Be("div",{class:"cell",key:k.id},[Ne("div",L6,[Ne("a",{class:"avatar",href:k.user.url},[Ne("img",{src:k.user.avatar_url,alt:k.user.name},null,8,M6)],8,T6),Ne("a",{class:"name",href:g.value.user.url},We(k.user.name),9,D6),Ne("span",null,We(je(st)(k.created_at).format("YYYY-MM-DD HH:mm:ss"))+" / "+We(je(st)(k.created_at).fromNow()),1)]),Ne("div",{class:"content md-preview",innerHTML:k.body},null,8,N6)]))),128))])],64)):it("",!0),je(f)?(Ie(),Be("div",H6)):it("",!0),je(f)?(Ie(),Be("span",{key:3,class:"btn-add",onClick:c},"发表")):it("",!0),je(h)?(Ie(),Be("div",q6,[Ot("> "),Ne("a",{href:g.value.html_url},"到 GitHub Issues 表扬作者",8,O6)])):it("",!0)])}}},I6={class:"doc-before-wrapper"},P6={__name:"CustomSlot",setup(u){const{Layout:r}=Lo;return(a,v)=>{const b=Ao("ClientOnly");return Ie(),Br(je(r),null,{"aside-ads-before":dt(()=>[Je(na)]),"home-hero-after":dt(()=>[Je(oa)]),"doc-before":dt(()=>[Ne("div",I6,[Je(ua),Je(sa)])]),"doc-after":dt(()=>[Je(b,null,{default:dt(()=>[(Ie(),Br(ks,null,{default:dt(()=>[Je(R6)]),_:1}))]),_:1})]),_:1})}}};const j6={...Lo,Layout:P6};function Go(u){if(u.extends){const r=Go(u.extends);return{...r,...u,async enhanceApp(a){r.enhanceApp&&await r.enhanceApp(a),u.enhanceApp&&await u.enhanceApp(a)}}}return u}const xt=Go(j6),B6=Es({name:"VitePressApp",setup(){const{site:u}=Ct();return So(()=>{Cs(()=>{document.documentElement.lang=u.value.lang,document.documentElement.dir=u.value.dir})}),Ss(),As(),Ls(),xt.setup&&xt.setup(),()=>Ts(xt.Layout)}});async function F6(){const u=U6(),r=z6();r.provide(Ms,u);const a=Ds(u.route);return r.provide(Ns,a),r.component("Content",Hs),r.component("ClientOnly",qs),Object.defineProperties(r.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),xt.enhanceApp&&await xt.enhanceApp({app:r,router:u,siteData:Os}),{app:r,router:u,data:a}}function z6(){return Rs(B6)}function U6(){let u=$n,r;return Is(a=>{let v=Ps(a);return u&&(r=v),(u||r===v)&&(v=v.replace(/\.js$/,".lean.js")),$n&&(u=!1),js(()=>import(v),[])},xt.NotFound)}$n&&F6().then(({app:u,router:r,data:a})=>{r.go().then(()=>{xs(r.route,a.site),u.mount("#app")})});export{F6 as createApp};
