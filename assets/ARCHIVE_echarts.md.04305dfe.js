import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.9630cdb1.js";const b=JSON.parse('{"title":"ECHARTS 代码片段","description":"","frontmatter":{"title":"ECHARTS 代码片段","updateTime":"2019/01/25"},"headers":[],"relativePath":"ARCHIVE/echarts.md","filePath":"ARCHIVE/echarts.md","lastUpdated":1702135941000}'),p={name:"ARCHIVE/echarts.md"},o=l(`<p><a href="https://echarts.baidu.com/" target="_blank" rel="noreferrer">官方网站</a>上各种示例、配置接口文档、社区生态链接及为详尽。<br> 地图数据很常用，<strong>因故</strong>在官网下架，但还是能找到，比如<a href="https://github.com/apache/incubator-echarts/tree/master/map" target="_blank" rel="noreferrer">GitHub</a></p><h2 id="图表初始化或重载配置" tabindex="-1">图表初始化或重载配置 <a class="header-anchor" href="#图表初始化或重载配置" aria-label="Permalink to &quot;图表初始化或重载配置&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">option</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {}</span><span style="color:#6A737D;">//配置数据，需要预定义好</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">CHART_HEIGHT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">650</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">dom</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;echartBox&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> ecInst </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> echarts.</span><span style="color:#B392F0;">getInstanceByDom</span><span style="color:#E1E4E8;">(dom)</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;"> ecInst) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    ecInst </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> echarts.</span><span style="color:#B392F0;">init</span><span style="color:#E1E4E8;">(dom, </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, {height: </span><span style="color:#79B8FF;">CHART_HEIGHT</span><span style="color:#E1E4E8;">})</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    ecInst.</span><span style="color:#B392F0;">clear</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">//清空已有图形缓存</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">ecInst.</span><span style="color:#B392F0;">setOption</span><span style="color:#E1E4E8;">(option)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">option</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {}</span><span style="color:#6A737D;">//配置数据，需要预定义好</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">CHART_HEIGHT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">650</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">dom</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">getElementById</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;echartBox&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> ecInst </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> echarts.</span><span style="color:#6F42C1;">getInstanceByDom</span><span style="color:#24292E;">(dom)</span></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;"> ecInst) {</span></span>
<span class="line"><span style="color:#24292E;">    ecInst </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> echarts.</span><span style="color:#6F42C1;">init</span><span style="color:#24292E;">(dom, </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, {height: </span><span style="color:#005CC5;">CHART_HEIGHT</span><span style="color:#24292E;">})</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    ecInst.</span><span style="color:#6F42C1;">clear</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">//清空已有图形缓存</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">ecInst.</span><span style="color:#6F42C1;">setOption</span><span style="color:#24292E;">(option)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="图表响应页面宽度变化" tabindex="-1">图表响应页面宽度变化 <a class="header-anchor" href="#图表响应页面宽度变化" aria-label="Permalink to &quot;图表响应页面宽度变化&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">//就是这么简单，却是一个很重要的控制，应该默认就带上</span></span>
<span class="line"><span style="color:#6A737D;">//ecInst 假定已获取好</span></span>
<span class="line"><span style="color:#E1E4E8;">window.</span><span style="color:#B392F0;">onresize</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  ecInst.</span><span style="color:#B392F0;">resize</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//就是这么简单，却是一个很重要的控制，应该默认就带上</span></span>
<span class="line"><span style="color:#6A737D;">//ecInst 假定已获取好</span></span>
<span class="line"><span style="color:#24292E;">window.</span><span style="color:#6F42C1;">onresize</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  ecInst.</span><span style="color:#6F42C1;">resize</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,5),e=[o];function t(c,r,E,y,i,d){return n(),a("div",null,e)}const h=s(p,[["render",t]]);export{b as __pageData,h as default};
